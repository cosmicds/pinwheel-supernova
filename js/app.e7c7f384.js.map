{"version":3,"file":"js/app.e7c7f384.js","mappings":"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","sources":["webpack://@cosmicds/pinwheel-supernova/./src/M101SN.vue?57ca","webpack://@cosmicds/pinwheel-supernova/./src/M101SN.vue","webpack://@cosmicds/pinwheel-supernova/./src/wwt-hacks.ts","webpack://@cosmicds/pinwheel-supernova/./src/m101.ts","webpack://@cosmicds/pinwheel-supernova/./src/aavsolightcurve.ts","webpack://@cosmicds/pinwheel-supernova/./src/M101SN.vue?6347","webpack://@cosmicds/pinwheel-supernova/./src/FolderView.vue?1453","webpack://@cosmicds/pinwheel-supernova/./src/FolderView.vue","webpack://@cosmicds/pinwheel-supernova/./src/FolderView.vue?8e4b","webpack://@cosmicds/pinwheel-supernova/./src/Credits.vue?8c71","webpack://@cosmicds/pinwheel-supernova/./src/Credits.vue","webpack://@cosmicds/pinwheel-supernova/./src/Credits.vue?2d31","webpack://@cosmicds/pinwheel-supernova/./src/Toggle.vue?976d","webpack://@cosmicds/pinwheel-supernova/./src/Toggle.vue","webpack://@cosmicds/pinwheel-supernova/./src/Toggle.vue?1c4a","webpack://@cosmicds/pinwheel-supernova/./src/TransitionExpand.vue?cf6c","webpack://@cosmicds/pinwheel-supernova/./src/TransitionExpand.vue","webpack://@cosmicds/pinwheel-supernova/./src/TransitionExpand.vue?c476","webpack://@cosmicds/pinwheel-supernova/./src/chartjs-scatter.vue?f3b9","webpack://@cosmicds/pinwheel-supernova/./src/chartjs-scatter.vue","webpack://@cosmicds/pinwheel-supernova/./src/chartjs-scatter.vue?6ec0","webpack://@cosmicds/pinwheel-supernova/./src/d3-scatter.vue?1281","webpack://@cosmicds/pinwheel-supernova/./src/d3-scatter.vue","webpack://@cosmicds/pinwheel-supernova/./src/d3-scatter.vue?c348","webpack://@cosmicds/pinwheel-supernova/./src/ConstellationIcon.vue?a431","webpack://@cosmicds/pinwheel-supernova/./src/ConstellationIcon.vue","webpack://@cosmicds/pinwheel-supernova/./src/ConstellationIcon.vue?072e","webpack://@cosmicds/pinwheel-supernova/./src/ConstellationIcon.vue?a674","webpack://@cosmicds/pinwheel-supernova/./plugins/vuetify.ts","webpack://@cosmicds/pinwheel-supernova/./src/assets/constellation_icon.ts","webpack://@cosmicds/pinwheel-supernova/./src/main.ts","webpack://@cosmicds/pinwheel-supernova/./src/polyfills.ts","webpack://@cosmicds/pinwheel-supernova/webpack/bootstrap","webpack://@cosmicds/pinwheel-supernova/webpack/runtime/chunk loaded","webpack://@cosmicds/pinwheel-supernova/webpack/runtime/compat get default export","webpack://@cosmicds/pinwheel-supernova/webpack/runtime/define property getters","webpack://@cosmicds/pinwheel-supernova/webpack/runtime/global","webpack://@cosmicds/pinwheel-supernova/webpack/runtime/hasOwnProperty shorthand","webpack://@cosmicds/pinwheel-supernova/webpack/runtime/make namespace object","webpack://@cosmicds/pinwheel-supernova/webpack/runtime/publicPath","webpack://@cosmicds/pinwheel-supernova/webpack/runtime/jsonp chunk loading","webpack://@cosmicds/pinwheel-supernova/webpack/startup"],"sourcesContent":["import { resolveComponent as _resolveComponent, normalizeClass as _normalizeClass, createVNode as _createVNode, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, normalizeStyle as _normalizeStyle, withCtx as _withCtx, vShow as _vShow, withDirectives as _withDirectives, Transition as _Transition, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, withKeys as _withKeys, createElementBlock as _createElementBlock } from \"vue\"\nimport _imports_0 from './assets/sntyp.gif'\n\n\nconst _hoisted_1 = { id: \"main-content\" }\nconst _hoisted_2 = { id: \"first-splash-row\" }\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"div\", { id: \"splash-screen-text\" }, [\n  /*#__PURE__*/_createElementVNode(\"p\", null, \" See a \"),\n  /*#__PURE__*/_createElementVNode(\"p\", { class: \"highlight\" }, \" Star Explode \"),\n  /*#__PURE__*/_createElementVNode(\"p\", { class: \"small\" }, \" in a galaxy far, far away... \")\n], -1)\nconst _hoisted_4 = { id: \"splash-screen-guide\" }\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1)\nconst _hoisted_6 = { id: \"splash-screen-acknowledgements\" }\nconst _hoisted_7 = /*#__PURE__*/_createElementVNode(\"a\", {\n  href: \"https://www.cosmicds.cfa.harvard.edu/\",\n  target: \"_blank\",\n  rel: \"noopener noreferrer\"\n}, \"Cosmic Data Stories\", -1)\nconst _hoisted_8 = /*#__PURE__*/_createElementVNode(\"a\", {\n  href: \"https://www.worldwidetelescope.org/home/\",\n  target: \"_blank\",\n  rel: \"noopener noreferrer\"\n}, \"WorldWide Telescope\", -1)\nconst _hoisted_9 = { id: \"splash-screen-icons\" }\nconst _hoisted_10 = {\n  class: \"modal\",\n  id: \"modal-loading\"\n}\nconst _hoisted_11 = /*#__PURE__*/_createElementVNode(\"div\", { class: \"container\" }, [\n  /*#__PURE__*/_createElementVNode(\"div\", { class: \"spinner\" }),\n  /*#__PURE__*/_createElementVNode(\"p\", null, \"Loading …\")\n], -1)\nconst _hoisted_12 = [\n  _hoisted_11\n]\nconst _hoisted_13 = { class: \"top-content\" }\nconst _hoisted_14 = { id: \"center-buttons\" }\nconst _hoisted_15 = { id: \"left-buttons\" }\nconst _hoisted_16 = { class: \"right-content\" }\nconst _hoisted_17 = { class: \"bottom-content\" }\nconst _hoisted_18 = { id: \"tools\" }\nconst _hoisted_19 = { id: \"button-text\" }\nconst _hoisted_20 = { id: \"chart-container\" }\nconst _hoisted_21 = /*#__PURE__*/_createElementVNode(\"div\", { id: \"chart-title\" }, \" Supernova Light Curve (Change in Brightness Over Time) \", -1)\nconst _hoisted_22 = /*#__PURE__*/_createElementVNode(\"div\", { id: \"yaxis-text\" }, [\n  /*#__PURE__*/_createTextVNode(\" Supernova \"),\n  /*#__PURE__*/_createElementVNode(\"br\"),\n  /*#__PURE__*/_createTextVNode(\" Brightness \")\n], -1)\nconst _hoisted_23 = /*#__PURE__*/_createElementVNode(\"div\", { id: \"xaxis-text\" }, \" Time \", -1)\nconst _hoisted_24 = { class: \"tool-container\" }\nconst _hoisted_25 = /*#__PURE__*/_createElementVNode(\"span\", { class: \"play-icon-text\" }, \"Watch over time \", -1)\nconst _hoisted_26 = { class: \"opacity-slider-wrapper\" }\nconst _hoisted_27 = /*#__PURE__*/_createElementVNode(\"span\", null, \"Change image opacity\", -1)\nconst _hoisted_28 = { class: \"video-wrapper\" }\nconst _hoisted_29 = /*#__PURE__*/_createElementVNode(\"iframe\", {\n  height: \"700\",\n  id: \"info-video\",\n  src: \"https://www.youtube.com/embed/CY2XMeY8w3w?&autoplay=1\",\n  title: \"YouTube video player\",\n  frameborder: \"0\",\n  allow: \"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share\",\n  allowfullscreen: \"\"\n}, null, -1)\nconst _hoisted_30 = /*#__PURE__*/_createElementVNode(\"div\", { class: \"text-center\" }, \" Move around the map and double-click to change location \", -1)\nconst _hoisted_31 = { class: \"text-center red--text\" }\nconst _hoisted_32 = /*#__PURE__*/_createElementVNode(\"div\", { id: \"map-container\" }, null, -1)\nconst _hoisted_33 = /*#__PURE__*/_createElementVNode(\"h3\", null, \"Information\", -1)\nconst _hoisted_34 = /*#__PURE__*/_createElementVNode(\"h3\", null, \"Using WWT\", -1)\nconst _hoisted_35 = /*#__PURE__*/_createElementVNode(\"h3\", null, [\n  /*#__PURE__*/_createElementVNode(\"i\", null, \"Something new has burst onto the scene in the Pinwheel Galaxy!\")\n], -1)\nconst _hoisted_36 = /*#__PURE__*/_createElementVNode(\"p\", null, [\n  /*#__PURE__*/_createTextVNode(\" On May 19, 2023 - renowned supernova hunter \"),\n  /*#__PURE__*/_createElementVNode(\"a\", {\n    href: \"https://www.scientificamerican.com/article/astronomers-have-spotted-a-once-in-a-decade-supernova-and-you-can-too/\",\n    target: \"_blank\",\n    rel: \"noopener noreferrer\"\n  }, \"Koichi Itagaki discovered\"),\n  /*#__PURE__*/_createTextVNode(\" a new bright object in the very nearby Pinwheel Galaxy (also known as M101). This bright object was a \"),\n  /*#__PURE__*/_createElementVNode(\"strong\", null, \"new supernova\"),\n  /*#__PURE__*/_createTextVNode(\". \")\n], -1)\nconst _hoisted_37 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1)\nconst _hoisted_38 = /*#__PURE__*/_createElementVNode(\"h3\", null, \"What is a Supernova?\", -1)\nconst _hoisted_39 = /*#__PURE__*/_createElementVNode(\"p\", null, [\n  /*#__PURE__*/_createTextVNode(\" A \"),\n  /*#__PURE__*/_createElementVNode(\"strong\", null, \"supernova\"),\n  /*#__PURE__*/_createTextVNode(\" is an extremely bright, energetic explosion of a star. They are so bright that you can see when they occur in galaxies millions of light years away. \")\n], -1)\nconst _hoisted_40 = /*#__PURE__*/_createElementVNode(\"p\", null, \" There are two situations which trigger a supernova— a very large star (8+ times our Sun's mass) runs out of fuel and then blows up; or a white dwarf (the remnants of stars like our Sun) pulls enough extra gas onto itself from a companion star that it blows up. \", -1)\nconst _hoisted_41 = /*#__PURE__*/_createElementVNode(\"p\", null, [\n  /*#__PURE__*/_createTextVNode(\" The first type of supernova is called a \"),\n  /*#__PURE__*/_createElementVNode(\"a\", {\n    href: \"https://astronomy.swin.edu.au/cosmos/c/core-collapse\",\n    target: \"_blank\",\n    rel: \"noopener noreferrer\"\n  }, \"core-collapse supernova\"),\n  /*#__PURE__*/_createTextVNode(\" (Type II) and can teach us about the evolution and environment of massive stars. The second type (\"),\n  /*#__PURE__*/_createElementVNode(\"a\", {\n    href: \"https://astronomy.swin.edu.au/cosmos/T/Type+Ia+Supernova\",\n    target: \"_blank\",\n    rel: \"noopener noreferrer\"\n  }, \"Type Ia\"),\n  /*#__PURE__*/_createTextVNode(\") have predictable brightness and are used to measure the cosmological expansion of the universe. \")\n], -1)\nconst _hoisted_42 = /*#__PURE__*/_createElementVNode(\"h3\", null, \"The Brightness Graph\", -1)\nconst _hoisted_43 = /*#__PURE__*/_createElementVNode(\"p\", null, [\n  /*#__PURE__*/_createTextVNode(\" Astronomers graph how a supernova's brightness changes over time (called a \"),\n  /*#__PURE__*/_createElementVNode(\"strong\", null, \"lightcurve\"),\n  /*#__PURE__*/_createTextVNode(\") to distinguish between the two main types of supernovae. Type II are characterized by a rapid rise followed by a plateau and or gradual dimming. Type I have a rapid rise followed by a more rapid dimming. \")\n], -1)\nconst _hoisted_44 = /*#__PURE__*/_createElementVNode(\"img\", { src: _imports_0 }, null, -1)\nconst _hoisted_45 = /*#__PURE__*/_createElementVNode(\"p\", null, [\n  /*#__PURE__*/_createTextVNode(\" You can learn about other types of supernovae \"),\n  /*#__PURE__*/_createElementVNode(\"a\", {\n    href: \"https://astrobites.org/2016/12/02/classifying-supernovae/\",\n    target: \"_blank\",\n    rel: \"noopener noreferrer\"\n  }, \"here\"),\n  /*#__PURE__*/_createTextVNode(\". \")\n], -1)\nconst _hoisted_46 = /*#__PURE__*/_createElementVNode(\"strong\", null, \"What type of supernova do you think the one in the Pinwheel Galaxy is?\", -1)\nconst _hoisted_47 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1)\nconst _hoisted_48 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1)\nconst _hoisted_49 = { key: 1 }\nconst _hoisted_50 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1)\nconst _hoisted_51 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1)\nconst _hoisted_52 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1)\nconst _hoisted_53 = { class: \"credits\" }\nconst _hoisted_54 = /*#__PURE__*/_createElementVNode(\"h3\", null, \"Credits:\", -1)\nconst _hoisted_55 = /*#__PURE__*/_createElementVNode(\"h4\", null, \" MicroObservatory:\", -1)\nconst _hoisted_56 = /*#__PURE__*/_createElementVNode(\"p\", null, [\n  /*#__PURE__*/_createTextVNode(\" The images shown in the \\\"Watch over time\\\" sequence were taken with \"),\n  /*#__PURE__*/_createElementVNode(\"a\", {\n    href: \"https://mo-www.cfa.harvard.edu/MicroObservatory/\",\n    target: \"_blank\",\n    rel: \"noopener noreferrer\"\n  }, \"MicroObservatory\"),\n  /*#__PURE__*/_createTextVNode(\". We use them here because they observe the Pinwheel Galaxy every night in a consistent way. (Dates without MicroObservatory images had bad weather). \")\n], -1)\nconst _hoisted_57 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1)\nconst _hoisted_58 = /*#__PURE__*/_createElementVNode(\"h4\", null, \" MicroObservatory Images and Data Processing:\", -1)\nconst _hoisted_59 = /*#__PURE__*/_createElementVNode(\"p\", null, [\n  /*#__PURE__*/_createTextVNode(\"Martin Fowler (\"),\n  /*#__PURE__*/_createElementVNode(\"a\", {\n    href: \"https://solarsystem.nasa.gov/people/647/martin-fowler/\",\n    target: \"_blank\",\n    rel: \"noopener noreferrer\"\n  }, \"NASA Citizen Scientist\"),\n  /*#__PURE__*/_createTextVNode(\")\")\n], -1)\nconst _hoisted_60 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1)\nconst _hoisted_61 = /*#__PURE__*/_createElementVNode(\"h4\", null, [\n  /*#__PURE__*/_createElementVNode(\"a\", {\n    href: \"https://www.cosmicds.cfa.harvard.edu/\",\n    target: \"_blank\",\n    rel: \"noopener noreferrer\"\n  }, \"CosmicDS\"),\n  /*#__PURE__*/_createTextVNode(\" Team:\")\n], -1)\nconst _hoisted_62 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1)\nconst _hoisted_63 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1)\nconst _hoisted_64 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1)\nconst _hoisted_65 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1)\nconst _hoisted_66 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1)\nconst _hoisted_67 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1)\nconst _hoisted_68 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1)\nconst _hoisted_69 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1)\nconst _hoisted_70 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1)\nconst _hoisted_71 = /*#__PURE__*/_createElementVNode(\"h4\", null, \"WorldWide Telescope Team:\", -1)\nconst _hoisted_72 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1)\nconst _hoisted_73 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1)\nconst _hoisted_74 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1)\nconst _hoisted_75 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1)\nconst _hoisted_76 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1)\nconst _hoisted_77 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1)\nconst _hoisted_78 = { style: {\"min-height\":\"120px\"} }\nconst _hoisted_79 = /*#__PURE__*/_createElementVNode(\"h4\", null, \"Tips:\", -1)\nconst _hoisted_80 = { class: \"text-list\" }\nconst _hoisted_81 = /*#__PURE__*/_createElementVNode(\"li\", null, \" Adjust the date slider at the bottom to move to a specific time. \", -1)\nconst _hoisted_82 = /*#__PURE__*/_createElementVNode(\"li\", null, \" Click \\\"Show supernova brightness graph\\\" to see how its brightness changes with time. \", -1)\nconst _hoisted_83 = /*#__PURE__*/_createElementVNode(\"li\", null, \" Click the Image Gallery to see higher resolution images of the galaxy. \", -1)\nconst _hoisted_84 = /*#__PURE__*/_createElementVNode(\"li\", null, \" Use the \\\"Change image opacity\\\" slider to change the tranparency of the overlaid. \", -1)\nconst _hoisted_85 = /*#__PURE__*/_createElementVNode(\"li\", null, \" Choose whether to display constellations or the arrow pointing to the supernova. \", -1)\nconst _hoisted_86 = /*#__PURE__*/_createElementVNode(\"li\", null, \" Re-center the view on the Pinwheel Galaxy's location \\\"now\\\" or Play the supernova images, in order, over time \", -1)\nconst _hoisted_87 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1)\nconst _hoisted_88 = /*#__PURE__*/_createElementVNode(\"div\", { class: \"credits\" }, [\n  /*#__PURE__*/_createElementVNode(\"h3\", null, \"Credits:\"),\n  /*#__PURE__*/_createElementVNode(\"h4\", null, [\n    /*#__PURE__*/_createElementVNode(\"a\", {\n      href: \"https://www.cosmicds.cfa.harvard.edu/\",\n      target: \"_blank\",\n      rel: \"noopener noreferrer\"\n    }, \"CosmicDS\"),\n    /*#__PURE__*/_createTextVNode(\" Team:\")\n  ]),\n  /*#__PURE__*/_createTextVNode(\" John Lewis\"),\n  /*#__PURE__*/_createElementVNode(\"br\"),\n  /*#__PURE__*/_createTextVNode(\" Jon Carifio\"),\n  /*#__PURE__*/_createElementVNode(\"br\"),\n  /*#__PURE__*/_createTextVNode(\" Pat Udomprasert\"),\n  /*#__PURE__*/_createElementVNode(\"br\"),\n  /*#__PURE__*/_createTextVNode(\" Alyssa Goodman\"),\n  /*#__PURE__*/_createElementVNode(\"br\"),\n  /*#__PURE__*/_createTextVNode(\" Mary Dussault\"),\n  /*#__PURE__*/_createElementVNode(\"br\"),\n  /*#__PURE__*/_createTextVNode(\" Harry Houghton\"),\n  /*#__PURE__*/_createElementVNode(\"br\"),\n  /*#__PURE__*/_createTextVNode(\" Anna Nolin\"),\n  /*#__PURE__*/_createElementVNode(\"br\"),\n  /*#__PURE__*/_createTextVNode(\" Evaluator: Sue Sunbury\"),\n  /*#__PURE__*/_createElementVNode(\"br\"),\n  /*#__PURE__*/_createElementVNode(\"br\"),\n  /*#__PURE__*/_createElementVNode(\"h4\", null, \"WorldWide Telescope Team:\"),\n  /*#__PURE__*/_createTextVNode(\" Peter Williams\"),\n  /*#__PURE__*/_createElementVNode(\"br\"),\n  /*#__PURE__*/_createTextVNode(\" A. David Weigel\"),\n  /*#__PURE__*/_createElementVNode(\"br\"),\n  /*#__PURE__*/_createTextVNode(\" Jon Carifio\"),\n  /*#__PURE__*/_createElementVNode(\"br\")\n], -1)\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_WorldWideTelescope = _resolveComponent(\"WorldWideTelescope\")!\n  const _component_font_awesome_icon = _resolveComponent(\"font-awesome-icon\")!\n  const _component_story_credits = _resolveComponent(\"story-credits\")!\n  const _component_v_overlay = _resolveComponent(\"v-overlay\")!\n  const _component_icon_button = _resolveComponent(\"icon-button\")!\n  const _component_gallery = _resolveComponent(\"gallery\")!\n  const _component_v_btn = _resolveComponent(\"v-btn\")!\n  const _component_chartjs_scatter = _resolveComponent(\"chartjs-scatter\")!\n  const _component_vue_slider = _resolveComponent(\"vue-slider\")!\n  const _component_v_dialog = _resolveComponent(\"v-dialog\")!\n  const _component_v_card = _resolveComponent(\"v-card\")!\n  const _component_v_tab = _resolveComponent(\"v-tab\")!\n  const _component_v_tabs = _resolveComponent(\"v-tabs\")!\n  const _component_funding_acknowledgment = _resolveComponent(\"funding-acknowledgment\")!\n  const _component_v_spacer = _resolveComponent(\"v-spacer\")!\n  const _component_v_card_text = _resolveComponent(\"v-card-text\")!\n  const _component_v_window_item = _resolveComponent(\"v-window-item\")!\n  const _component_v_chip = _resolveComponent(\"v-chip\")!\n  const _component_v_col = _resolveComponent(\"v-col\")!\n  const _component_v_row = _resolveComponent(\"v-row\")!\n  const _component_v_container = _resolveComponent(\"v-container\")!\n  const _component_v_window = _resolveComponent(\"v-window\")!\n  const _component_notifications = _resolveComponent(\"notifications\")!\n  const _component_v_app = _resolveComponent(\"v-app\")!\n\n  return (_openBlock(), _createBlock(_component_v_app, {\n    id: \"app\",\n    style: _normalizeStyle(_ctx.cssVars)\n  }, {\n    default: _withCtx(() => [\n      _createElementVNode(\"div\", _hoisted_1, [\n        _createVNode(_component_WorldWideTelescope, {\n          \"wwt-namespace\": _ctx.wwtNamespace,\n          class: _normalizeClass({ pointer: _ctx.lastClosePt !== null }),\n          onPointermove: _ctx.onPointerMove,\n          onPointerup: _ctx.onPointerUp,\n          onPointerdown: _ctx.onPointerDown\n        }, null, 8, [\"wwt-namespace\", \"class\", \"onPointermove\", \"onPointerup\", \"onPointerdown\"]),\n        _createVNode(_component_v_overlay, {\n          \"model-value\": _ctx.showSplashScreen,\n          absolute: \"\",\n          opacity: \"0.6\",\n          style: _normalizeStyle(_ctx.cssVars),\n          id: \"splash-overlay\"\n        }, {\n          default: _withCtx(() => [\n            _createElementVNode(\"div\", {\n              id: \"splash-screen\",\n              style: _normalizeStyle(_ctx.cssVars)\n            }, [\n              _createElementVNode(\"div\", _hoisted_2, [\n                _createElementVNode(\"div\", {\n                  id: \"close-splash-button\",\n                  onClick: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.closeSplashScreen && _ctx.closeSplashScreen(...args)))\n                }, \"×\"),\n                _hoisted_3\n              ]),\n              _createElementVNode(\"div\", _hoisted_4, [\n                _createVNode(_component_font_awesome_icon, {\n                  id: \"text-icon\",\n                  icon: \"book-open\"\n                }),\n                _createTextVNode(\" Read the guide \"),\n                _hoisted_5,\n                _createVNode(_component_font_awesome_icon, {\n                  id: \"video-icon\",\n                  icon: \"video\"\n                }),\n                _createTextVNode(\" Watch the demo \")\n              ]),\n              _createElementVNode(\"div\", _hoisted_6, [\n                _createTextVNode(\" Brought to you by \"),\n                _hoisted_7,\n                _createTextVNode(\" and \"),\n                _hoisted_8,\n                _createTextVNode(\". \"),\n                _createElementVNode(\"div\", _hoisted_9, [\n                  _createVNode(_component_story_credits)\n                ])\n              ])\n            ], 4)\n          ]),\n          _: 1\n        }, 8, [\"model-value\", \"style\"]),\n        _createVNode(_Transition, { name: \"fade\" }, {\n          default: _withCtx(() => [\n            _withDirectives(_createElementVNode(\"div\", _hoisted_10, _hoisted_12, 512), [\n              [_vShow, _ctx.isLoading]\n            ])\n          ]),\n          _: 1\n        }),\n        _createElementVNode(\"div\", _hoisted_13, [\n          _createElementVNode(\"div\", _hoisted_14, [\n            false\n              ? (_openBlock(), _createBlock(_component_icon_button, {\n                  key: 0,\n                  modelValue: _ctx.showLocationSelector,\n                  \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((_ctx.showLocationSelector) = $event)),\n                  \"fa-icon\": \"location-pin\",\n                  color: _ctx.accentColor,\n                  focus: _ctx.accentColor2,\n                  \"tooltip-text\": \"Select location\",\n                  \"tooltip-location\": \"bottom\"\n                }, null, 8, [\"modelValue\", \"color\", \"focus\"]))\n              : _createCommentVNode(\"\", true)\n          ]),\n          _createElementVNode(\"div\", _hoisted_15, [\n            _createVNode(_component_icon_button, {\n              modelValue: _ctx.showTextSheet,\n              \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event: any) => ((_ctx.showTextSheet) = $event)),\n              \"fa-icon\": \"book-open\",\n              color: _ctx.accentColor,\n              \"tooltip-text\": _ctx.showTextSheet ? 'Hide Info' : 'Learn More',\n              \"tooltip-location\": \"start\"\n            }, null, 8, [\"modelValue\", \"color\", \"tooltip-text\"]),\n            _createVNode(_component_icon_button, {\n              modelValue: _ctx.showVideoSheet,\n              \"onUpdate:modelValue\": _cache[3] || (_cache[3] = ($event: any) => ((_ctx.showVideoSheet) = $event)),\n              \"fa-icon\": \"video\",\n              color: _ctx.accentColor,\n              \"tooltip-text\": \"Watch video\",\n              \"tooltip-location\": \"start\"\n            }, null, 8, [\"modelValue\", \"color\"]),\n            _createVNode(_component_icon_button, {\n              onActivate: _ctx.centerView,\n              \"fa-icon\": \"refresh\",\n              color: _ctx.accentColor,\n              \"tooltip-text\": \"Center the Pinwheel\",\n              \"tooltip-location\": \"start\"\n            }, null, 8, [\"onActivate\", \"color\"]),\n            _createVNode(_component_icon_button, {\n              modelValue: _ctx.showConstellations,\n              \"onUpdate:modelValue\": _cache[4] || (_cache[4] = ($event: any) => ((_ctx.showConstellations) = $event)),\n              color: _ctx.accentColor,\n              \"fa-icon\": \"constellation\",\n              \"tooltip-text\": _ctx.showConstellations ? 'Hide constellations' : 'Show constellations',\n              \"tooltip-location\": \"start\"\n            }, null, 8, [\"modelValue\", \"color\", \"tooltip-text\"]),\n            _createVNode(_component_icon_button, {\n              modelValue: _ctx.showArrow,\n              \"onUpdate:modelValue\": _cache[5] || (_cache[5] = ($event: any) => ((_ctx.showArrow) = $event)),\n              color: _ctx.accentColor,\n              \"fa-icon\": \"arrow-right\",\n              \"tooltip-text\": _ctx.showArrow ? 'Hide the arrow' : 'Show the arrow',\n              \"tooltip-location\": \"start\"\n            }, null, 8, [\"modelValue\", \"color\", \"tooltip-text\"])\n          ])\n        ]),\n        _createElementVNode(\"div\", _hoisted_16, [\n          _createVNode(_component_gallery, {\n            \"wtml-url\": \"https://raw.githubusercontent.com/johnarban/wwt_interactives/main/images/m101/gallery.wtml\",\n            width: \"1000px\",\n            \"single-select\": true,\n            title: \"Click Image to Overlay\",\n            \"closed-text\": \"Image Gallery\",\n            \"selected-color\": _ctx.accentColor,\n            style: _normalizeStyle(_ctx.cssVars),\n            \"preview-index\": 1,\n            onSelect: _ctx.onItemSelected,\n            onDeselect: _ctx.onItemDeselected\n          }, null, 8, [\"selected-color\", \"style\", \"onSelect\", \"onDeselect\"])\n        ]),\n        _createElementVNode(\"div\", _hoisted_17, [\n          _createElementVNode(\"div\", _hoisted_18, [\n            _createElementVNode(\"div\", {\n              id: \"chart-button\",\n              class: _normalizeClass([_ctx.chartVisible ? 'collapse-button': ''])\n            }, [\n              _createVNode(_component_v_btn, {\n                flat: \"\",\n                onClick: _cache[6] || (_cache[6] = ($event: any) => (_ctx.chartVisible = !_ctx.chartVisible)),\n                onKeyup: _cache[7] || (_cache[7] = _withKeys(($event: any) => (_ctx.chartVisible = !_ctx.chartVisible), [\"enter\"])),\n                color: _ctx.accentColor\n              }, {\n                default: _withCtx(() => [\n                  _createVNode(_component_font_awesome_icon, {\n                    id: \"chart-icon\",\n                    class: \"control-icon\",\n                    icon: _ctx.chartVisible ? 'circle-xmark' : 'chart-line',\n                    size: \"xl\"\n                  }, null, 8, [\"icon\"]),\n                  _createElementVNode(\"span\", _hoisted_19, _toDisplayString(_ctx.chartVisible ? 'Hide' : 'Show') + \" supernova brightness graph\", 1)\n                ]),\n                _: 1\n              }, 8, [\"color\"])\n            ], 2),\n            _withDirectives(_createElementVNode(\"div\", _hoisted_20, [\n              _hoisted_21,\n              _hoisted_22,\n              _createVNode(_component_chartjs_scatter, {\n                reversedY: \"\",\n                scatter: \"\",\n                line: \"\",\n                animation: false,\n                data: _ctx.lightCurveData.filter(d => (d.time.getTime() <= _ctx.selectedTime )),\n                lineData: _ctx.lightCurveData.filter(d => (d.time.getTime() <= _ctx.selectedTime )),\n                keys: { x: 'time', y: 'magnitude' },\n                xrange: [Math.min(..._ctx.dates.map(d => d)), Math.max(..._ctx.dates.map(d => d))],\n                yrange: [10.5, 17],\n                color: _ctx.accentColor2,\n                borderColor: _ctx.accentColor2,\n                scatterOptions: {radius: 5, borderWidth: 2},\n                lineOptions: {borderColor: 'white', borderWidth: 1.5},\n                yAxisOptions: {\n              title: { display: false,\n                text: 'Supernova Brightness',\n                color: 'white',\n                },\n              border: { display: true,\n                color: 'white',\n                width: 4,\n              },\n              ticks: {display: false},\n              },\n                xAxisOptions: {\n                border: { display: true,\n                  color: 'white',\n                  width: 4,\n                },\n                title: {display: false},\n                ticks: {display: false},\n              },\n                onBounds: _cache[8] || (_cache[8] = (val) => { _ctx.chartBounds = val; _ctx.onResize() })\n              }, null, 8, [\"data\", \"lineData\", \"xrange\", \"color\", \"borderColor\"]),\n              _hoisted_23\n            ], 512), [\n              [_vShow, _ctx.chartVisible]\n            ]),\n            _createElementVNode(\"span\", _hoisted_24, [\n              _createVNode(_component_icon_button, {\n                class: \"play-pause-icon-wrapper\",\n                \"tooltip-location\": \"top\",\n                color: _ctx.accentColor,\n                \"focus-color\": _ctx.accentColor,\n                \"tooltip-text\": \"Watch the supernova change over time!\",\n                onActivate: _cache[9] || (_cache[9] = () => {\n                  _ctx.playing = !(_ctx.playing || _ctx.playingImagePath); // set playing to true if both playing & pCP are false. set playing to false if either playing or pCP are true.\n                  _ctx.playingImagePath = false; // don't reverse the order of this line and previous or logic will break.\n                })\n              }, {\n                button: _withCtx(() => [\n                  _hoisted_25,\n                  _createVNode(_component_font_awesome_icon, {\n                    id: \"play-pause-icon\",\n                    class: \"control-icon\",\n                    icon: !(_ctx.playing || _ctx.playingImagePath) ? 'play' : 'pause',\n                    size: \"sm\"\n                  }, null, 8, [\"icon\"])\n                ]),\n                _: 1\n              }, 8, [\"color\", \"focus-color\"]),\n              _createVNode(_component_vue_slider, {\n                adsorb: \"\",\n                included: \"\",\n                duration: 0.1,\n                id: \"slider\",\n                marks: (d) => {\n              return _ctx.allDates.includes(d) || _ctx.imageDates.includes(d);\n            },\n                order: false,\n                modelValue: _ctx.selectedTime,\n                \"onUpdate:modelValue\": _cache[10] || (_cache[10] = ($event: any) => ((_ctx.selectedTime) = $event)),\n                onChange: _ctx.onTimeSliderChange,\n                data: _ctx.dates,\n                tooltip: \"always\",\n                \"tooltip-placement\": \"bottom\",\n                \"tooltip-style\": {opacity: 0.75},\n                \"tooltip-formatter\": (v) => \n              _ctx.toDateString(new Date(v))\n            \n              }, {\n                mark: _withCtx(({ pos, value }) => [\n                  _createElementVNode(\"div\", {\n                    class: _normalizeClass([{ 'mark-line': _ctx.imageDates.includes(value) }]),\n                    style: _normalizeStyle({ left: `${pos}%` })\n                  }, null, 6)\n                ]),\n                _: 1\n              }, 8, [\"marks\", \"modelValue\", \"onChange\", \"data\", \"tooltip-formatter\"])\n            ])\n          ]),\n          _createElementVNode(\"div\", _hoisted_26, [\n            (!_ctx.smallSize)\n              ? (_openBlock(), _createBlock(_component_vue_slider, {\n                  key: 0,\n                  class: \"opacity-slider\",\n                  adsorb: \"\",\n                  min: 0,\n                  max: 1,\n                  interval: 0.01,\n                  id: \"opacity-slider\",\n                  order: false,\n                  tooltipPlacement: \"bottom\",\n                  modelValue: _ctx.currentOpacity,\n                  \"onUpdate:modelValue\": _cache[11] || (_cache[11] = ($event: any) => ((_ctx.currentOpacity) = $event)),\n                  onChange: _cache[12] || (_cache[12] = (opacity) => _ctx.currentLayer?.set_opacity(opacity))\n                }, {\n                  default: _withCtx(() => [\n                    _hoisted_27\n                  ]),\n                  _: 1\n                }, 8, [\"modelValue\"]))\n              : _createCommentVNode(\"\", true)\n          ]),\n          (!_ctx.smallSize)\n            ? (_openBlock(), _createBlock(_component_story_credits, {\n                key: 0,\n                class: \"bottom-credits\"\n              }))\n            : _createCommentVNode(\"\", true)\n        ]),\n        _createVNode(_component_v_dialog, {\n          id: \"video-container\",\n          modelValue: _ctx.showVideoSheet,\n          \"onUpdate:modelValue\": _cache[15] || (_cache[15] = ($event: any) => ((_ctx.showVideoSheet) = $event)),\n          transition: \"slide-y-transition\",\n          fullscreen: \"\"\n        }, {\n          default: _withCtx(() => [\n            _createElementVNode(\"div\", _hoisted_28, [\n              _createVNode(_component_font_awesome_icon, {\n                id: \"video-close-icon\",\n                class: \"close-icon\",\n                icon: \"times\",\n                size: \"lg\",\n                onClick: _cache[13] || (_cache[13] = ($event: any) => (_ctx.showVideoSheet = false)),\n                onKeyup: _cache[14] || (_cache[14] = _withKeys(($event: any) => (_ctx.showVideoSheet = false), [\"enter\"])),\n                tabindex: \"0\"\n              }),\n              _hoisted_29\n            ])\n          ]),\n          _: 1\n        }, 8, [\"modelValue\"]),\n        _createVNode(_component_v_dialog, {\n          id: \"location-dialog\",\n          modelValue: _ctx.showLocationSelector,\n          \"onUpdate:modelValue\": _cache[16] || (_cache[16] = ($event: any) => ((_ctx.showLocationSelector) = $event))\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_v_card, { id: \"location-selector\" }, {\n              default: _withCtx(() => [\n                _hoisted_30,\n                _createVNode(_component_v_btn, {\n                  onClick: _ctx.getLocation,\n                  onKeyup: _withKeys(_ctx.getLocation, [\"enter\"])\n                }, {\n                  default: _withCtx(() => [\n                    _createTextVNode(\" Use My Location \")\n                  ]),\n                  _: 1\n                }, 8, [\"onClick\", \"onKeyup\"]),\n                _createElementVNode(\"div\", _hoisted_31, _toDisplayString(_ctx.locationErrorMessage), 1),\n                _hoisted_32\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        }, 8, [\"modelValue\"]),\n        _createVNode(_component_v_dialog, {\n          style: _normalizeStyle(_ctx.cssVars),\n          class: \"bottom-sheet\",\n          id: \"text-bottom-sheet\",\n          \"hide-overlay\": \"\",\n          persistent: \"\",\n          \"no-click-animation\": \"\",\n          absolute: \"\",\n          width: \"100%\",\n          scrim: false,\n          location: \"bottom\",\n          modelValue: _ctx.showTextSheet,\n          \"onUpdate:modelValue\": _cache[22] || (_cache[22] = ($event: any) => ((_ctx.showTextSheet) = $event)),\n          transition: \"dialog-bottom-transition\"\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_v_card, { height: \"100%\" }, {\n              default: _withCtx(() => [\n                _createVNode(_component_v_tabs, {\n                  modelValue: _ctx.tab,\n                  \"onUpdate:modelValue\": _cache[17] || (_cache[17] = ($event: any) => ((_ctx.tab) = $event)),\n                  height: \"32px\",\n                  color: _ctx.accentColor,\n                  \"slider-color\": _ctx.accentColor,\n                  id: \"tabs\",\n                  dense: \"\",\n                  grow: \"\"\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_v_tab, { tabindex: \"0\" }, {\n                      default: _withCtx(() => [\n                        _hoisted_33\n                      ]),\n                      _: 1\n                    }),\n                    _createVNode(_component_v_tab, { tabindex: \"0\" }, {\n                      default: _withCtx(() => [\n                        _hoisted_34\n                      ]),\n                      _: 1\n                    })\n                  ]),\n                  _: 1\n                }, 8, [\"modelValue\", \"color\", \"slider-color\"]),\n                _createVNode(_component_font_awesome_icon, {\n                  id: \"close-text-icon\",\n                  class: \"control-icon\",\n                  icon: \"times\",\n                  size: \"lg\",\n                  onClick: _cache[18] || (_cache[18] = ($event: any) => (_ctx.showTextSheet = false)),\n                  onKeyup: _cache[19] || (_cache[19] = _withKeys(($event: any) => (_ctx.showTextSheet = false), [\"enter\"])),\n                  tabindex: \"0\"\n                }),\n                _createVNode(_component_v_window, {\n                  modelValue: _ctx.tab,\n                  \"onUpdate:modelValue\": _cache[21] || (_cache[21] = ($event: any) => ((_ctx.tab) = $event)),\n                  id: \"tab-items\",\n                  class: \"pb-2 no-bottom-border-radius\"\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_v_window_item, null, {\n                      default: _withCtx(() => [\n                        _createVNode(_component_v_card, { class: \"no-bottom-border-radius scrollable\" }, {\n                          default: _withCtx(() => [\n                            _createVNode(_component_v_card_text, { class: \"info-text no-bottom-border-radius\" }, {\n                              default: _withCtx(() => [\n                                _hoisted_35,\n                                _hoisted_36,\n                                _hoisted_37,\n                                _hoisted_38,\n                                _hoisted_39,\n                                _hoisted_40,\n                                _hoisted_41,\n                                _hoisted_42,\n                                _hoisted_43,\n                                _hoisted_44,\n                                _hoisted_45,\n                                _hoisted_46,\n                                _hoisted_47,\n                                (!_ctx.revealAnswer)\n                                  ? (_openBlock(), _createElementBlock(\"div\", {\n                                      key: 0,\n                                      style: {\"max-width\":\"fit-content\",\"margin-block\":\"1em\"},\n                                      class: \"control-icon-wrapper\",\n                                      onClick: _cache[20] || (_cache[20] = ($event: any) => (_ctx.revealAnswer = true))\n                                    }, \" Click to reveal the answer \"))\n                                  : _createCommentVNode(\"\", true),\n                                _hoisted_48,\n                                (_ctx.revealAnswer)\n                                  ? (_openBlock(), _createElementBlock(\"p\", _hoisted_49, \" With the rapid rise and long plateau this looks most similar to a Type II supernova. \"))\n                                  : _createCommentVNode(\"\", true),\n                                _hoisted_50,\n                                _hoisted_51,\n                                _hoisted_52,\n                                _createElementVNode(\"div\", _hoisted_53, [\n                                  _hoisted_54,\n                                  _hoisted_55,\n                                  _hoisted_56,\n                                  _hoisted_57,\n                                  _hoisted_58,\n                                  _hoisted_59,\n                                  _hoisted_60,\n                                  _hoisted_61,\n                                  _createTextVNode(\" John Lewis\"),\n                                  _hoisted_62,\n                                  _createTextVNode(\" Jon Carifio\"),\n                                  _hoisted_63,\n                                  _createTextVNode(\" Pat Udomprasert\"),\n                                  _hoisted_64,\n                                  _createTextVNode(\" Alyssa Goodman\"),\n                                  _hoisted_65,\n                                  _createTextVNode(\" Mary Dussault\"),\n                                  _hoisted_66,\n                                  _createTextVNode(\" Harry Houghton\"),\n                                  _hoisted_67,\n                                  _createTextVNode(\" Anna Nolin\"),\n                                  _hoisted_68,\n                                  _createTextVNode(\" Evaluator: Sue Sunbury\"),\n                                  _hoisted_69,\n                                  _hoisted_70,\n                                  _hoisted_71,\n                                  _createTextVNode(\" Peter Williams\"),\n                                  _hoisted_72,\n                                  _createTextVNode(\" A. David Weigel\"),\n                                  _hoisted_73,\n                                  _createTextVNode(\" Jon Carifio\"),\n                                  _hoisted_74,\n                                  _hoisted_75,\n                                  _createVNode(_component_funding_acknowledgment)\n                                ]),\n                                _createVNode(_component_v_spacer, { class: \"end-spacer\" })\n                              ]),\n                              _: 1\n                            })\n                          ]),\n                          _: 1\n                        })\n                      ]),\n                      _: 1\n                    }),\n                    _createVNode(_component_v_window_item, null, {\n                      default: _withCtx(() => [\n                        _createVNode(_component_v_card, {\n                          class: \"no-bottom-border-radius scrollable\",\n                          style: {\"height\":\"100%\"}\n                        }, {\n                          default: _withCtx(() => [\n                            _createVNode(_component_v_card_text, { class: \"info-text no-bottom-border-radius\" }, {\n                              default: _withCtx(() => [\n                                _createVNode(_component_v_container, null, {\n                                  default: _withCtx(() => [\n                                    _createVNode(_component_v_row, { align: \"center\" }, {\n                                      default: _withCtx(() => [\n                                        _createVNode(_component_v_col, { cols: \"4\" }, {\n                                          default: _withCtx(() => [\n                                            _createVNode(_component_v_chip, {\n                                              label: \"\",\n                                              outlined: \"\"\n                                            }, {\n                                              default: _withCtx(() => [\n                                                _createTextVNode(\" Pan \")\n                                              ]),\n                                              _: 1\n                                            })\n                                          ]),\n                                          _: 1\n                                        }),\n                                        _createVNode(_component_v_col, {\n                                          cols: \"8\",\n                                          class: \"pt-1\"\n                                        }, {\n                                          default: _withCtx(() => [\n                                            _createElementVNode(\"strong\", null, _toDisplayString(_ctx.touchscreen ? \"press + drag\" : \"click + drag\"), 1),\n                                            _createTextVNode(\" \" + _toDisplayString(_ctx.touchscreen ? \":\" : \"or\") + \" \", 1),\n                                            _createElementVNode(\"strong\", null, _toDisplayString(_ctx.touchscreen ? \":\" : \"W-A-S-D\"), 1),\n                                            _createTextVNode(\" \" + _toDisplayString(_ctx.touchscreen ? \":\" : \"keys\"), 1),\n                                            _hoisted_76\n                                          ]),\n                                          _: 1\n                                        })\n                                      ]),\n                                      _: 1\n                                    }),\n                                    _createVNode(_component_v_row, { align: \"center\" }, {\n                                      default: _withCtx(() => [\n                                        _createVNode(_component_v_col, { cols: \"4\" }, {\n                                          default: _withCtx(() => [\n                                            _createVNode(_component_v_chip, {\n                                              label: \"\",\n                                              outlined: \"\"\n                                            }, {\n                                              default: _withCtx(() => [\n                                                _createTextVNode(\" Zoom \")\n                                              ]),\n                                              _: 1\n                                            })\n                                          ]),\n                                          _: 1\n                                        }),\n                                        _createVNode(_component_v_col, {\n                                          cols: \"8\",\n                                          class: \"pt-1\"\n                                        }, {\n                                          default: _withCtx(() => [\n                                            _createElementVNode(\"strong\", null, _toDisplayString(_ctx.touchscreen ? \"pinch in and out\" : \"scroll in and out\"), 1),\n                                            _createTextVNode(\" \" + _toDisplayString(_ctx.touchscreen ? \":\" : \"or\") + \" \", 1),\n                                            _createElementVNode(\"strong\", null, _toDisplayString(_ctx.touchscreen ? \":\" : \"I-O\"), 1),\n                                            _createTextVNode(\" \" + _toDisplayString(_ctx.touchscreen ? \":\" : \"keys\"), 1),\n                                            _hoisted_77\n                                          ]),\n                                          _: 1\n                                        })\n                                      ]),\n                                      _: 1\n                                    }),\n                                    _createVNode(_component_v_row, null, {\n                                      default: _withCtx(() => [\n                                        _createVNode(_component_v_col, { cols: \"12\" }, {\n                                          default: _withCtx(() => [\n                                            _createElementVNode(\"div\", _hoisted_78, [\n                                              _hoisted_79,\n                                              _createElementVNode(\"ul\", _hoisted_80, [\n                                                _createElementVNode(\"li\", null, [\n                                                  _createTextVNode(\" Click \"),\n                                                  _createVNode(_component_font_awesome_icon, {\n                                                    id: \"play-pause-icon\",\n                                                    class: \"control-icon\",\n                                                    icon: \"play\",\n                                                    size: \"lg\"\n                                                  }),\n                                                  _createTextVNode(\" to watch the supernova brightness change over time. \")\n                                                ]),\n                                                _hoisted_81,\n                                                _hoisted_82,\n                                                _hoisted_83,\n                                                _hoisted_84,\n                                                _hoisted_85,\n                                                _hoisted_86\n                                              ]),\n                                              _hoisted_87,\n                                              _createTextVNode(\" This Data Story is powered by WorldWide Telescope (WWT). \")\n                                            ])\n                                          ]),\n                                          _: 1\n                                        })\n                                      ]),\n                                      _: 1\n                                    }),\n                                    _createVNode(_component_v_row, null, {\n                                      default: _withCtx(() => [\n                                        _createVNode(_component_v_col, { cols: \"12\" }, {\n                                          default: _withCtx(() => [\n                                            _hoisted_88,\n                                            _createVNode(_component_v_spacer, { class: \"end-spacer\" })\n                                          ]),\n                                          _: 1\n                                        })\n                                      ]),\n                                      _: 1\n                                    })\n                                  ]),\n                                  _: 1\n                                })\n                              ]),\n                              _: 1\n                            })\n                          ]),\n                          _: 1\n                        })\n                      ]),\n                      _: 1\n                    })\n                  ]),\n                  _: 1\n                }, 8, [\"modelValue\"])\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        }, 8, [\"style\", \"modelValue\"]),\n        _createVNode(_component_notifications, {\n          group: \"startup-location\",\n          position: \"top right\"\n        })\n      ])\n    ]),\n    _: 1\n  }, 8, [\"style\"]))\n}","<template>\n  <v-app\n    id=\"app\"\n    :style=\"cssVars\"\n  >\n  <div\n    id=\"main-content\"\n  >\n\n    <WorldWideTelescope\n      :wwt-namespace=\"wwtNamespace\"\n      :class=\"{ pointer: lastClosePt !== null }\"\n      @pointermove=\"onPointerMove\"\n      @pointerup=\"onPointerUp\"\n      @pointerdown=\"onPointerDown\"\n    ></WorldWideTelescope>\n    \n    <v-overlay\n      :model-value=\"showSplashScreen\"\n      absolute\n      opacity=\"0.6\"\n      :style=\"cssVars\"\n      id=\"splash-overlay\"\n    >\n      <div id=\"splash-screen\"\n        :style=\"cssVars\"\n      >\n        <div\n          id=\"first-splash-row\"\n        >\n          <div\n            id=\"close-splash-button\"\n            @click=\"closeSplashScreen\"\n            >&times;</div>\n          <div id=\"splash-screen-text\">\n            <p> See a </p>\n            <p class=\"highlight\"> Star Explode </p>\n            <p class=\"small\"> in a galaxy far, far away... </p>\n          </div>\n        </div>\n        \n        <div id=\"splash-screen-guide\">\n          <font-awesome-icon\n            id=\"text-icon\"\n            icon=\"book-open\"\n          /> Read the guide \n          <br>\n          <font-awesome-icon\n            id=\"video-icon\"\n            icon=\"video\"\n          /> Watch the demo \n        </div>\n        \n        <div id=\"splash-screen-acknowledgements\">\n          Brought to you by <a href=\"https://www.cosmicds.cfa.harvard.edu/\" target=\"_blank\" rel=\"noopener noreferrer\">Cosmic Data Stories</a> and <a href=\"https://www.worldwidetelescope.org/home/\" target=\"_blank\" rel=\"noopener noreferrer\">WorldWide Telescope</a>.\n          \n          <div id=\"splash-screen-icons\">\n            <story-credits/>\n          </div>\n        </div>\n    </div>\n    </v-overlay>\n\n    <transition name=\"fade\">\n      <div\n        class=\"modal\"\n        id=\"modal-loading\"\n        v-show=\"isLoading\"\n      >\n        <div class=\"container\">\n          <div class=\"spinner\"></div>\n          <p>Loading …</p>\n        </div>\n      </div>\n    </transition>\n\n    <div class=\"top-content\">\n      <div id=\"center-buttons\">\n        <!-- add iconbutton for location -->\n        <icon-button\n          v-if=\"false\"\n          v-model=\"showLocationSelector\"\n          fa-icon=\"location-pin\"\n          :color=\"accentColor\"\n          :focus=\"accentColor2\"\n          tooltip-text=\"Select location\"\n          tooltip-location=\"bottom\"\n          >\n      </icon-button>\n      </div>\n      <div id=\"left-buttons\">\n        <icon-button\n          v-model=\"showTextSheet\"\n          fa-icon=\"book-open\"\n          :color=\"accentColor\"\n          :tooltip-text=\"showTextSheet ? 'Hide Info' : 'Learn More'\"\n          tooltip-location=\"start\"\n          >\n      </icon-button>\n      <icon-button\n          v-model=\"showVideoSheet\"\n          fa-icon=\"video\"\n          :color=\"accentColor\"\n          tooltip-text=\"Watch video\"\n          tooltip-location=\"start\"\n          >\n      </icon-button>\n      <icon-button\n          @activate=\"centerView\"\n          fa-icon=\"refresh\"\n          :color=\"accentColor\"\n          tooltip-text=\"Center the Pinwheel\"\n          tooltip-location=\"start\"\n          >\n      </icon-button>\n      <icon-button\n          v-model=\"showConstellations\"\n          :color=\"accentColor\"\n          fa-icon=\"constellation\"\n          :tooltip-text=\"showConstellations ? 'Hide constellations' : 'Show constellations'\"\n          tooltip-location=\"start\"\n          >\n      </icon-button>\n      <icon-button\n          v-model=\"showArrow\"\n          :color=\"accentColor\"\n          fa-icon=\"arrow-right\"\n          :tooltip-text=\"showArrow ? 'Hide the arrow' : 'Show the arrow'\"\n          tooltip-location=\"start\"\n        >\n      </icon-button>\n      </div>\n    </div>\n\n    <div class=\"right-content\">\n      <gallery\n        wtml-url=\"https://raw.githubusercontent.com/johnarban/wwt_interactives/main/images/m101/gallery.wtml\"\n        width=\"1000px\"\n        :single-select=\"true\"\n        title=\"Click Image to Overlay\"\n        closed-text=\"Image Gallery\"\n        :selected-color=\"accentColor\"\n        :style=\"cssVars\"\n        :preview-index=\"1\"\n        @select=\"onItemSelected\"\n        @deselect=\"onItemDeselected\"\n      />\n    </div>\n\n    <div class=\"bottom-content\">\n\n      <div id=\"tools\">\n        <div \n        id=\"chart-button\"\n        :class=\"[chartVisible ? 'collapse-button': '']\"\n        >\n          <v-btn\n            flat\n            @click=\"chartVisible = !chartVisible\"\n            @keyup.enter=\"chartVisible = !chartVisible\"\n            :color=\"accentColor\"\n          >\n            <font-awesome-icon\n              id=\"chart-icon\"\n              class=\"control-icon\"\n              :icon=\"chartVisible ? 'circle-xmark' : 'chart-line'\"\n              size=\"xl\"\n            />\n            <span id=\"button-text\">{{ chartVisible ? 'Hide' : 'Show' }} supernova brightness graph</span>\n          </v-btn>\n        </div>\n        <div id=\"chart-container\" v-show=\"chartVisible\" >\n          <div id=\"chart-title\">\n            Supernova Light Curve (Change in Brightness Over Time)\n          </div>\n          <div id=\"yaxis-text\">\n            Supernova <br />\n            Brightness\n          </div>\n            <!-- :lineData=\"dates.map(d => {return {x: d, y: 12.5}})\" -->\n          <chartjs-scatter\n            reversedY\n            scatter\n            line\n            :animation=false\n            :data=\"lightCurveData.filter(d => (d.time.getTime() <= selectedTime ))\"\n            :lineData=\"lightCurveData.filter(d => (d.time.getTime() <= selectedTime ))\"\n            :keys=\"{ x: 'time', y: 'magnitude' }\"\n            :xrange=\"[Math.min(...dates.map(d => d)), Math.max(...dates.map(d => d))]\"\n            :yrange=\"[10.5, 17]\"\n            :color=\"accentColor2\"\n            :borderColor=\"accentColor2\"\n            :scatterOptions=\"{radius: 5, borderWidth: 2}\"\n            :lineOptions=\"{borderColor: 'white', borderWidth: 1.5}\"\n            :yAxisOptions=\"{\n              title: { display: false,\n                text: 'Supernova Brightness',\n                color: 'white',\n                },\n              border: { display: true,\n                color: 'white',\n                width: 4,\n              },\n              ticks: {display: false},\n              }\"\n              :xAxisOptions=\"{\n                border: { display: true,\n                  color: 'white',\n                  width: 4,\n                },\n                title: {display: false},\n                ticks: {display: false},\n              }\"\n            @bounds=\"(val: any) => { chartBounds = val; onResize() }\"\n            \n          />\n          \n          <div id=\"xaxis-text\">\n              Time\n          </div>\n        </div>\n        \n        <span class=\"tool-container\">\n          <icon-button\n          class=\"play-pause-icon-wrapper\"\n          tooltip-location=\"top\"\n          :color=\"accentColor\"\n          :focus-color=\"accentColor\"\n          tooltip-text=\"Watch the supernova change over time!\"\n          @activate=\"() => {\n                  playing = !(playing || playingImagePath); // set playing to true if both playing & pCP are false. set playing to false if either playing or pCP are true.\n                  playingImagePath = false; // don't reverse the order of this line and previous or logic will break.\n                }\"\n          >\n            <template #button>\n              <span class=\"play-icon-text\">Watch over time&nbsp;</span>\n              <font-awesome-icon\n                id=\"play-pause-icon\"\n                class=\"control-icon\"\n                :icon=\"!(playing || playingImagePath) ? 'play' : 'pause'\"\n                size=\"sm\"\n              ></font-awesome-icon>\n            </template>\n          </icon-button>\n          <vue-slider\n            adsorb\n            included\n            :duration=\"0.1\"\n            id=\"slider\"\n            :marks=\"(d: number) => {\n              return allDates.includes(d) || imageDates.includes(d);\n            }\"\n            :order=\"false\"\n            v-model=\"selectedTime\"\n            @change=\"onTimeSliderChange\"\n            :data=\"dates\"\n            tooltip=\"always\"\n            tooltip-placement=\"bottom\"\n            :tooltip-style=\"{opacity: 0.75}\"\n            :tooltip-formatter=\"(v: number) => \n              toDateString(new Date(v))\n            \"\n          >\n            <template v-slot:mark=\"{ pos, value }\">\n              <div\n                :class=\"[{ 'mark-line': imageDates.includes(value) }]\"\n                :style=\"{ left: `${pos}%` }\">\n              </div>\n            </template>\n          </vue-slider>\n        </span>\n      </div>\n      \n      <div class=\"opacity-slider-wrapper\">\n        <vue-slider\n          v-if=\"!smallSize\"\n          class=\"opacity-slider\"\n          adsorb\n          :min=\"0\"\n          :max=\"1\"\n          :interval=\"0.01\"\n          id=\"opacity-slider\"\n          :order=\"false\"\n          tooltipPlacement=\"bottom\"\n          v-model=\"currentOpacity\"\n          @change=\"(opacity: number) => currentLayer?.set_opacity(opacity)\"\n          >\n          <span>Change image opacity</span>\n        </vue-slider>\n      </div>\n      \n      <story-credits class=\"bottom-credits\" v-if=\"!smallSize\"></story-credits>\n\n    </div>\n    \n    <v-dialog\n      id=\"video-container\"\n      v-model=\"showVideoSheet\"\n      transition=\"slide-y-transition\"\n      fullscreen\n    >\n      <div class=\"video-wrapper\">\n        <font-awesome-icon\n          id=\"video-close-icon\"\n          class=\"close-icon\"\n          icon=\"times\"\n          size=\"lg\"\n          @click=\"showVideoSheet = false\"\n          @keyup.enter=\"showVideoSheet = false\"\n          tabindex=\"0\"\n        ></font-awesome-icon>\n\n        <iframe height=\"700\"\n          id=\"info-video\"\n          src=\"https://www.youtube.com/embed/CY2XMeY8w3w?&autoplay=1\"\n          title=\"YouTube video player\"\n          frameborder=\"0\"\n          allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share\"\n          allowfullscreen></iframe>\n\n      </div>\n    </v-dialog>\n\n    <v-dialog\n      id=\"location-dialog\"\n      v-model=\"showLocationSelector\"\n    >\n      <v-card id=\"location-selector\">\n        <div\n          class=\"text-center\"\n        >\n          Move around the map and double-click to change location\n        </div>\n        <v-btn\n          @click=\"getLocation\"\n          @keyup.enter=\"getLocation\"\n        >\n          Use My Location\n        </v-btn>\n        <div class=\"text-center red--text\">{{  locationErrorMessage  }}</div>\n        <div id=\"map-container\"></div>\n      </v-card>\n    </v-dialog>\n\n    <v-dialog\n      :style=\"cssVars\"\n      class=\"bottom-sheet\"\n      id=\"text-bottom-sheet\"  \n      hide-overlay\n      persistent\n      no-click-animation\n      absolute\n      width=\"100%\"\n      :scrim=\"false\"\n      location=\"bottom\"\n      v-model=\"showTextSheet\"\n      transition=\"dialog-bottom-transition\"\n    >\n      <v-card height=\"100%\">\n      <v-tabs\n        v-model=\"tab\"\n        height=\"32px\"\n        :color=\"accentColor\"\n        :slider-color=\"accentColor\"\n        id=\"tabs\"\n        dense\n        grow\n      >\n        <v-tab tabindex=\"0\"><h3>Information</h3></v-tab>\n        <v-tab tabindex=\"0\"><h3>Using WWT</h3></v-tab>\n      </v-tabs>\n      <font-awesome-icon\n        id=\"close-text-icon\"\n        class=\"control-icon\"\n        icon=\"times\"\n        size=\"lg\"\n        @click=\"showTextSheet = false\"\n        @keyup.enter=\"showTextSheet = false\"\n        tabindex=\"0\"\n      ></font-awesome-icon>\n        <v-window v-model=\"tab\" id=\"tab-items\" class=\"pb-2 no-bottom-border-radius\">\n          <v-window-item>\n            <v-card class=\"no-bottom-border-radius scrollable\">\n              <v-card-text class=\"info-text no-bottom-border-radius\">\n\n                <h3><i>Something new has burst onto the scene in the Pinwheel Galaxy!</i></h3>\n\n                <p>\n                  On May 19, 2023 - renowned supernova hunter \n                  <a href=\"https://www.scientificamerican.com/article/astronomers-have-spotted-a-once-in-a-decade-supernova-and-you-can-too/\" target=\"_blank\" rel=\"noopener noreferrer\">Koichi Itagaki discovered</a>\n                  a new bright object in the very nearby Pinwheel Galaxy (also known as M101). This bright object was a <strong>new supernova</strong>. \n                </p>\n                <br/>\n                <h3>What is a Supernova?</h3>\n                \n                <p>\n                  A <strong>supernova</strong> is an extremely bright, energetic explosion of a star. \n                  They are so bright that you can see when they occur in galaxies millions of light years away.\n                </p>\n                <p>\n                  There are two situations which trigger a supernova&mdash;\n                  a very large star (8+ times our Sun's mass) runs out of fuel and then blows up;\n                  or a white dwarf (the remnants of stars like our Sun) pulls enough extra gas onto itself from a companion star that it blows up. \n                </p>\n                <p>\n                  The first type of supernova is called a <a href=\"https://astronomy.swin.edu.au/cosmos/c/core-collapse\" target=\"_blank\" rel=\"noopener noreferrer\">core-collapse supernova</a> (Type II) and can teach us about the evolution and environment of massive stars. \n                  The second type (<a href=\"https://astronomy.swin.edu.au/cosmos/T/Type+Ia+Supernova\" target=\"_blank\" rel=\"noopener noreferrer\">Type Ia</a>) have predictable brightness and are used to measure the cosmological expansion of the universe.\n                </p>\n                \n                <h3>The Brightness Graph</h3>\n                <p>\n                Astronomers graph how a supernova's brightness changes over time (called a <strong>lightcurve</strong>) to distinguish between the two main types of supernovae. \n                Type II are characterized by a rapid rise followed by a plateau and or gradual dimming. \n                Type I have a rapid rise followed by a more rapid dimming. \n                </p>\n                <img src=\"./assets/sntyp.gif\">\n                <p>\n                You can learn about other types of supernovae <a href=\"https://astrobites.org/2016/12/02/classifying-supernovae/\" target=\"_blank\" rel=\"noopener noreferrer\">here</a>.\n                </p>\n                <strong>What type of supernova do you think the one in the Pinwheel Galaxy is?</strong>\n                <br>\n                \n                <div\n                  v-if=\"!revealAnswer\"\n                  style=\"max-width: fit-content; margin-block: 1em\"\n                  class=\"control-icon-wrapper\"\n                  @click=\"revealAnswer = true\"\n                >\n                  Click to reveal the answer\n              </div>\n              <br>\n              <p v-if=\"revealAnswer\"> With the rapid rise and long plateau this looks most similar to a Type II supernova. </p>\n\n\n                \n\n                <br><br><br>\n                <div class=\"credits\">\n                <h3>Credits:</h3>\n                <h4> MicroObservatory:</h4>\n                <p>\n                  The images shown in the \"Watch over time\" sequence were taken with <a href=\"https://mo-www.cfa.harvard.edu/MicroObservatory/\" target=\"_blank\" rel=\"noopener noreferrer\">MicroObservatory</a>. We use them here because they observe the Pinwheel Galaxy every night in a consistent way. (Dates without MicroObservatory images had bad weather). \n                </p>\n\n                <br/>\n                <h4> MicroObservatory Images and Data Processing:</h4>\n                <p>Martin Fowler (<a href=\"https://solarsystem.nasa.gov/people/647/martin-fowler/\" target=\"_blank\" rel=\"noopener noreferrer\">NASA Citizen Scientist</a>)</p>\n                <br/>\n\n                <h4><a href=\"https://www.cosmicds.cfa.harvard.edu/\" target=\"_blank\" rel=\"noopener noreferrer\">CosmicDS</a> Team:</h4>\n                John Lewis<br>\n                Jon Carifio<br>\n                Pat Udomprasert<br>\n                Alyssa Goodman<br>\n                Mary Dussault<br>\n                Harry Houghton<br>\n                Anna Nolin<br>\n                Evaluator: Sue Sunbury<br>\n                <br>\n                <h4>WorldWide Telescope Team:</h4>\n                Peter Williams<br>\n                A. David Weigel<br>\n                Jon Carifio<br>\n                <br>\n                <funding-acknowledgment/>\n                </div>\n                <v-spacer class=\"end-spacer\"></v-spacer>\n              </v-card-text>\n            </v-card>\n          </v-window-item>\n          <v-window-item>\n            <v-card class=\"no-bottom-border-radius scrollable\" style=\"height: 100%;\">\n              <v-card-text class=\"info-text no-bottom-border-radius\">\n                <v-container>\n                  <v-row align=\"center\">\n                  <v-col cols=\"4\">\n                      <v-chip\n                        label\n                        outlined\n                      >\n                        Pan\n                      </v-chip>\n                    </v-col>\n                    <v-col cols=\"8\" class=\"pt-1\">\n                      <strong>{{ touchscreen ? \"press + drag\" : \"click + drag\" }}</strong>  {{ touchscreen ? \":\" : \"or\" }}  <strong>{{ touchscreen ? \":\" : \"W-A-S-D\" }}</strong> {{ touchscreen ? \":\" : \"keys\" }}<br>\n                    </v-col>\n                  </v-row>\n                  <v-row align=\"center\">\n                    <v-col cols=\"4\">\n                      <v-chip\n                        label\n                        outlined\n                      >\n                        Zoom\n                      </v-chip>\n                    </v-col>\n                    <v-col cols=\"8\" class=\"pt-1\">\n                      <strong>{{ touchscreen ? \"pinch in and out\" : \"scroll in and out\" }}</strong> {{ touchscreen ? \":\" : \"or\" }} <strong>{{ touchscreen ? \":\" : \"I-O\" }}</strong> {{ touchscreen ? \":\" : \"keys\" }}<br>\n                    </v-col>\n                  </v-row>\n                  <v-row>\n                    <v-col cols=\"12\">\n                      <div\n                        style=\"min-height: 120px;\"\n                      >\n                        <h4>Tips:</h4>\n                        <ul class=\"text-list\">\n                          <li>\n                            Click \n                              <font-awesome-icon\n                                id=\"play-pause-icon\"\n                                class=\"control-icon\"\n                                icon=\"play\"\n                                size=\"lg\"\n                              ></font-awesome-icon>\n                            to watch the supernova brightness change over time.\n                          </li>\n                          <li>\n                            Adjust the date slider at the bottom to move to a specific time.\n                          </li>\n                          <li>\n                            Click \"Show supernova brightness graph\" to see how its brightness changes with time.\n                          </li>\n                          <li>\n                            Click the Image Gallery to see higher resolution images of the galaxy.\n                          </li>\n                          <li>\n                            Use the \"Change image opacity\" slider to change the tranparency of the overlaid. \n                          </li>                          \n                          <li>\n                            Choose whether to display constellations or the arrow pointing to the supernova.\n                          </li>\n                          <li>\n                            Re-center the view on the Pinwheel Galaxy's location \"now\" or Play the supernova images, in order, over time\n                          </li>\n                        </ul>\n                      <br>\n                      This Data Story is powered by WorldWide Telescope (WWT).\n\n                      </div>\n                    </v-col>\n                  </v-row>\n                  <v-row>\n                    <v-col cols=\"12\">\n                      <div class=\"credits\">\n                      <h3>Credits:</h3>\n                      <h4><a href=\"https://www.cosmicds.cfa.harvard.edu/\" target=\"_blank\" rel=\"noopener noreferrer\">CosmicDS</a> Team:</h4>\n                      John Lewis<br>\n                      Jon Carifio<br>\n                      Pat Udomprasert<br>\n                      Alyssa Goodman<br>\n                      Mary Dussault<br>\n                      Harry Houghton<br>\n                      Anna Nolin<br>\n                      Evaluator: Sue Sunbury<br>\n                      <br>\n                      <h4>WorldWide Telescope Team:</h4>\n                      Peter Williams<br>\n                      A. David Weigel<br>\n                      Jon Carifio<br>\n                      </div>\n                      <v-spacer class=\"end-spacer\"></v-spacer>\n                    </v-col>\n                  </v-row>\n                </v-container>              \n              </v-card-text>\n            </v-card>\n          </v-window-item>\n        </v-window>\n      </v-card>\n    </v-dialog>\n\n    <notifications group=\"startup-location\" position=\"top right\" />\n\n  </div>\n  </v-app>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from 'vue';\nimport { csvParse } from \"d3-dsv\";\n\nimport { distance } from \"@wwtelescope/astro\";\nimport { Constellations, Folder, Grids, ImageSetLayer, Layer, LayerManager, Place, Poly, RenderContext, Settings, SpreadSheetLayer, WWTControl } from \"@wwtelescope/engine\";\nimport { Thumbnail } from \"@wwtelescope/engine-types\";\n\nimport L, { LeafletMouseEvent, Map } from \"leaflet\";\nimport { getTimezoneOffset } from \"date-fns-tz\";\nimport tzlookup from \"tz-lookup\";\nimport { MiniDSBase, BackgroundImageset, skyBackgroundImagesets } from \"@cosmicds/vue-toolkit\";\n\nimport { applyImageSetLayerSetting } from \"@wwtelescope/engine-helpers\";\n\nimport { GotoRADecZoomParams } from \"@wwtelescope/engine-pinia\";\n\nimport { drawSkyOverlays, getScreenPosForCoordinates, initializeConstellationNames, makeAltAzGridText, drawSpreadSheetLayer, layerManagerDraw } from \"./wwt-hacks\";\n\ninterface MoveOptions {\n  instant?: boolean;\n  zoomDeg?: number;\n  rollRad?: number;\n}\n\ntype Point = [number, number];\n\nimport {\n  m101DataList,\n} from \"./m101\";\n\n\nimport {\n  aavsoLightCurve,\n} from \"./aavsolightcurve\";\n\nconst D2R = Math.PI / 180;\nconst R2D = 180 / Math.PI;\nconst D2H = 1 / 15;\n\nconst SECONDS_PER_DAY = 60 * 60 * 24;\nconst MILLISECONDS_PER_DAY = 1000 * SECONDS_PER_DAY;\n\nfunction parseCsvTable(csv: string) {\n  return csvParse(csv, (d, index) => {\n    const thisDate = new Date(d.Date ?? \"\");\n    return {\n      date: thisDate,\n      ra: +(d.Ra ?? \"\"),\n      dec: +(d.Dec ?? \"\"),\n      objectName: d.objectName as string,\n      bandpass: d.Bandpass as string,\n      wtmlName: d.wtmlName as string,\n      magnitude: +(d.magnitude ?? \"\"),\n      dateString: thisDate.toUTCString().slice(4, 11) + \" \" + `${thisDate.getUTCHours()}` + \":\" + thisDate.getUTCMinutes().toString().padStart(2, \"0\") + ` (${index})`,\n\n      _filename: d.pngFilename as string,\n      _index: index as number,\n    };\n  });\n}\nconst fullDatesTable = parseCsvTable(m101DataList);\nconst imageDatesTable = parseCsvTable(m101DataList);\n\n\n// parse the lightCurve data into a D3 table\nconst aavsoLightCurveTable = csvParse(aavsoLightCurve, (d) => {\n  // d.timestamp\n  // d.magnitude\n  return {\n    time: new Date(+(d.timestamp ?? \"\")),\n    magnitude: +(d.magnitude ?? \"\"),\n\n  };\n});\n\n\n\n// NB: The two tables have identical structures.\n// We aren't exporting these types anywhere, so\n// generic names are fine\ntype Table = typeof fullDatesTable;\ntype TableRow = typeof fullDatesTable[number];\n\nconst allDates = fullDatesTable.map(r => r.date.getTime());\nconst imageDates = [... new Set(imageDatesTable.map(r => r.date.getTime()))];\nconst minDate = Math.min(...allDates, ...imageDates)-2*MILLISECONDS_PER_DAY;\nconst maxDate = Math.max(...allDates, ...imageDates)+2*MILLISECONDS_PER_DAY;\nconst dates: number[] = [];\n\nlet t = minDate - (minDate % MILLISECONDS_PER_DAY);\nwhile (t <= maxDate) {\n  dates.push(t);\n  t += MILLISECONDS_PER_DAY/6;\n}\n\nfor (const d of imageDates) {\n  if (!dates.includes(d)) {\n    // dates.push(d);\n    // find the nearest value in dates to d and replace it with d\n    const closest = dates.reduce((a, b) => {\n      return Math.abs(b - d) < Math.abs(a - d) ? b : a;\n    });\n    dates.splice(dates.indexOf(closest), 1, d);\n  }\n}\n\n// dates = [...new Set(dates)];\ndates.sort((a, b) => a - b);\n\n\ntype LocationRad = {\n  longitudeRad: number;\n  latitudeRad: number;\n};\n\ntype EquatorialRad = {\n  raRad: number;\n  decRad: number;\n};\n\ntype HorizontalRad = {\n  altRad: number;\n  azRad: number;\n};\n\ntype SheetType = \"text\" | \"video\" | null;\n\nexport default defineComponent({\n  extends: MiniDSBase,\n  \n  props: {\n    wtml: {\n      type: Object,\n      required: true\n    },\n    wwtNamespace: {\n      type: String,\n      required: true\n    },\n    url: {\n      type: String,\n      required: true\n    },\n    thumbnailUrl: {\n      type: String,\n      required: true\n    },\n    bgWtml: {\n      type: String,\n      required: true\n    },\n    bgName: {\n      type: String,\n      required: true\n    }\n  },\n  data() {\n    const now = new Date();\n    return {\n      showSplashScreen: true, // ACTION NEEDED - reset to true\n      imagesetLayers: {} as Record<string, ImageSetLayer>,\n      layersLoaded: false,\n      positionSet: false,\n      imagesetFolder: null as Folder | null,\n      backgroundImagesets: [] as BackgroundImageset[],\n      places: {} as Record<string, Place>,\n\n      playing: false,\n      playingImagePath: false,\n      playingIntervalId: null as ReturnType<typeof setInterval> | null,\n      playingWaitCount: 0,\n      playCount: 0,\n\n      showAltAzGrid: false,\n      showConstellations: false,\n      showArrow: true,\n      showHorizon: false,\n      outerArrow: null as Poly | null,\n      innerArrow: null as Poly | null,\n      m101RADeg: 3.681181581357794 * R2D + 0.2/60,\n      m101DecDeg: 0.9480289529731357 * R2D - 1/60,\n      arrowAngleDeg: -60,\n      arrowCreated: false,\n\n      showSpeadSheetLater: false,\n\n      currentCometImageLayer: null as SpreadSheetLayer | null,\n      currentAllLayer: null as SpreadSheetLayer | null,\n      interpolatedDailyTable: null as Table | null,\n      currentLayer: null as Layer | null,\n\n      imageDates: imageDates,\n      allDates: allDates,\n      dates: dates,\n      minDate: minDate,\n      maxDate: maxDate,\n\n      // imageNames: {} as Record<string, string>,\n      // imageSortBy: {} as Record<string, number>,\n      imageNames: Object.fromEntries(imageDatesTable.map(d => [d.wtmlName, d.dateString])),\n      imageSortBy: Object.fromEntries(imageDatesTable.map(d => [d.wtmlName, d.date.getTime()])),\n      imageDateRef: { 'names': imageDatesTable.map(d => d.wtmlName), 'dates': imageDatesTable.map(d => d.date.getTime()) },\n      imageDateRefInv: Object.fromEntries(imageDatesTable.map(d => [d.date.getTime(), d.wtmlName])),\n      imageDateSorted: imageDatesTable.map(d => d.date.getTime()).sort((a, b) => a - b),\n      lastClosePt: null as TableRow | null,\n      accentColor: \"#ED6D5E\",\n      accentColor2: \"#b3d3e0\",\n      accentColor3: \" #0493d6\",\n\n      aavsoLightCurveData: aavsoLightCurveTable,\n      // lightCurveData: imageDatesTable.map(d => { 'time': d.date, 'magnitude': d.magnitude };),\n      lightCurveData: imageDatesTable.map(d => {\n        return {\n          time: d.date,\n          magnitude: d.magnitude\n        };\n      }),\n\n      currentOpacity: 0,\n      \n      incomingItemSelect: null as Thumbnail | null,\n      initialPosition: {ra: 210.802, dec: 54.348, zoom: 7.75},\n\n      chartBounds: {} as {\n        'bounds': { xmin: number, xmax: number, ymin: number, ymax: number },\n        'borders': { left: number, right: number, top: number, bottom: number }\n      },  \n\n      sheet: null as SheetType,\n      showMapTooltip: false,\n      showTextTooltip: false,\n      showVideoTooltip: false,\n      showPlayPauseTooltip: false,\n      showResetTooltip: false,\n      showConstellationTooltip: false,\n      showLocationSelector: false,\n      tab: 0,\n      chartVisible: false,\n      revealAnswer: false,\n\n      circle: null as L.Circle | null,\n      map: null as Map | null,\n\n      selectionProximity: 4,\n      pointerMoveThreshold: 6,\n      isPointerMoving: false,\n      pointerStartPosition: null as { x: number; y: number } | null,\n\n      // Harvard Observatory\n      timeOfDay: { hours: now.getHours(), minutes: now.getMinutes(), seconds: now.getSeconds() },\n      selectedTime: now.setUTCHours(0, 0, 0, 0),\n      selectedTimezone: \"America/New_York\",\n      location: {\n        latitudeRad: D2R * 42.3814,\n        longitudeRad: D2R * -71.1281\n      } as LocationRad,\n      locationErrorMessage: \"\"\n    };\n  },\n\n  mounted() {\n\n    this.$nextTick(() => {\n      window.addEventListener('resize', this.onResize);\n      this.onResize();\n    });\n\n    this.waitForReady().then(async () => {\n\n      // Unlike the other things we're hacking here,\n      // we aren't overwriting a method on a singleton instance (WWTControl)\n      // or a static method (Constellations, Grids)\n      // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n      // @ts-ignore\n      SpreadSheetLayer.prototype.draw = drawSpreadSheetLayer;\n\n      this.imagesetFolder = await this.loadImageCollection({\n        url: this.wtml.imageCollection,\n        loadChildFolders: false\n      });\n      const children = this.imagesetFolder.get_children() ?? [];\n      const layerPromises: Promise<Layer>[] = [];\n      children.forEach((item) => {\n        if (!(item instanceof Place)) { return; }\n        const imageset = item.get_backgroundImageset() ?? item.get_studyImageset();\n        if (imageset == null) { return; }\n        const name = imageset.get_name();\n        layerPromises.push(this.addImageSetLayer({\n          url: imageset.get_url(),\n          mode: \"autodetect\",\n          name: name,\n          goto: false\n        }).then((layer) => {\n          this.imagesetLayers[name] = layer;\n          this.places[name] = item;\n          applyImageSetLayerSetting(layer, [\"opacity\", 0]);\n          return layer;\n        }));\n      });\n      \n\n      this.loadImageCollection({\n        url: this.bgWtml,\n        loadChildFolders: true,\n      });\n      \n      this.backgroundImagesets = [...skyBackgroundImagesets];\n\n      // this.getLocation(true);\n      this.setClockSync(false);\n      // create date with y m d h m s\n\n      this.setTime(this.dateTime);\n\n      Promise.all(layerPromises).then(() => {\n        this.layersLoaded = true;\n        \n        // Set all of the imageset layers to be above the spreadsheet layers\n        this.resetImagesetLayerOrder();\n\n        const splashScreenListener = (_event: KeyboardEvent) => {\n          this.showSplashScreen = false;\n          window.removeEventListener('keyup', splashScreenListener);\n        };\n        window.addEventListener('keyup', splashScreenListener);\n\n        window.addEventListener('keyup', (event: KeyboardEvent) => {\n          if ([\"Esc\", \"Escape\"].includes(event.key) && this.showVideoSheet) {\n            this.showVideoSheet = false;\n          }\n        });\n      });\n\n      // set to use SDSS as background\n      // this.wwtControl.setBackgroundImageByName(\"SDSS: Sloan Digital Sky Survey (Optical) [DR7]\");\n      this.wwtControl.setBackgroundImageByName(this.bgName ? this.bgName : \"Digitized Sky Survey (Color)\");\n      this.wwtSettings.set_localHorizonMode(false);\n      this.wwtSettings.set_showAltAzGrid(this.showAltAzGrid);\n      this.wwtSettings.set_showAltAzGridText(this.showAltAzGrid);\n      this.wwtSettings.set_showConstellationLabels(this.showConstellations);\n      this.wwtSettings.set_showConstellationFigures(this.showConstellations);\n\n      // This is kinda horrible, but it works!\n\n      // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n      // @ts-ignore\n      this.wwtControl._drawSkyOverlays = drawSkyOverlays;\n      // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n      // @ts-ignore\n      Constellations.initializeConstellationNames = initializeConstellationNames;\n      Grids._makeAltAzGridText = makeAltAzGridText;\n\n      // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n      // @ts-ignore\n      LayerManager._draw = layerManagerDraw;\n\n      this.updateWWTLocation();\n\n      // wwtZoomDeg is still 0 if we run this here\n      // and it was the same in nextTick\n      // so give just a bit of a delay\n      setTimeout(() => {\n        this.centerView();\n        this.positionSet = true;\n\n        const createArrowFunction = () => {\n          try {\n            this.createArrow();\n            if (this.showArrow) {\n              this.displayArrow();\n            }\n          } catch (err) {\n            setTimeout(createArrowFunction, 100);\n          }\n        };\n        setTimeout(createArrowFunction, 100);\n      }, 100);\n\n    });\n  },\n\n  computed: {\n\n    selectedDate(): Date {\n      return new Date(this.selectedTime);\n    },\n    \n    dateTime() {\n      const todMs = this.dayFrac * MILLISECONDS_PER_DAY;\n      return new Date(this.selectedDate.getTime() + todMs);\n    },\n\n    selectedTimezoneOffset() {\n      return getTimezoneOffset(this.selectedTimezone);\n    },\n\n    isLoading(): boolean {\n      return !this.ready;\n    },\n    ready(): boolean {\n      return this.layersLoaded && this.positionSet;\n    },\n    smallSize(): boolean {\n      return this.$vuetify.display.smAndDown;\n    },\n    mobile(): boolean {\n      return this.smallSize && this.touchscreen;\n    },\n    cssVars() {\n      return {\n        '--accent-color': this.accentColor,\n        '--accent-color-2': this.accentColor2,\n        '--accent-color-3': this.accentColor3,\n        '--app-content-height': this.showTextSheet ? '66%' : '100%',\n      };\n    },\n    wwtControl(): WWTControl {\n      return WWTControl.singleton;\n    },\n    wwtRenderContext(): RenderContext {\n      return this.wwtControl.renderContext;\n    },\n    wwtSettings(): Settings {\n      // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n      // @ts-ignore\n      return Settings.get_active();\n    },\n    dayFrac(): number {\n      const dateForTOD = new Date();\n      const timezoneOffsetHours = this.selectedTimezoneOffset / (60 * 60 * 1000);\n      dateForTOD.setUTCHours(this.timeOfDay.hours - timezoneOffsetHours, this.timeOfDay.minutes, this.timeOfDay.seconds);\n      const todMs = 1000 * (3600 * dateForTOD.getUTCHours() + 60 * dateForTOD.getUTCMinutes() + dateForTOD.getUTCSeconds());\n      return todMs / MILLISECONDS_PER_DAY;\n    },\n\n    dontSetTime(): boolean {\n      // return this.selectedTime %MILLISECONDS_PER_DAY !== 0;\n      return false;\n    },\n    \n    showTextSheet: {\n      get(): boolean {\n        return this.sheet === 'text';\n      },\n      set(_value: boolean) {\n        this.selectSheet('text');\n        this.showTextTooltip = false;\n      }\n    },\n    showVideoSheet: {\n      get(): boolean {\n        return this.sheet === \"video\";\n      },\n      set(value: boolean) {\n        this.selectSheet('video');\n        if (!value) {\n          const video = document.querySelector(\"#info-video\") as HTMLVideoElement;\n          video.pause();\n        }\n        this.showVideoTooltip = false;\n      }\n    },\n    // altAz() {\n    //   return this.equatorialToHorizontal(this.wwtRARad, this.wwtDecRad, this.location.latitudeRad, this.location.longitudeRad, this.selectedDate || new Date());\n    // }\n  },\n\n  methods: {\n    \n    \n    getCssVal(element: HTMLElement, property: string): number {\n      const val = window.getComputedStyle(element).getPropertyValue(property);\n      return val ? parseFloat(val.slice(0,-1)) : 0;\n    }, \n    \n    onResize() {\n      const toolsDiv = document.getElementById(\"tools\");\n      if (toolsDiv == null) {\n        return;\n      }\n\n      const chartContainer = document.getElementById(\"chart-container\");\n      if (chartContainer == null) {\n        return;\n      }\n\n      const slider = document.getElementById(\"slider\") as HTMLElement;\n      if (slider == null) {\n        return;\n      }\n\n      const inputRail = toolsDiv.getElementsByClassName(\"vue-slider-rail\")[0] as HTMLElement;\n      if (inputRail == null) {\n        return;\n      }\n      \n      const borderWidth = chartContainer.style.borderWidth ? parseInt(chartContainer.style.borderWidth) : 0;\n      const inputRailWidth = inputRail.clientWidth;\n      const chartContainerNewWidth = Math.round(inputRailWidth + this.chartBounds.borders.left + this.chartBounds.borders.right +  borderWidth);\n      \n      chartContainer.style.width = `${chartContainerNewWidth}px`;\n      // chartContainer.style.left = `${inputRail.offsetLeft}px`;\n      const sliderMarginRight = this.getCssVal(slider, 'margin-right');\n      const chartContainerMarginRight = sliderMarginRight - this.chartBounds.borders.right;\n      chartContainer.style.marginRight = `${chartContainerMarginRight}px`; \n\n\n\n      // fix updown position\n      const inputRailBounds = inputRail.getBoundingClientRect();\n\n\n      const chartYAxisDelta = this.chartBounds.borders.bottom;\n      const chartYAxisPosition = chartContainer.getBoundingClientRect().bottom - chartYAxisDelta;\n      const inputRailMid = (inputRailBounds.top + inputRailBounds.bottom) / 2;\n      const difference = chartYAxisPosition - inputRailMid;\n\n      const newMargin = this.getCssVal(chartContainer, 'margin-bottom') + difference;\n\n      chartContainer.style.marginBottom = `${Math.round(newMargin)}px`;\n      \n      return;\n    },\n\n    rotatePoint(point: Point, origin: Point, angleDeg: number): Point {\n      const xp = point[0] - origin[0];\n      const yp = point[1] - origin[1];\n      const angleRad = angleDeg * D2R;\n      return [\n        origin[0] + xp * Math.cos(angleRad) - yp * Math.sin(angleRad),\n        origin[1] + xp * Math.sin(angleRad) + yp * Math.cos(angleRad)\n      ];\n    },\n\n    createArrow() {\n\n      const m101XY = getScreenPosForCoordinates(this.wwtControl, this.m101RADeg * D2H, this.m101DecDeg);\n      const m101Point: Point = [m101XY.x, m101XY.y];\n    \n      // Create the outer (purple) arrow\n      this.outerArrow = new Poly();\n      const outerArrowCoordinates: Point[] = [];\n\n      const pointRA = this.m101RADeg;\n      const centerDec = this.m101DecDeg;\n      const arrowHalfHeight = 0.02;\n      const stemFraction = 0.4;\n      const headWidth = 0.05;\n      const stemWidth = 0.05;\n      const headBackRA = pointRA + headWidth;\n      const stemBackRA = headBackRA + stemWidth;\n      const topDec = centerDec + arrowHalfHeight;\n      const bottomDec = centerDec - arrowHalfHeight;\n      const stemHalfHeight = stemFraction * arrowHalfHeight;\n      const stemTopDec = centerDec + stemHalfHeight;\n      const stemBottomDec = centerDec - stemHalfHeight;\n      outerArrowCoordinates.push([pointRA, centerDec]);\n      outerArrowCoordinates.push([headBackRA, topDec]);\n      outerArrowCoordinates.push([headBackRA, stemTopDec]);\n      outerArrowCoordinates.push([stemBackRA, stemTopDec]);\n      outerArrowCoordinates.push([stemBackRA, stemBottomDec]);\n      outerArrowCoordinates.push([headBackRA, stemBottomDec]);\n      outerArrowCoordinates.push([headBackRA, bottomDec]);\n\n      for (const coords of outerArrowCoordinates) {\n        const point = getScreenPosForCoordinates(this.wwtControl, coords[0] * D2H, coords[1]);\n        const rotatedPoint = this.rotatePoint([point.x, point.y], m101Point, this.arrowAngleDeg);\n        const rotatedCoords = this.findRADecForScreenPoint({x: rotatedPoint[0], y: rotatedPoint[1]});\n        this.outerArrow.addPoint(rotatedCoords.ra, rotatedCoords.dec);\n      }\n\n\n      this.outerArrow.set_lineColor(this.accentColor);\n      this.outerArrow.set_fillColor(this.accentColor);\n      this.outerArrow.set_fill(true);\n      \n      // Create the inner (white) arrow\n      this.innerArrow = new Poly();\n      const innerArrowCoordinates: Point[] = [];\n      \n      const delta = 0.002; // The thickness of the outer \"border\"\n      const headSlope = (topDec - centerDec) / (headBackRA - pointRA);\n      const innerPointRA = pointRA + delta * Math.sqrt(1 + (headSlope ** 2) ) / headSlope;\n      const innerHeadBackRA = headBackRA - delta; \n      const innerStemBackRA = stemBackRA - delta;\n      const innerTopDec = headSlope * (innerHeadBackRA - innerPointRA) + centerDec;\n      const innerBottomDec = 2 * centerDec - innerTopDec;\n      const innerStemTopDec = stemTopDec - delta;\n      const innerStemBottomDec = stemBottomDec + delta;\n      innerArrowCoordinates.push([innerPointRA, centerDec]);\n      innerArrowCoordinates.push([innerHeadBackRA, innerTopDec]); \n      innerArrowCoordinates.push([innerHeadBackRA, innerStemTopDec]);\n      innerArrowCoordinates.push([innerStemBackRA, innerStemTopDec]); \n      innerArrowCoordinates.push([innerStemBackRA, innerStemBottomDec]);\n      innerArrowCoordinates.push([innerHeadBackRA, innerStemBottomDec]);\n      innerArrowCoordinates.push([innerHeadBackRA, innerBottomDec]);\n\n      for (const coords of innerArrowCoordinates) {\n        const point = getScreenPosForCoordinates(this.wwtControl, coords[0] * D2H, coords[1]);\n        const rotatedPoint = this.rotatePoint([point.x, point.y], m101Point, this.arrowAngleDeg);\n        const rotatedCoords = this.findRADecForScreenPoint({x: rotatedPoint[0], y: rotatedPoint[1]});\n        this.innerArrow.addPoint(rotatedCoords.ra, rotatedCoords.dec);\n      }\n\n      const innerColor = \"#ffffff\";\n      this.innerArrow.set_lineColor(innerColor);\n      this.innerArrow.set_fillColor(innerColor);\n      this.innerArrow.set_fill(true);\n\n      this.arrowCreated = true;\n    },\n\n    displayArrow() {\n      if (!this.arrowCreated) {\n        this.createArrow();\n      }\n      if (this.outerArrow) {\n        this.addAnnotation(this.outerArrow);\n      }\n      if (this.innerArrow) {\n        this.addAnnotation(this.innerArrow);\n      }\n    },\n\n    hideArrow() {\n      if (this.outerArrow) {\n        this.removeAnnotation(this.outerArrow);\n      }\n      if (this.innerArrow) {\n        this.removeAnnotation(this.innerArrow);\n      }\n    },\n\n    updateArrow(show: boolean) {\n      if (show) {\n        this.displayArrow();\n      } else {\n        this.hideArrow();\n      }\n    },\n\n    clearPlayingInterval() {\n      if (this.playingIntervalId !== null) {\n        clearInterval(this.playingIntervalId);\n        this.playingIntervalId = null;\n      }\n    },\n\n\n    getClosest(arr: number[], val: number, index = false): number {\n      if (arr.includes(val)) {\n        return arr.indexOf(val);\n      }\n\n      const closest = arr.reduce((prev, curr) => {\n        return (Math.abs(curr - val) < Math.abs(prev - val) ? curr : prev);\n      });\n\n      return index ? arr.indexOf(closest) : closest;\n    },\n\n\n    nextDate(wrap = false) {\n      const index = this.getClosest(this.dates, this.selectedTime, true);\n      if (this.dates[index] > this.selectedTime) {\n        return this.dates[index];\n      } else {\n        const next = index + 1;\n        return this.dates[(wrap || next === this.dates.length) ? 0 : next];\n\n      }\n    },\n\n    previousDate(wrap = false) {\n      const index = this.getClosest(this.dates, this.selectedTime, true);\n      if (this.dates[index] < this.selectedTime) {\n        this.selectedTime = this.dates[index];\n      } else {\n        const prev = index - 1;\n        this.selectedTime = this.dates[(wrap || prev < 0) ? this.dates.length + -1 : prev];\n\n      }\n    },\n\n    moveOneDayForward() {\n      this.selectedTime += MILLISECONDS_PER_DAY;\n    },\n\n    moveOneDayBackward() {\n      this.selectedTime -= MILLISECONDS_PER_DAY;\n    },\n\n    toDateString(date: Date) {\n      // date = new Date(date.getTime() + this.selectedTimezoneOffset) // ignore timezone\n      const dateString = `${date.getUTCMonth() + 1}/${date.getUTCDate()}/${date.getUTCFullYear()}`;\n      // const timeString = `${date.getUTCHours()}:${date.getUTCMinutes().toString().padStart(2, '0')}`;\n      return dateString;\n    },\n\n    interpolatedTable(table: Table): Table | null {\n      const index = table.findIndex(r => r.date.getTime() === this.selectedTime);\n      if (index === -1) { return null; }\n      const row = table[index];\n      const nextRow = table[index + 1] ?? row;\n      const deltaT = (nextRow.date.getTime() - row.date.getTime()) / MILLISECONDS_PER_DAY;\n      // get how far we are into the day\n      const dayFracPassed = (row.date.getTime() / MILLISECONDS_PER_DAY) % 1;\n      const f = (this.dayFrac - dayFracPassed) / deltaT;\n      const interpolatedRA = (1 - f) * row.ra + f * nextRow.ra;\n      const interpolatedDec = (1 - f) * row.dec + f * nextRow.dec;\n\n      const interpolatedRow: TableRow = { ...row };\n      interpolatedRow.ra = interpolatedRA;\n      interpolatedRow.dec = interpolatedDec;\n      return Object.assign([interpolatedRow], { columns: table.columns });\n    },\n\n    // JC: When the \"allow imagesets above spreadsheets\" functionality\n    // gets added into the engine,\n    // remember to add something like this along with it\n    setSpreadSheetLayerOrder(id: string, order: number) {\n      const layer = LayerManager.get_layerList()[id];\n      const layers = LayerManager.get_allMaps()[layer.get_referenceFrame()].layers;\n      if (order >= 0) {\n        const currentIndex = layers.indexOf(layer);\n        if (currentIndex > -1) {\n          layers.splice(currentIndex, 1);\n        }\n        LayerManager.get_allMaps()[layer.get_referenceFrame()].layers.splice(order, 0, layer);\n      }\n    },\n\n    updateLayersForDate() {\n      if (!this.showSpeadSheetLater) { return; }\n      \n      this.interpolatedDailyTable = this.interpolatedTable(fullDatesTable);\n      if (this.currentAllLayer !== null) {\n        this.deleteLayer(this.currentAllLayer.id);\n        this.currentAllLayer = null;\n      }\n    },\n\n    closeSplashScreen() {\n      this.showSplashScreen = false;\n    },\n\n    updateWWTLocation() {\n      this.wwtSettings.set_locationLat(R2D * this.location.latitudeRad);\n      this.wwtSettings.set_locationLng(R2D * this.location.longitudeRad);\n    },\n\n    logLocation() {\n      console.log(this.location.latitudeRad * R2D, this.location.longitudeRad * R2D);\n    },\n\n    logPosition() {\n      console.log(this.wwtRARad * R2D, this.wwtDecRad * R2D);\n    },\n\n    printUTCDate(date: Date) {\n      return `${date.getUTCMonth() + 1}/${date.getUTCDate()}/${date.getUTCFullYear()} ${date.getUTCHours()}:${date.getUTCMinutes()}:${date.getUTCSeconds()}`;\n    },\n\n    selectSheet(name: SheetType) {\n      if (this.sheet == name) {\n        this.sheet = null;\n        this.$nextTick(() => {\n          this.blurActiveElement();\n        });\n      } else {\n        this.sheet = name;\n      }\n    },\n\n    getImageSetLayerIndex(layer: ImageSetLayer): number {\n      // find layer in this.wwtActiveLayers\n      // this.wwtActiveLayers is a dictionary of {0:id1, 1:id2, 2:id3, ...}\n      // get the key item with the value of layer.id\n      for (const [key, value] of Object.entries(this.wwtActiveLayers)) {\n        if (value === layer.id.toString()) {\n          return Number(key);\n        }\n      }\n      return -1;\n    },\n\n    resetImagesetLayerOrder() {\n      // Reset the order of the imageset layers\n      Object.keys(this.imagesetLayers).sort((k1, k2) => {\n        return new Date(k1).getTime() - new Date(k2).getTime();\n      }).forEach((key) => {\n        const layer = this.imagesetLayers[key];\n        this.setImageSetLayerOrder({\n          id: layer.id.toString(),\n          order: this.wwtActiveLayers.length\n        });\n      });\n    },\n\n    getImageSetDate(place: Place): Date | null  {\n      const iset = place.get_studyImageset() ?? place.get_backgroundImageset();\n      if (iset == null) { return null; }\n      const names = this.imageDateRef['names'];\n      const dates = this.imageDateRef['dates'];\n      return new Date(dates[names.indexOf(iset.get_name())]);\n    },\n    \n    onItemDeselected(place: Place) {\n      \n      if (place == null) {\n        return;\n      }\n      const iset = place.get_studyImageset() ?? place.get_backgroundImageset();\n      if (iset == null) { return; }\n\n      const name = iset.get_name();\n      const layer = this.imagesetLayers[name];\n      console.log('onItemDeselected', name);\n      if (layer == null) {\n        return;\n      } else {\n        this.setLayerOpacityForImageSet(name, 0);\n      }\n      \n    },\n    \n    async onItemSelected(place: Place) {\n\n      if (place == null) {\n        console.log('place is null');\n        this.hideAllImagesets();\n        return;\n      }\n      // hide previous so it compares to background\n      this.hideAllImagesets();\n      \n      const iset = place.get_studyImageset() ?? place.get_backgroundImageset();\n      if (iset == null) { return; }\n\n      const name = iset.get_name();\n      let layer = this.imagesetLayers[name];\n      if (layer == null) {\n        layer = await this.addImageSetLayer({\n          url: iset.get_url(),\n          mode: \"autodetect\",\n          name: iset.get_name(),\n          goto: false \n        });\n        this.imagesetLayers[name] = layer;\n      }\n      this.currentLayer = layer;\n      this.setLayerOpacityForImageSet(name, 1);\n            \n      this.playing = false;\n      this.playingImagePath = false;\n      console.log('onItemSelected', name);\n      if (this.imageOutOfView(place) || this.needToZoomIn(place)) {\n        this.gotoRADecZoom({\n          raRad: D2R * iset.get_centerX(),\n          decRad: D2R * iset.get_centerY(),\n          zoomDeg: this.wwtZoomDeg,\n          instant: true\n        });\n      }\n    },\n    \n\n    wwtSmallestFov(): number {\n      // ignore the possibility of rotation\n      const w = this.wwtRenderContext.width;\n      const h = this.wwtRenderContext.height;\n      const fovH = this.wwtRenderContext.get_fovAngle() * D2R;\n      const fovW = fovH * w / h;\n      return Math.min(fovW, fovH);\n    },\n\n    radecInFOV(ra: number, dec: number, center_ra: number, center_dec: number, fov: number, fov_view: number, fraction_of_place: number): boolean {\n      let dist = distance(ra, dec, center_ra, center_dec);\n      dist += (fraction_of_place - 1/2) * fov;\n      return dist < fov_view / 2;\n    },\n\n    moveIfTableRowOfFOV(position: TableRow) {\n      // get imageset of date\n      const move = this.radecInFOV(\n        D2R * position.ra * D2R,\n        D2R * position.dec * D2R,\n        this.wwtRARad,\n        this.wwtDecRad,\n        10 * D2R,\n        this.wwtRenderContext.get_fovAngle() * D2R,\n        1/2\n      );\n\n      return move;\n      \n    },\n    \n    checkIfPlaceIsInTheCurrentFOV(place: Place, fraction_of_place = 1/2): boolean {\n      // checks if the center of place is in the current field of view\n      // Assume the Zoom level corresponds to the size of the image\n      // fraction_of_place is ~fraction of the place that must be in the current FOV\n      // by default, allow 1/3 of the place to be visible and still be considered in view\n      const iset = place.get_studyImageset() ?? place.get_backgroundImageset();\n      if (iset == null) {\n        return false;\n      }\n\n      const isetRa = iset.get_centerX() * D2R;\n      const isetDec = iset.get_centerY() * D2R;\n      const isetFov = (place.get_zoomLevel() / 6) * D2R;\n      \n      const curRa = this.wwtRARad;\n      const curDec = this.wwtDecRad;\n      const curFov = this.wwtSmallestFov();\n\n      return this.radecInFOV(isetRa, isetDec, curRa, curDec, isetFov, curFov, fraction_of_place);\n    },\n\n    // convenience wrapper for (not checkIfPlaceIsInTheCurrentFOV)\n    imageOutOfView(place: Place): boolean {\n      return !this.checkIfPlaceIsInTheCurrentFOV(place);\n    },\n\n    needToZoomIn(place = null as Place | null, factor = 5): boolean {\n      // 1) we are already zoomed all the way out (if FOV > 50)\n      if (this.wwtZoomDeg > 300) { return true; }\n\n      if (place == null) {\n        if (this.incomingItemSelect == null) { return false; }\n        place = this.incomingItemSelect as Place;\n      }\n      // 2) the image is too small (so it's fov < 1/6 of the current fov)\n      const iset = place.get_studyImageset() ?? place.get_backgroundImageset();\n      if (iset != null) {\n        if (place.get_zoomLevel() * factor < this.wwtZoomDeg) { return true; }\n      }\n      \n      return false;\n    },\n    \n    viewIsBad(place: Place, factor = 5): boolean {\n      if (place == null) {\n        place = this.incomingItemSelect as Place;\n      }\n\n      if (place == null) { return false; }\n\n      return this.imageOutOfView(place) || this.needToZoomIn(place, factor);\n    },\n    \n    onTimeSliderChange(options?: MoveOptions) {\n      this.$nextTick(() => {\n        this.showImageForDateTime(new Date(this.selectedTime), true);\n        this.updateViewForDate(options);\n      });\n    },\n\n    \n    \n    onOpacityChanged(place: Place, opacity: number, move: boolean) {\n      const iset = place.get_studyImageset() ?? place.get_backgroundImageset();\n      if (iset == null) { return; }\n      this.updateImageOpacity(place, opacity);\n\n      this.$nextTick(() => {\n        if ((this.imageOutOfView(place) && move) || (this.needToZoomIn(place, 8) && move)) {\n          this.selectedTime = this.imageSortBy[iset.get_name()];\n          // const [month, day, year] = iset.get_name().split(\"/\").map(x => parseInt(x));\n          // if (month && day && year) {\n          //   this.selectedTime = Date.UTC(year, month - 1, day); \n          // }\n          \n          \n          this.incomingItemSelect = place;\n\n          this.gotoRADecZoom({\n            raRad: D2R * iset.get_centerX(),\n            decRad: D2R * iset.get_centerY(),\n            zoomDeg: this.optionalZoom(place), // zoom if factor of 2.5x image zoomLevel\n            instant: false\n          });\n        }\n      });\n    },\n\n    updateImageOpacity(place: Place, opacity: number) {\n      const iset = place.get_studyImageset() ?? place.get_backgroundImageset();\n      if (iset == null) { return; }\n      const layer = this.imagesetLayers[iset.get_name()];\n      if (layer == null) { return; }\n      // applyImageSetLayerSetting(layer, [\"opacity\", opacity / 100]);\n      // tell setLayerOpacityForImageSet that we are updating from the ui\n      this.setLayerOpacityForImageSet(iset.get_name(), opacity / 100, true);\n    },\n    \n    onToggle(place: Place, checked: boolean) {\n      // when we toggle the image we want to set it's opacity to zero\n      const iset = place.get_studyImageset() ?? place.get_backgroundImageset();\n      if (iset == null) { return; } \n      const iname = iset.get_name();\n      this.setLayerOpacityForImageSet(iname, checked ? 1 : 0);\n    },\n    \n    setupLocationSelector() {\n      const locationDeg: [number, number] = [R2D * this.location.latitudeRad, R2D * this.location.longitudeRad];\n      const map = L.map(\"map-container\").setView(locationDeg, 4);\n      // L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {\n      //   maxZoom: 19,\n      //   attribution: '&copy; <a href=\"http://www.openstreetmap.org/copyright\" target=\"_blank\" rel=\"noopener noreferrer\">OpenStreetMap</a>',\n      //   className: 'map-tiles'\n      // }).addTo(map);\n      L.tileLayer('https://{s}.google.com/vt/lyrs=p&x={x}&y={y}&z={z}',{\n        maxZoom: 20,\n        subdomains:['mt0','mt1','mt2','mt3'],\n        attribution: `&copy <a href=\"https://www.google.com/maps\" target=\"_blank\" rel=\"noopener noreferrer\">Google Maps</a>`,\n        className: 'map-tiles'\n      }).addTo(map);\n\n      this.circle = this.circleForLocation(...locationDeg).addTo(map);\n\n      map.doubleClickZoom.disable();\n      map.on('dblclick', this.onMapSelect);\n      this.map = map;\n    },\n\n    onMapSelect(e: LeafletMouseEvent) {\n      let lngRad = e.latlng.lng * D2R + Math.PI;\n      const twoPi = 2 * Math.PI;\n      lngRad = ((lngRad % twoPi) + twoPi) % twoPi; // We want modulo, but JS % operator is remainder\n      lngRad -= Math.PI;\n      this.location = {\n        latitudeRad: e.latlng.lat * D2R,\n        longitudeRad: lngRad\n      };\n    },\n\n    circleForLocation(latDeg: number, lonDeg: number): L.Circle {\n      return L.circle([latDeg, lonDeg], {\n        color: \"#FF0000\",\n        fillColor: \"#FF0033\",\n        fillOpacity: 0.5,\n        radius: 200\n      });\n    },\n\n    getLocation(startup = false) {\n      const options = { timeout: 10000, enableHighAccuracy: true };\n\n      navigator.geolocation.getCurrentPosition(\n        (position) => {\n          this.location = {\n            longitudeRad: D2R * position.coords.longitude,\n            latitudeRad: D2R * position.coords.latitude\n          };\n\n          if (this.map) {\n            this.map.setView([position.coords.latitude, position.coords.longitude], this.map.getZoom());\n          }\n        },\n        (_error) => {\n          const msg = \"Unable to autodetect location. Location will default to Cambridge, MA, USA, or you can\\nuse the location selector to manually input a location.\";\n          if (startup) {\n            this.$notify({\n              group: \"startup-location\",\n              type: \"error\",\n              text: msg,\n              duration: 4500\n            });\n          } else {\n            this.locationErrorMessage = msg;\n          }\n          //this.updateHorizon();\n        },\n        options\n      );\n    },\n\n    // WWT does have all of this functionality built in\n    // but it doesn't seem to be exposed\n    // We should do that, but for now we just copy the web engine code\n    // https://github.com/Carifio24/wwt-webgl-engine/blob/master/engine/wwtlib/Coordinates.cs\n    altAzToHADec(altRad: number, azRad: number, latRad: number): { ra: number; dec: number; } {\n      azRad = Math.PI - azRad;\n      if (azRad < 0) {\n        azRad += 2 * Math.PI;\n      }\n      let ra = Math.atan2(Math.sin(azRad), Math.cos(azRad) * Math.sin(latRad) + Math.tan(altRad) * Math.cos(latRad));\n      if (ra < 0) {\n        ra += 2 * Math.PI;\n      }\n      const dec = Math.asin(Math.sin(latRad) * Math.sin(altRad) - Math.cos(latRad) * Math.cos(altRad) * Math.cos(azRad));\n      return { ra, dec };\n    },\n\n    getJulian(utc: Date): number {\n      let year = utc.getUTCFullYear();\n      let month = utc.getUTCMonth()+1;\n      const day = utc.getUTCDate();\n      const hour = utc.getUTCHours();\n      const minute = utc.getUTCMinutes();\n      const second = utc.getUTCSeconds() + utc.getUTCMilliseconds() / 1000.0;\n\n      if (month == 1 || month == 2)\n      {\n        year -= 1;\n        month += 12;\n      }\n\n      const a = Math.floor(year / 100);\n      const b = 2 - a + Math.floor(a / 4.0);\n      const c = Math.floor(365.25 * year);\n      const d = Math.floor(30.6001 * (month + 1));\n\n      // gives julian date: number of days since Jan 1, 4713 BC\n      const jd = b + c + d + 1720994.5 + day + (hour + minute / 60.00 + second / 3600.00) / 24.00;\n      return jd;\n\n    },\n    \n    mstFromUTC2(utc: Date, longRad: number): number {\n      const lng = longRad * R2D;\n\n      const modifiedJD = this.getJulian(utc)  - 2451545;\n\n      const julianCenturies = modifiedJD / 36525.0;\n      // this form wants julianDays - 2451545\n      let mst = 280.46061837 + 360.98564736629 * modifiedJD + 0.000387933 * julianCenturies * julianCenturies - julianCenturies * julianCenturies * julianCenturies / 38710000 + lng;\n\n      if (mst > 0.0) {\n        while (mst > 360.0) {\n          mst = mst - 360.0;\n        }\n      } else {\n        while (mst < 0.0) {\n          mst = mst + 360.0;\n        }\n      }\n\n      return mst;\n    },\n\n    horizontalToEquatorial(altRad: number, azRad: number, latRad: number, longRad: number, utc: Date): EquatorialRad {\n      const st = this.mstFromUTC2(utc, longRad); // siderial time \n  \n      const haDec = this.altAzToHADec(altRad, azRad, latRad); // get Hour Angle and Declination\n      \n      const ha = haDec.ra * R2D;\n\n      let ra = st + ha;\n      if (ra < 0) {\n        ra += 360;\n      }\n      if (ra > 360) {\n        ra -= 360;\n      }\n      // ra -= 180;\n      // console.log(`Alt: ${(altRad*R2D).toFixed(2)} Az: ${(azRad*R2D).toFixed(2)} Ra: ${ra.toFixed(2)} Dec: ${(haDec.dec*R2D).toFixed(2)}`)\n\n      return { raRad: D2R * ra, decRad: haDec.dec };\n    },\n\n    equatorialToHorizontal(raRad: number, decRad: number, latRad: number, longRad: number, utc: Date): HorizontalRad {\n      let hourAngle = this.mstFromUTC2(utc, longRad) - R2D * raRad;\n      if (hourAngle < 0) {\n        hourAngle += 360;\n      }\n\n      const ha = D2R * hourAngle;\n      const dec = decRad;\n      const lat = latRad;\n      \n      const sinAlt = Math.sin(dec) * Math.sin(lat) + Math.cos(dec) * Math.cos(lat) * Math.cos(ha);\n      const altitude = Math.asin(sinAlt);\n      const cosAz = (Math.sin(dec) - Math.sin(altitude) * Math.sin(lat)) / (Math.cos(altitude) * Math.cos(lat));\n      let azimuth = Math.acos(cosAz);\n\n      azimuth = azimuth + (Math.PI * 80) % (Math.PI * 2);\n\n      if (Math.sin(ha) > 0) {\n        azimuth = 2 * Math.PI - azimuth;\n      }\n      return { altRad: altitude, azRad: azimuth };\n\n    },\n\n    createHorizon(when: Date | null = null) {\n      this.removeHorizon();\n\n      const color = '#01362C';\n      const date = when || this.dateTime || new Date();\n\n      // The initial coordinates are given in Alt/Az, then converted to RA/Dec\n      // Use N annotations to cover below the horizon\n      const n = 6;\n      const delta = 2 * Math.PI / n;\n      for (let i = 0; i < n; i++) {\n        let points: [number, number][] = [\n          [0, i * delta],\n          [-Math.PI / 2, i * delta],\n          [0, (i + 1) * delta]\n        ];\n        points = points.map((point) => {\n          const raDec = this.horizontalToEquatorial(...point, this.location.latitudeRad, this.location.longitudeRad, date);\n          return [R2D * raDec.raRad, R2D * raDec.decRad];\n        });\n        const poly = new Poly();\n        points.forEach(point => poly.addPoint(...point));\n        poly.set_lineColor(color);\n        poly.set_fill(true);\n        poly.set_fillColor(color);\n        this.addAnnotation(poly);\n      }\n\n    },\n\n    closestPoint(\n      point: { x: number; y: number; },\n      threshold?: number\n    ): TableRow | null {\n      const raDecDeg = this.findRADecForScreenPoint(point);\n      const target = { ra: D2R * raDecDeg.ra, dec: D2R * raDecDeg.dec };\n\n      let minDist = Infinity;\n      let closestPt = null as TableRow | null;\n\n      [imageDatesTable, fullDatesTable].forEach((table) => {\n        table.forEach(row => {\n          const raRad = row.ra * D2R;\n          const decRad = row.dec * D2R;\n\n          const dist = distance(target.ra, target.dec, raRad, decRad);\n          if (dist < minDist) {\n            closestPt = row;\n            minDist = dist;\n          }\n\n        });\n      });\n\n      if (closestPt !== null) {\n        const closestScreenPoint = this.findScreenPointForRADec(closestPt);\n        const pixelDist = Math.sqrt((point.x - closestScreenPoint.x) ** 2 + (point.y - closestScreenPoint.y) ** 2);\n        if (!threshold || pixelDist < threshold) {\n          return closestPt;\n        }\n      }\n      return null;\n    },\n\n    removeHorizon() {\n      //this.clearAnnotations();\n    },\n\n    updateLastClosePoint(event: PointerEvent) {\n      const pt = { x: event.offsetX, y: event.offsetY };\n      const closestPt = this.closestPoint(pt, this.selectionProximity);\n      if (closestPt == null && this.lastClosePt == null) {\n        return;\n      }\n      const needsUpdate =\n        closestPt == null ||\n        this.lastClosePt == null ||\n        this.lastClosePt.ra != closestPt.ra ||\n        this.lastClosePt.dec != closestPt.dec;\n      if (needsUpdate) {\n        this.lastClosePt = closestPt;\n      }\n    },\n\n    onPointerMove(event: PointerEvent) {\n      if (!this.isPointerMoving && this.pointerStartPosition !== null) {\n        const dist = Math.sqrt((event.pageX - this.pointerStartPosition.x) ** 2 + (event.pageY - this.pointerStartPosition.y) ** 2);\n        if (dist > this.pointerMoveThreshold) {\n          this.isPointerMoving = true;\n        }\n      }\n\n      this.updateLastClosePoint(event);\n    },\n\n    onPointerDown(event: PointerEvent) {\n      this.isPointerMoving = false;\n      this.pointerStartPosition = { x: event.pageX, y: event.pageY };\n    },\n\n    onPointerUp(event: PointerEvent) {\n      if (!this.isPointerMoving) {\n        this.updateLastClosePoint(event);\n        if (this.lastClosePt !== null) {\n          this.selectedTime = this.lastClosePt.date.getTime();\n          this.$nextTick(() => {\n            this.onTimeSliderChange();\n          });\n        }\n      }\n      this.pointerStartPosition = null;\n      this.isPointerMoving = false;\n    },\n\n    updateViewForDate(options?: MoveOptions) {\n      let position = null as TableRow | null;\n\n      const cometImageIndex = imageDates.findIndex(d => d === this.selectedTime);\n      \n      if (cometImageIndex > -1) {\n        if (this.interpolatedDailyTable !== null) {\n          position = this.interpolatedDailyTable[0];\n        } else {\n          position = imageDatesTable[cometImageIndex];\n        }\n      } else {\n        const allIndex = allDates.findIndex(d => d === this.selectedTime);\n        if (allIndex > -1) {\n          position = fullDatesTable[allIndex];\n        }\n      }\n\n      if (position !== null) {\n        this.gotoRADecZoom({\n          raRad: D2R * position.ra,\n          decRad: D2R * position.dec,\n          zoomDeg: options?.zoomDeg ?? this.wwtZoomDeg,\n          rollRad: options?.rollRad ?? this.wwtRollRad,\n          instant: options?.instant ?? true\n        });\n      }\n\n    },\n    \n    namefromDate(date: Date): string {\n      const year = date.getUTCFullYear();\n      const month = date.getUTCMonth() + 1;\n      const day = date.getUTCDate();\n      return `${month}/${day}/${year}`;\n    },\n\n    // matchImageSetName(date: Date): string {\n    //   // imageset names are keys in this.imagesetLayers\n    //   const imagesetNames = Object.keys(this.imagesetLayers);\n    //   // loop over image set names. find the name (which is a MM/DD/YYYY date string)\n    //   // that is or comes after the date we are looking for\n\n    //   for (const name of imagesetNames) {\n    //     // convert the name to a date\n    //     // if the name is after the date we are looking for, return it\n    //     const wwtDateString = this.namefromDate(date);\n    //     if (name == wwtDateString) {\n    //       return name;\n    //     }\n    //   }\n    //   return '';\n    // },\n    \n        \n    binarySearch(arr: number[], target: number, lo = 0, hi = arr.length - 1): number {\n      if (target < arr[lo]) { return arr[0];}\n      if (target > arr[hi]) { return arr[hi]; }\n      \n      const mid = Math.floor((hi + lo) / 2);\n\n      return hi - lo < 2\n        ? (target - arr[lo]) < (arr[hi] - target) ? arr[lo] : arr[hi]\n        : target < arr[mid]\n          ? this.binarySearch(arr, target, lo, mid)\n          : target > arr[mid]\n            ? this.binarySearch(arr, target, mid, hi)\n            : arr[mid];\n    },\n\n    matchImageSetName(date: Date): string {\n      const thisDate = date.getTime();\n      if (this.imageDateSorted.includes(thisDate)) {\n        return this.imageDateRefInv[thisDate];\n      }\n      \n      const closestDate = this.binarySearch(this.imageDateSorted, thisDate);\n\n      // within 1 hour, in milliseconds\n      if (Math.abs(thisDate - closestDate) > (12 * 60 * 60 * 1000)) { return '';}\n      \n      const name = this.imageDateRefInv[closestDate];\n      \n      return name;\n    },\n\n    hideAllImagesets() {\n      console.log('hiding everything');\n      for (const name of Object.keys(this.imagesetLayers)) {\n        this.setLayerOpacityForImageSet(name, 0);\n      }\n    },\n\n    setLayerOpacityForImageSet(name: string, opacity: number, setting_opacity_from_ui=false) {\n      const layer = this.imagesetLayers[name];\n      if (layer != null) {\n        // update the image opacity in the WWT control\n        applyImageSetLayerSetting(layer, ['opacity', opacity]);\n\n        try {\n          // update the value for the slider only if we are not setting the opacity from the UI\n          if (!setting_opacity_from_ui) {\n            // check if name is a valid queryselector\n            const selector = `#items div.item[id='fv-${name}'] input.opacity-range[type='range']`;\n            const el = (document.querySelector(selector) as HTMLInputElement);\n            if (el != null) {\n              el.value = `${opacity * 100}`;\n            }\n          }\n        }\n        catch (error) {\n          //\n        }\n\n        try {\n          const toggleSelector = `#items input[type='checkbox'][title='${name}']`;\n          const el2 = (document.querySelector(toggleSelector) as HTMLInputElement);\n          // truth table: opacity == 0 and el.checked == false => do nothing\n          // truth table: opacity == 0 and el.checked == true => set el.checked = false\n          // truth table: opacity > 0 and el.checked == false => set el.checked = true\n          // truth table: opacity > 0 and el.checked == true => do nothing\n          if (el2 != null) {\n            if (opacity == 0 && el2.checked) {\n              el2.checked = false;\n            } else if (opacity > 0 && !el2.checked) {\n              el2.checked = true;\n            }\n          }\n        }\n        catch (error) {\n          //\n        }\n        \n      }\n    },\n\n    showImagesetByName(name: string, moveTo = false): boolean {\n      const imagesetNames = Object.keys(this.imagesetLayers);\n      let shown = false;\n      imagesetNames.forEach((iname: string) => {\n        if (iname != name) {\n          this.setLayerOpacityForImageSet(iname, 0);\n        } else {\n          this.setLayerOpacityForImageSet(iname, 1);\n          this.currentLayer = this.imagesetLayers[iname];\n          this.currentOpacity = 1;\n          shown = true;\n          // need to get the Place object for the image set and use it to set the view\n          if (this.imagesetFolder != null) {\n            const places = this.imagesetFolder.get_children();\n            if (places != null) {\n              const place = places.filter((place) => place.get_name() == iname);\n              this.incomingItemSelect = place[0];\n            }\n          }\n          \n          if (!moveTo) { return; }\n          \n          const iset = this.wwtControl.getImagesetByName(iname);\n          const place = this.places[iname];\n          if (iset == null) { return; }\n          if (place == null) { return; }\n          this.$nextTick(() => {\n            this.gotoRADecZoom({\n              raRad: D2R * place.get_RA() * 15,\n              decRad: D2R * place.get_dec(),\n              zoomDeg: this.optionalZoom(place),\n              instant: true\n            });\n          });\n          \n        }\n      });\n      return shown;\n    },\n    \n    showImageForDateTime(date: Date, moveTo = false): boolean {\n      const name = this.matchImageSetName(date);\n      if (name == null || name == '') {\n        // this.incomingItemSelect = null;\n        return false;\n      }\n      \n      if ((this.incomingItemSelect?.get_name() == name) && (!this.viewIsBad(this.places[name]))) {\n        // console.log('image already shown and view is good, so it has been \"shown\"');\n        return true;\n      }\n\n      return this.showImagesetByName(name, moveTo);\n\n    },\n\n    \n    centerView(_options?: MoveOptions) {\n      \n      this.gotoRADecZoom({\n        raRad: this.initialPosition.ra * D2R,\n        decRad: this.initialPosition.dec * D2R,\n        zoomDeg: this.initialPosition.zoom,\n        instant: false,\n      });\n      // show the first image\n      if (!this.playing) {\n        this.selectedTime = this.imageDates[0];\n        this.onTimeSliderChange({ zoomDeg: this.initialPosition.zoom });\n      }\n    },\n\n    updateForDateTime() {\n      if (!this.dontSetTime) { this.setTime(this.dateTime); }\n      this.updateHorizon(this.dateTime); \n      // this.showImageForDateTime(this.dateTime);\n      // this.updateViewForDate(options);\n      this.updateLayersForDate();\n    },\n\n    updateHorizon(when: Date | null = null) {\n      if (this.showHorizon) {\n        this.createHorizon(when);\n      } else {\n        this.removeHorizon();\n      }\n    },\n\n    setToFirstCometImage() {\n      this.selectedTime = Math.min(...this.imageDates);\n      const children = this.imagesetFolder?.get_children();\n      if (children == null) { return; }\n      const place = children[0] as Place;\n      this.onItemSelected(place);\n    },\n\n    showChart() {\n      this.chartVisible = true;\n    },\n\n    wwtMove(options: GotoRADecZoomParams) {\n      this.$nextTick(() => {\n        this.gotoRADecZoom(options);\n      });\n    },\n\n    moveToPlace(place: Place, fovDeg = null as number | null) {\n      let zoomDeg: number;\n\n      if (fovDeg) {\n        zoomDeg = fovDeg * 6;\n      } else {\n        zoomDeg = this.optionalZoom(place);\n      }\n\n      this.wwtMove({\n        raRad: D2R * place.get_RA() * 15,\n        decRad: D2R * place.get_dec(),\n        zoomDeg: zoomDeg,\n        instant: true\n      });\n\n    },\n\n    optionalZoom(place: Place, factor = 3): number {\n      if (this.needToZoomIn(place, factor)) {\n        console.log('optionalZoom: zoom in');\n      }\n      return this.needToZoomIn(place, factor) ? place.get_zoomLevel() : this.wwtZoomDeg;\n    }\n  },\n\n  watch: {\n    showArrow(show: boolean) {\n      this.updateArrow(show);\n    },\n    showAltAzGrid(show: boolean) {\n      this.wwtSettings.set_showAltAzGrid(show);\n      this.wwtSettings.set_showAltAzGridText(show);\n    },\n    showConstellations(show: boolean) {\n      this.wwtSettings.set_showConstellationLabels(show);\n      this.wwtSettings.set_showConstellationFigures(show);\n      if (show) {\n        this.playing = false;\n        this.$nextTick(() => {\n          this.gotoRADecZoom({\n            raRad: this.wwtRARad,\n            decRad: this.wwtDecRad,\n            zoomDeg: this.wwtZoomDeg > 300 ? this.wwtZoomDeg : 300,\n            instant: false\n          });\n        });\n      }\n    },\n    showHorizon(_show: boolean) {\n      this.updateHorizon();\n    },\n    timeOfDay(_time: { hours: number; minutes: number; seconds: number }) {\n      this.updateForDateTime();\n    },\n    location(loc: LocationRad, oldLoc: LocationRad) {\n      const locationDeg: [number, number] = [R2D * loc.latitudeRad, R2D * loc.longitudeRad];\n      if (this.map) {\n        this.circle?.remove();\n        this.circle = this.circleForLocation(...locationDeg).addTo(this.map as Map); // Not sure, why, but TS is cranky w/o casting\n      }\n\n      if (oldLoc.latitudeRad * loc.latitudeRad < 0) {\n        Grids._altAzTextBatch = null;\n      }\n\n      this.selectedTimezone = tzlookup(...locationDeg);\n      this.updateWWTLocation();\n\n      // We need to let the location update before we redraw the horizon\n      this.$nextTick(() => {\n        this.updateHorizon();\n      });\n    },\n\n    selectedDate() {\n      this.updateForDateTime();\n    },\n    \n    showLocationSelector(show: boolean) {\n      if (show) {\n        this.locationErrorMessage = \"\";\n        this.$nextTick(() => {\n          this.setupLocationSelector();\n        });\n      } else {\n        this.map?.remove();\n        this.circle = null;\n      }\n    },\n    selectedTimezone(newTz: string, oldTz: string) {\n      const newOffset = getTimezoneOffset(newTz);\n      const oldOffset = getTimezoneOffset(oldTz);\n      let newHours = this.timeOfDay.hours + ((newOffset - oldOffset) / (1000*60*60));\n      if (newHours >= 24) {\n        newHours -= 24;\n        this.moveOneDayForward();\n      } else if (newHours < 0) {\n        newHours += 24;\n        this.moveOneDayBackward();\n      }\n      this.timeOfDay.hours = newHours;\n    },\n    \n    playing(play: boolean) {\n      this.clearPlayingInterval();\n      if (play) {\n        this.playCount += 1;\n        this.showImageForDateTime(this.dateTime, true);\n        this.playingIntervalId = setInterval(() => {\n          if (this.selectedTime < Math.max(...this.dates)) {\n            this.selectedTime = this.nextDate();\n          } else {\n            this.playCount += 1;\n            // this.showChart();\n            this.selectedTime = minDate;\n          }\n          this.$nextTick(() => {\n            this.showImageForDateTime(this.dateTime);\n            // this.updateViewForDate();\n          });\n        }, 100);\n      } else if (this.playCount > 0) {\n        this.playCount += 1;\n      }\n    },\n\n    playingImagePath(play: boolean) {\n      this.clearPlayingInterval();\n      if (!play) {\n        return;\n      }\n      const minTime = Math.min(...imageDates) - MILLISECONDS_PER_DAY;\n      const maxTime = Math.max(...imageDates) + MILLISECONDS_PER_DAY;\n\n      if(this.selectedTime < minTime || this.selectedTime >= maxTime){\n        this.selectedTime = minTime;\n      }\n\n      this.updateViewForDate({ zoomDeg: this.initialPosition.zoom });\n\n      this.playingIntervalId = setInterval(() => {\n        if (this.playingWaitCount > 0) {\n          this.playingWaitCount -= 1;\n          return;\n        }\n        if (this.selectedTime < maxTime) {\n          this.selectedTime = this.nextDate();\n          this.$nextTick(() => {\n            const image = this.showImageForDateTime(this.dateTime);\n            this.updateViewForDate();\n            if (image) {\n              this.playingWaitCount = 1;\n            }\n          });\n        } else {\n          this.playingImagePath = false;\n        }\n      }, 500);\n    },\n\n    playCount(count: number) {\n      if (count % 2) {\n        // if playcount is even then we have either finished a loop or paused\n        // this.showChart();\n        return;\n      }\n    },\n  }\n\n  \n});\n\n</script>\n\n<style lang=\"less\">\n@font-face {\n  font-family: \"Highway Gothic Narrow\";\n  src: url(\"https://projects.cosmicds.cfa.harvard.edu/cds-website/fonts/HighwayGothicNarrow.ttf\");\n}\n\nhtml {\n  height: 100%;\n  margin: 0;\n  padding: 0;\n  background-color: #000;\n  overflow: hidden;\n\n  \n  -ms-overflow-style: none;\n  // scrollbar-width: none;\n}\n\nbody {\n  position: fixed;\n  width: 100%;\n  height: 100%;\n  margin: 0;\n  padding: 0;\n  overflow: hidden;\n\n  font-family: Verdana, Arial, Helvetica, sans-serif;\n}\n\n#main-content {\n  position: fixed;\n  width: 100%;\n  height: var(--app-content-height);\n  overflow: hidden;\n\n  transition: height 0.1s ease-in-out;\n}\n\n#app {\n  width: 100%;\n  height: 100%;\n  margin: 0;\n  overflow: hidden;\n  font-size: 11pt;\n\n  .wwtelescope-component {\n    position: absolute;\n    top: 0;\n    width: 100%;\n    height: 100%;\n    border-style: none;\n    border-width: 0;\n    margin: 0;\n    padding: 0;\n  }\n}\n\n\n.fade-enter-active,\n.fade-leave-active {\n  transition: opacity 0.3s;\n}\n.fade-enter,\n.fade-leave-to {\n  opacity: 0;\n}\n\n.modal {\n  position: absolute;\n  top: 0px;\n  left: 0px;\n  width: 100%;\n  height: 100%;\n  z-index: 100;\n  color: #fff;\n  background-color: rgba(0, 0, 0, 0.7);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n#modal-loading {\n  background-color: #000;\n  .container {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: center;\n    .spinner {\n      background-image: url(\"https://projects.cosmicds.cfa.harvard.edu/cds-website/misc/lunar_loader.gif\");\n      background-repeat: no-repeat;\n      background-size: contain;\n      width: 3rem;\n      height: 3rem;\n    }\n    p {\n      margin: 0 0 0 1rem;\n      padding: 0;\n      font-size: 150%;\n    }\n  }\n}\n\n.pointer {\n  cursor: pointer;\n}\n\n.control-icon {\n  pointer-events: auto;\n\n  &:hover {\n    cursor: pointer;\n  }\n\n  &:focus {\n    color: var(--accent-color-2);\n  }\n}\n\n.icon-wrapper {\n  padding:  .5em 1em;\n}\n\n.control-icon-wrapper {\n  color: var(--accent-color);\n  background: #040404;\n  padding: .5em 1em;\n  border: 1px solid var(--accent-color);\n  border-radius: 1.25em;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  pointer-events: auto;\n\n  &:hover {\n    cursor: pointer;\n  }\n\n  &:focus {\n    color: white;\n    border-color: white;\n  }\n}\n#chart-button {\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  pointer-events: auto;\n  margin-bottom: 2em;\n  span {\n    text-transform: none;\n  }\n}\n\n#chart-button.collapse-button {\n  justify-content: right;\n  margin-right: calc(30px + 1em);\n  margin-bottom: 0em;\n  background-color: transparent;\n  span#button-text {\n    display: none;\n  }\n}\n  \n#chart-container {\n  // pointer-events: auto;\n  position: relative;\n  --line-color: white;\n  margin-left: auto;\n  // margin-right: 30px;\n  // box-shadow: -4px 0 0 0 var(--line-color);\n  color: var(--line-color);\n  margin-bottom: -33px;\n  \n  // makes the y-axis border look like an arrow\n  // #plot::before {\n  //   content: \"^\";\n  //   position: absolute;\n  //   font-size: 1.5rem;\n  //   font-weight: bold;\n  //   // transform: translateX(-.51em) translateY(-.55em);\n  //   transform: translateX(-.14rem) translateY(-.52rem);\n  //   transform-origin: 0 0;\n  //   pointer-events: none;\n  // }\n  \n  #chart-title {\n    display: none;\n    text-align: center;\n    font-weight: bold;\n    color: var(--accent-color);\n    @media (max-width: 600px) {\n      font-size: 0.75em;\n    }\n  }\n  \n  #yaxis-text {\n    // outline: 1px solid gold;\n    font-size: 1.15em;\n    max-width: fit-content;\n    position: absolute;\n    top: 50%;\n    transform: translateX(calc(-100% - 0.5em)) translateY(-50%);\n    \n    @media (max-width: 600px) {\n      font-size: 0.75em;\n    }\n    \n    \n    @media (max-width: 400px) {\n      position: relative;\n      top: unset;\n      max-width: none;\n      text-align: center;\n      transform: none;\n      font-size: 1em;\n      // transform: translateX(50%)\n      br {\n        display: none;\n      }\n      \n    }\n  }\n  \n  #xaxis-text {\n    width: 30%;\n    text-align: center;\n    position: absolute;\n    left: 50%;\n    bottom: -2em;\n    // box-shadow: 0px -4px 0px 0px var(--line-color);\n    transform: translate(-50%, 0);\n    padding: 2px 5px;\n    \n    @media (max-width: 600px) {\n      font-size: 0.75em;\n    }\n  }\n  \n  \n}\n\n.icon-wrapper:has(.play-icon-text) {\n  // padding: 0.5em .75em;\n  line-height: 1.15;\n  max-height: 50px;\n}\n\n.play-icon-text {\n  font-size: 1em;\n  margin: 0.5em;\n}\n\n#play-pause-icon-wrapper {\n  color: var(--accent-color);\n  border-color: var(--accent-color);\n  margin-left: 0;\n  font-size: 0.75em;\n  max-height: 50px;\n\n  &:focus {\n    color: white;\n  }\n}\n\n// #play-pause-icon-wrapper > #play-icon-text {\n//   white-space: nowrap;\n// }\n\n// @media (max-width: 600px) {\n//   #play-pause-icon-wrapper {\n//     max-width: unset;\n//   }\n// }\n\n#video-icon-dummy {\n  pointer-events: none;\n  visibility: hidden;\n}\n\n#video-icon-wrapper {\n  display: initial;\n}\n\n#const-icon-wrapper {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  \n  svg {\n    fill: var(--accent-color);\n    stroke: white;\n  }\n}\n\n.active {\n  // background-color: var(--active-button-color);\n  box-shadow: inset 0px 0px 10px 3px var(--accent-color), 0px 0px 10px 3px var(--accent-color);\n}\n\n.top-content {\n  position: absolute;\n  top: 1rem;\n  left: 1rem;\n  width: calc(100% - 2rem);\n  pointer-events: none;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  align-items: flex-start;\n}\n\n\ndiv.opacity-slider-wrapper {\n  display:flex;\n  position:absolute;\n\n  bottom: 1rem;\n  left: 1rem;\n  width: 200px;\n  border-radius: 20px;\n  \n  .opacity-slider {\n    pointer-events: auto;\n\n  }\n  span {\n    color: white;\n    margin-top: 0.75em;\n    font-size: 0.75em;\n  }\n}\n\n\n\n.bottom-content {\n  display: flex;\n  flex-direction: column;\n  position: absolute;\n  bottom: 1rem;\n  right: 1rem;\n  width: calc(100% - 2rem);\n  pointer-events: none;\n  align-items: center;\n  gap: 5px;\n}\n\ndiv#main-content > div {\n  content: \"\";\n  // outline: 1px solid orange;\n}\n\n\n.right-content {\n  position: absolute;\n  right: 1rem;\n  top: 30px;\n}\n\n#tools {\n  z-index: 10;\n  color: #fff;\n  width: 100%;\n\n  .opacity-range {\n    width: 50vw;\n  }\n\n  .clickable {\n    cursor: pointer;\n  }\n\n  select {\n    background: white;\n    color: black;\n    border-radius: 3px;\n  }\n    \n}\n\n.tool-container {\n  display: flex;\n  width: 100%;\n  flex-direction: row;\n  align-items: center;\n  gap: 5px;\n  pointer-events: auto;\n  \n  @media (max-width: 400px) {\n    margin-top: 11px;\n    padding-left: 6px;\n    flex-direction: column-reverse;\n    align-items: center;\n    \n    #play-pause-icon-wrapper {\n      margin-top: 1em;\n    }\n  }\n}\n\n.folder-view {\n  max-height: calc(100% - 150px);\n  width: ~\"min(160px, 35vw)\";\n}\n\n.dp__select {\n  color: var(--accent-color) !important;\n}\n\n.v-selection-control--focus-visible .v-selection-control__input::before {\n  opacity: 0.25;\n}\n\n.ui-text {\n  color: var(--accent-color);\n  background: black;\n  padding: 5px 5px;\n  border: 2px solid black;\n  border-radius: 10px;\n  font-size: calc(0.8em + 0.25vw);\n\n  &:focus {\n    color: white;\n  }\n}\n\n.ui-button {\n  text-align: center;\n  color: var(--accent-color);\n  background: black;\n  padding: 5px 5px;\n  border: 2px solid var(--accent-color);\n  border-radius: 10px;\n  font-size: calc(0.7em + 0.2vw);\n  user-select: none;\n}\n\n.clickable {\n  pointer-events: auto;\n\n  &:hover {\n    cursor: pointer;\n  }\n}\n\n#buttons-container {\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-end;\n  align-self: flex-end;\n}\n\n#center-view-button {\n  margin-bottom: 25px;\n}\n\n#left-buttons {\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n}\n\n.video-wrapper {  \n  display: flex;\n  padding: 10px;\n  height: 100%;\n  max-width: 100%;\n  background: rgba(0, 0, 0, 0.5);\n  backdrop-filter: blur(2px);\n  text-align: center;\n  z-index: 1000;\n  // border: 1px solid white;\n}\n\nvideo, #info-video {\n  margin: auto;\n  height: 90%; \n  // width: fit-content;\n  max-width: 95%;\n  object-fit: contain;\n  aspect-ratio: 9/17;\n}\n\n#video-container {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  max-width: 100%;\n  overflow: hidden;\n  padding: 0px;\n  z-index: 1000;\n}\n\n.bottom-sheet {\n  .v-overlay__content {\n    align-self: flex-end;\n    padding: 0;\n    margin: 0;\n    max-width: 100%;\n    height: 34%;\n  }\n}\n\n#tabs {\n  width: calc(100% - 3em);\n  align-self: left;\n}\n\n.info-text {\n  height: 33vh;\n  padding-bottom: 25px;\n\n  & a {\n    text-decoration: none;\n  }\n  \n  & h3 {\n    margin-bottom: 1em;\n    margin-top: 1em;\n  }\n  \n  & p {\n    margin-bottom: 1em;\n  }\n  \n  & img {\n    display: block;\n    margin-inline: auto;\n    margin-block: 20px;\n    background-color: white;\n    width: 300px;\n  }\n  \n  & ul {\n    margin-left: 1em;\n    margin-block: 0.5em;\n    font-size: 0.95em;\n  }\n  \n  & strong {\n    color: var(--accent-color-2);\n  }\n\n}\n\n.close-icon {\n  position: absolute;\n  top: 10px;\n  right: 10px;\n  z-index: 15;\n\n  &:hover {\n    cursor: pointer;\n  }\n\n  &:focus {\n    color: white;\n    border: 2px solid white;\n  }\n}\n\n.scrollable {\n  overflow-y: auto;\n}\n\n#tab-items {\n  // padding-bottom: 2px !important;\n\n  .v-card-text {\n    font-size: ~\"max(14px, calc(0.7em + 0.3vw))\";\n    padding-top: ~\"max(2vw, 16px)\";\n    padding-left: ~\"max(4vw, 16px)\";\n    padding-right: ~\"max(4vw, 16px)\";\n\n    .end-spacer {\n      height: 25px;\n    }\n  }\n\n}\n\n#close-text-icon {\n  position: absolute;\n  top: 0.25em;\n  right: calc((3em - 0.6875em) / 3); // font-awesome-icons have width 0.6875em\n  color: white;\n}\n\n#location-dialog {\n  .v-overlay__content {\n    width: fit-content !important;\n  }\n}\n\n#location-selector {\n  align-items: center;\n  margin: auto;\n  width: 70vw;\n  height: fit-content;\n}\n\n#map-container {\n  width: 60vw;\n  height: 70vh;\n  margin: auto;\n  padding: 5px 0px;\n  border-radius: 5px;\n}\n\n// This prevents the tabs from having some extra space to the left when the screen is small\n// (around 400px or less)\n.v-tabs:not(.v-tabs--vertical).v-tabs--right>.v-slide-group--is-overflowing.v-tabs-bar--is-mobile:not(.v-slide-group--has-affixes) .v-slide-group__next, .v-tabs:not(.v-tabs--vertical):not(.v-tabs--right)>.v-slide-group--is-overflowing.v-tabs-bar--is-mobile:not(.v-slide-group--has-affixes) .v-slide-group__prev {\n  display: none;\n}\n\n// Styling the slider\n\n#sliderlabel {\n  padding: 5px 10px;\n  margin:0 5px;\n  color:#fff !important;\n  background-color: var(--accent-color-2);\n  overflow: visible;\n}\n\n#slider {\n  width: 100% !important;\n  margin-top: 1rem;\n  margin-bottom: 2rem;\n  margin-inline: 6rem;\n  // display: none;\n  // opacity: 0;\n\n  \n  // &:after {\n  //   content: \"^\";\n  //   position: absolute;\n  //   right: 0;\n  //   line-height: 1;\n  //   font-size: 1.5rem;\n  //   font-weight: bold;\n  //   transform: translateX(0.36rem) translateY(-0.86rem) rotate(90deg);\n  //   color: #ccc;\n  //   transform-origin: 50% 50%;\n  //   pointer-events: none;\n  // }\n}\n\n#opacity-slider {\n  width: 100% !important;\n  margin-inline: 30px;\n  margin-top: 5px;\n  margin-bottom: 10px;\n}\n\n.vue-slider-process {\n  background-color: white !important;\n}\n\n.vue-slider-dot-tooltip-inner {\n  cursor: grab;\n  padding: 4px 10px !important;\n  color: black !important;\n  background-color: var(--accent-color-2) !important;\n  border: 1px solid var(--accent-color-2) !important;\n  opacity: 1 !important;\n\n  &:active {\n    cursor: grabbing;\n  }\n}\n\n.vue-slider-dot-handle {\n  cursor: grab;\n  background-color: var(--accent-color-2) !important;\n  border: 1px solid black !important;\n\n  &:active {\n    cursor: grabbing;\n  }\n}\n\n// adds a vertical line to track it better\n// .tool-container {\n// .vue-slider-dot-handle::before {\n//   content:\"\";\n//   --length: 200px;\n//   position: absolute;\n//   border: 1px solid white;\n//   width: 100%;\n//   height: var(--length);\n//   transform: translateY(calc(-1 * var(--length)));\n// }\n// }\n\n\n.mark-line {\n  position: absolute;\n  height: 20px;\n  width: 2px;\n  margin: 0;\n  background-color: var(--accent-color-2);\n  transform: translateX(-50%) translateY(calc(-50% + 2px));\n\n}\n\n.left-content {\n  display: none !important;\n  position: absolute;\n  left: 1rem;\n  top: 1rem;\n  pointer-events: none;\n  height: calc(100% - 2rem);\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n}\n\n@media(max-width: 600px) {\n  .mark-line {\n    display: none;\n  }\n\n  #location-selector {\n    width: 80vw;\n    height: 85vh;\n  }\n\n  #video-container {\n    display: inherit;\n  }\n\n  #map-container {\n    width: 70vw;\n  }\n}\n\n\n#splash-overlay {\n  position: fixed;\n  //  vue components are flex, so we can easy center\n  align-items: center;\n  justify-content: center;\n  font-size: min(8vw,7vh);\n\n}\n\n\n#splash-screen {\n  // for some reason the view props don't work\n  // for max-width and max-height\n  // splash image size 1908 × 2040 px\n  display: flex;\n  flex-direction: column;\n  max-height: calc(min(90vh,2040px)); \n  max-width: 90vw;\n  aspect-ratio: 8 / 10;\n  background-color: rgba(0, 0, 0, 1);\n  backdrop-filter: blur(5px);\n  align-content: center;\n  justify-content: space-around;\n  \n  border-radius: 10%;\n  border: min(1.2vw,0.9vh) solid var(--accent-color);\n  overflow: auto;\n  font-family: 'Highway Gothic Narrow', 'Roboto', sans-serif;\n  \n  div {\n    margin-inline: auto;\n    text-align: center;\n  }\n  // make a paragraph inside the div centered horizontally and vertically\n  p {\n    font-family: 'Highway Gothic Narrow', 'Roboto', sans-serif;\n    font-weight: bold;\n    vertical-align: middle;\n  }\n\n    \n  p.highlight {\n    color: var(--accent-color-2);\n    filter: drop-shadow(0 0 .15em var(--accent-color-2));\n    // make uppercase\n    font-size: 1.15em;\n    text-transform: uppercase;\n    font-weight: bolder;\n  }\n  \n  p.small {\n    font-size: .75em;\n    font-weight: bold;\n  }\n\n  #first-splash-row {\n    width: 100%;\n  }\n\n  #close-splash-button {\n    text-align: end;\n    margin-top: 0%;\n    margin-right: 6%;\n    color: var(--accent-color-2);\n    font-size: min(8vw, 5vh);\n\n    &:hover {\n      cursor: pointer;\n    }\n  }\n\n  #splash-screen-text {\n    // in the grid, the text is in the 2nd column\n    display: flex;\n    flex-direction: column;\n    \n  }\n\n  #splash-screen-guide {\n    font-size: .6em;\n    line-height: 2em;\n    width: 75%;\n    \n    .svg-inline--fa {\n      color:var(--accent-color);\n      margin: 0 10px;\n    }\n  }\n\n  #splash-screen-acknowledgements {\n    font-size: .5em;\n    width: 70%; \n  }\n\n  #splash-screen-icons {\n    margin-top: 0.5em;\n    margin-bottom: 0.75em;\n    \n    #credits {\n      background-color: transparent;\n      border: 2px solid transparent;\n    }\n  }\n  \n  a {\n    text-decoration: none;\n    color: var(--accent-color-3);\n    white-space: nowrap;\n  }\n    \n}\n\nul.text-list {\n  margin-left:1em;\n  margin-top: 0.5em;\n}\n\ndiv.credits {\n  font-size: 0.8em;\n}\n\n// For styling the time picker\n// See more info here:\n// https://vue3datepicker.com/customization/theming/\n.dp__theme_dark {\n  --dp-background-color: black !important;\n}\n\n.dp__main {\n  width: 175px;\n}\n\n* {\n  --v-input-control-height: 40px;\n}\n\n.gallery, .default-activator, .gallery-item {\n  border: 1px solid var(--accent-color-2) !important;\n}\n\n.gallery-content img {\n  box-shadow: 0 0 1px var(--accent-color-2);\n  margin-top: 2px;\n}\n\n.dipper_svg_icon:focus {\n  color: var(--accent-color-2) !important;\n}\n\n</style>\n","// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-nocheck\n\n/* eslint-disable */\n\nimport {\n  Color, Colors, Constellations, Coordinates, Grids,\n  LayerManager, Matrix3d, PushPin, Settings, SpaceTimeController,\n  SpreadSheetLayer, Text3d, Text3dBatch, URLHelpers, Vector2d,\n  Vector3d, WWTControl\n} from \"@wwtelescope/engine\";\n\nexport function drawSkyOverlays() {\n  if (Settings.get_active().get_showConstellationLabels()) {\n    Constellations.drawConstellationNames(this.renderContext, 1, Colors.get_yellow());\n  }\n  if (Settings.get_active().get_showConstellationFigures()) {\n    if (WWTControl.constellationsFigures == null) {\n      WWTControl.constellationsFigures = Constellations.create('Constellations', URLHelpers.singleton.engineAssetUrl('figures.txt'), false, false, false);\n    }\n    WWTControl.constellationsFigures.draw(this.renderContext, false, 'UMA', false);\n  }\n  if (Settings.get_active().get_showAltAzGrid()) {\n    const altAzColor = Color.fromArgb(1, 3, 92, 134);\n    Grids.drawAltAzGrid(this.renderContext, 1, altAzColor);\n    if (Settings.get_active().get_showAltAzGridText()) {\n      Grids.drawAltAzGridText(this.renderContext, 1, altAzColor);\n    }\n  }\n}\n\nexport function initializeConstellationNames() {\n  if (Constellations.constellationCentroids == null) {\n    return;\n  }\n  const textSize = 50;\n  Constellations._namesBatch = new Text3dBatch(textSize);\n  Object.keys(Constellations.constellationCentroids).forEach(key => {\n    const centroid = Constellations.constellationCentroids[key];\n    const center = Coordinates.raDecTo3dAu(centroid.get_RA(), centroid.get_dec(), 1);\n    const up = Vector3d.create(0, 1, 0);\n    let name = centroid.get_name();\n    if (centroid.get_name() === 'Triangulum Australe') {\n      name = name.replace(\" \", \"\\n   \");\n    }\n    Constellations._namesBatch.add(new Text3d(center, up, name, textSize, 0.000125));\n  });\n};\n\nexport function makeAltAzGridText() {\n  if (Grids._altAzTextBatch == null) {\n    const glyphHeight = 70;\n    Grids._altAzTextBatch = new Text3dBatch(glyphHeight);\n    const sign = SpaceTimeController.get_location().get_lat() < 0 ? -1 : 1;\n    const alt = 0.03 * sign;\n    const up = Vector3d.create(0, sign, 0);\n    const directions = [\n      [[0, alt, -1], \"N\"],\n      [[-1, alt, 0], \"E\"],\n      [[0, alt, 1], \"S\"],\n      [[1, alt, -0.0095], \"V\"],\n      [[1, alt, 0.0095], \"V\"]\n    ]\n    directions.forEach(([v, text]) => {\n      Grids._altAzTextBatch.add(new Text3d(Vector3d.create(...v), up, text, 75, 0.00018));\n    });\n  }\n}\n\nexport function drawSpreadSheetLayer(renderContext, opacity, flat) {\n  var device = renderContext;\n  if (this.version !== this.lastVersion) {\n    this.cleanUp();\n  }\n  this.lastVersion = this.version;\n  if (this.bufferIsFlat !== flat) {\n    this.cleanUp();\n    this.bufferIsFlat = flat;\n  }\n  if (this.dirty) {\n    this.prepVertexBuffer(device, opacity);\n  }\n  var jNow = SpaceTimeController.get_jNow() - SpaceTimeController.utcToJulian(this.baseDate);\n  var adjustedScale = this.scaleFactor * 3;\n  if (flat && this.astronomical && (this._markerScale$1 === 1)) {\n    adjustedScale = (this.scaleFactor / (renderContext.viewCamera.zoom / 360));\n  }\n  if (this.triangleList2d != null) {\n    this.triangleList2d.decay = this.decay;\n    this.triangleList2d.sky = this.get_astronomical();\n    this.triangleList2d.timeSeries = this.timeSeries;\n    this.triangleList2d.jNow = jNow;\n    this.triangleList2d.draw(renderContext, opacity * this.get_opacity(), 1);\n  }\n  if (this.triangleList != null) {\n    this.triangleList.decay = this.decay;\n    this.triangleList.sky = this.get_astronomical();\n    this.triangleList.timeSeries = this.timeSeries;\n    this.triangleList.jNow = jNow;\n    this.triangleList.draw(renderContext, opacity * this.get_opacity(), 1);\n  }\n  if (this.pointList != null) {\n    this.pointList.depthBuffered = false;\n    this.pointList.showFarSide = this.get_showFarSide();\n    this.pointList.decay = (this.timeSeries) ? this.decay : 0;\n    this.pointList.sky = this.get_astronomical();\n    this.pointList.timeSeries = this.timeSeries;\n    this.pointList.jNow = jNow;\n    this.pointList.scale = (this._markerScale$1 === 1) ? adjustedScale : -adjustedScale;\n    switch (this._plotType$1) {\n      case 0:\n        this.pointList.draw(renderContext, opacity * this.get_opacity(), false);\n        break;\n      case 2:\n        this.pointList.drawTextured(renderContext, SpreadSheetLayer.get__circleTexture$1().texture2d, opacity * this.get_opacity());\n        break;\n      case 1:\n        this.pointList.drawTextured(renderContext, PushPin.getPushPinTexture(19), opacity * this.get_opacity());\n        break;\n      case 3:\n        this.pointList.drawTextured(renderContext, PushPin.getPushPinTexture(35), opacity * this.get_opacity());\n        break;\n      case 5:\n      case 4:\n        this.pointList.drawTextured(renderContext, PushPin.getPushPinTexture(this._markerIndex$1), opacity * this.get_opacity());\n        break;\n      default:\n        break;\n    }\n  }\n  if (this.lineList != null) {\n    this.lineList.sky = this.get_astronomical();\n    this.lineList.decay = this.decay;\n    this.lineList.timeSeries = this.timeSeries;\n    this.lineList.jNow = jNow;\n    this.lineList.drawLines(renderContext, opacity * this.get_opacity());\n  }\n  if (this.lineList2d != null) {\n    this.lineList2d.sky = this.get_astronomical();\n    this.lineList2d.decay = this.decay;\n    this.lineList2d.timeSeries = this.timeSeries;\n    this.lineList2d.showFarSide = this.get_showFarSide();\n    this.lineList2d.jNow = jNow;\n    this.lineList2d.drawLines(renderContext, opacity * this.get_opacity());\n  }\n  return true;\n}\n\nexport function layerManagerDraw(renderContext, opacity, astronomical, referenceFrame, nested, cosmos) {\n  if (!(referenceFrame in LayerManager.get_allMaps())) {\n    return;\n  }\n  var thisMap = LayerManager.get_allMaps()[referenceFrame];\n  if (!thisMap.enabled || (!thisMap.layers.length && !(thisMap.frame.showAsPoint || thisMap.frame.showOrbitPath))) {\n    return;\n  }\n  var matOld = renderContext.get_world();\n  var matOldNonRotating = renderContext.get_worldBaseNonRotating();\n  var oldNominalRadius = renderContext.get_nominalRadius();\n  if ((thisMap.frame.reference === 18 | thisMap.frame.reference === 18) === 1) {\n    thisMap.computeFrame(renderContext);\n    if (thisMap.frame.referenceFrameType !== 1 && thisMap.frame.referenceFrameType !== 2) {\n      renderContext.set_world(Matrix3d.multiplyMatrix(thisMap.frame.worldMatrix, renderContext.get_world()));\n    }\n    else {\n      renderContext.set_world(Matrix3d.multiplyMatrix(thisMap.frame.worldMatrix, renderContext.get_worldBaseNonRotating()));\n    }\n    renderContext.set_nominalRadius(thisMap.frame.meanRadius);\n  }\n  //console.log(\"========\");\n  for (const layer of LayerManager.get_allMaps()[referenceFrame].layers) {\n    if (layer.enabled) {\n      //console.log(layer);\n      var layerStart = SpaceTimeController.utcToJulian(layer.get_startTime());\n      var layerEnd = SpaceTimeController.utcToJulian(layer.get_endTime());\n      var fadeIn = SpaceTimeController.utcToJulian(layer.get_startTime()) - ((layer.get_fadeType() === 1 || layer.get_fadeType() === 3) ? (layer.get_fadeSpan() / 864000000) : 0);\n      var fadeOut = SpaceTimeController.utcToJulian(layer.get_endTime()) + ((layer.get_fadeType() === 2 || layer.get_fadeType() === 3) ? (layer.get_fadeSpan() / 864000000) : 0);\n      if (SpaceTimeController.get_jNow() > fadeIn && SpaceTimeController.get_jNow() < fadeOut) {\n        var fadeOpacity = 1;\n        if (SpaceTimeController.get_jNow() < layerStart) {\n          fadeOpacity = ((SpaceTimeController.get_jNow() - fadeIn) / (layer.get_fadeSpan() / 864000000));\n        }\n        if (SpaceTimeController.get_jNow() > layerEnd) {\n          fadeOpacity = ((fadeOut - SpaceTimeController.get_jNow()) / (layer.get_fadeSpan() / 864000000));\n        }\n        layer.set_astronomical(astronomical);\n        layer.draw(renderContext, opacity * fadeOpacity, cosmos);\n      }\n    }\n  }\n  renderContext.set_nominalRadius(oldNominalRadius);\n  renderContext.set_world(matOld);\n  renderContext.set_worldBaseNonRotating(matOldNonRotating);\n};\n\nfunction transformWorldPointToPickSpace(wwtControl, worldPoint, backBufferWidth, backBufferHeight) {\n  var m = Matrix3d.multiplyMatrix(wwtControl.renderContext.get_world(), wwtControl.renderContext.get_view());\n  var p = new Vector2d();\n  var vz = worldPoint.x * m.get_m13() + worldPoint.y * m.get_m23() + worldPoint.z * m.get_m33();\n  var vx = (worldPoint.x * m.get_m11() + worldPoint.y * m.get_m21() + worldPoint.z * m.get_m31()) / vz;\n  var vy = -(worldPoint.x * m.get_m12() + worldPoint.y * m.get_m22() + worldPoint.z * m.get_m32()) / vz;\n  p.x = (1 + wwtControl.renderContext.get_projection().get_m11() * vx) * (backBufferWidth / 2);\n  p.y = (1 + wwtControl.renderContext.get_projection().get_m22() * vy) * (backBufferHeight / 2);\n  return p;\n}\n\nexport function getScreenPosForCoordinates(wwtControl, ra, dec) {\n  var pt = Vector2d.create(ra, dec);\n  var cartesian = Coordinates.sphericalSkyToCartesian(pt);\n  var result = transformWorldPointToPickSpace(wwtControl, cartesian, wwtControl.renderContext.width, wwtControl.renderContext.height);\n  return result;\n}\n","export const m101DataList = `pngFilename,objectName,wtmlName,Date_Time,Date,Bandpass,Ra,Dec,magnitude\n20230515_M101_Aligned-0001.cutout.png,SN2023ixf,20230515_M101_Aligned-0001,2460079.744,2023-05-15T05:51:21.600Z,Clear_V,210.80242916666666,54.34875,15.749\n20230516_M101_Aligned-0002.cutout.png,SN2023ixf,20230516_M101_Aligned-0002,2460080.744,2023-05-16T05:51:21.600Z,Clear_V,210.80242916666666,54.34875,15.707\n20230518_M101_Aligned-0003.cutout.png,SN2023ixf,20230518_M101_Aligned-0003,2460082.744,2023-05-18T05:51:21.600Z,Clear_V,210.80242916666666,54.34875,15.313\n20230520_M101_Aligned-0004.cutout.png,SN2023ixf,20230520_M101_Aligned-0004,2460084.734,2023-05-20T05:36:57.600Z,Clear_V,210.80242916666666,54.34875,13.522\n20230521_M101_Aligned-0005.cutout.png,SN2023ixf,20230521_M101_Aligned-0005,2460085.734,2023-05-21T05:36:57.600Z,Clear_V,210.80242916666666,54.34875,11.887\n20230522_M101_Aligned-0006.cutout.png,SN2023ixf,20230522_M101_Aligned-0006,2460086.734,2023-05-22T05:36:57.600Z,Clear_V,210.80242916666666,54.34875,11.342\n20230523_M101_Aligned-0007.cutout.png,SN2023ixf,20230523_M101_Aligned-0007,2460087.725,2023-05-23T05:24:00.000Z,Clear_V,210.80242916666666,54.34875,11.143\n20230524_M101_Aligned-0008.cutout.png,SN2023ixf,20230524_M101_Aligned-0008,2460088.725,2023-05-24T05:24:00.000Z,Clear_V,210.80242916666666,54.34875,11.089\n20230525_M101_Aligned-0009.cutout.png,SN2023ixf,20230525_M101_Aligned-0009,2460089.721,2023-05-25T05:18:14.400Z,Clear_V,210.80242916666666,54.34875,11.093\n20230526_M101_Aligned-0010.cutout.png,SN2023ixf,20230526_M101_Aligned-0010,2460090.721,2023-05-26T05:18:14.400Z,Clear_V,210.80242916666666,54.34875,11.12\n20230527_M101_Aligned-0011.cutout.png,SN2023ixf,20230527_M101_Aligned-0011,2460091.721,2023-05-27T05:18:14.400Z,Clear_V,210.80242916666666,54.34875,11.129\n20230528_M101_Aligned-0012.cutout.png,SN2023ixf,20230528_M101_Aligned-0012,2460092.711,2023-05-28T05:03:50.400Z,Clear_V,210.80242916666666,54.34875,11.143\n20230529_M101_Aligned-0013.cutout.png,SN2023ixf,20230529_M101_Aligned-0013,2460093.711,2023-05-29T05:03:50.400Z,Clear_V,210.80242916666666,54.34875,11.151\n20230530_M101_Aligned-0014.cutout.png,SN2023ixf,20230530_M101_Aligned-0014,2460094.711,2023-05-30T05:03:50.400Z,Clear_V,210.80242916666666,54.34875,11.146\n20230531_M101_Aligned-0015.cutout.png,SN2023ixf,20230531_M101_Aligned-0015,2460095.711,2023-05-31T05:03:50.400Z,Clear_V,210.80242916666666,54.34875,11.149`;\n\n\nexport const m101DataCount = 15;","export const aavsoLightCurve = `timestamp,magnitude\n1684582049000,13.385333333333335\n1684625249000,11.972410256410257\n1684668449000,11.845833333333333\n1684711649000,11.330348314606741\n1684754849000,11.309210280373833\n1684798049000,11.121178125\n1684841249000,11.101986301369863\n1684884449000,11.12956610878661\n1684927649000,11.098957446808509\n1684970849000,11.043252688172043\n1685014049000,11.054695652173914\n1685057249000,11.063711814345991\n1685100449000,11.082699999999999\n1685143649000,11.082035862068965\n1685186849000,11.116285714285713\n1685230049000,11.09607655172414\n1685273249000,11.128023529411765\n1685316449000,11.09654761904762\n1685359649000,11.151816091954023\n1685402849000,11.098493506493506\n1685446049000,11.095949999999`;","import { render } from \"./M101SN.vue?vue&type=template&id=7bc2a0a4&ts=true\"\nimport script from \"./M101SN.vue?vue&type=script&lang=ts\"\nexport * from \"./M101SN.vue?vue&type=script&lang=ts\"\n\nimport \"./M101SN.vue?vue&type=style&index=0&id=7bc2a0a4&lang=less\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, renderList as _renderList, Fragment as _Fragment, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass, withKeys as _withKeys, withCtx as _withCtx, normalizeStyle as _normalizeStyle, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-2d1c64b8\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"wrapper\" }\nconst _hoisted_2 = {\n  key: 0,\n  src: \"https://johnarban.github.io/wwt_interactives/images/m101/hubble_m101/thumb.jpg\"\n}\nconst _hoisted_3 = {\n  key: 1,\n  class: \"thumbnail-header\"\n}\nconst _hoisted_4 = { key: 0 }\nconst _hoisted_5 = { key: 1 }\nconst _hoisted_6 = {\n  key: 2,\n  class: \"thumbnail-header\"\n}\nconst _hoisted_7 = { id: \"items\" }\nconst _hoisted_8 = { key: 0 }\nconst _hoisted_9 = [\"id\"]\nconst _hoisted_10 = { class: \"item-thumbnails\" }\nconst _hoisted_11 = [\"src\", \"alt\", \"onClick\"]\nconst _hoisted_12 = [\"onClick\"]\nconst _hoisted_13 = { class: \"slider-container\" }\nconst _hoisted_14 = [\"onInput\", \"onKeyup\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_font_awesome_icon = _resolveComponent(\"font-awesome-icon\")!\n  const _component_transition_expand = _resolveComponent(\"transition-expand\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: \"fv-root\",\n    style: _normalizeStyle(_ctx.cssVars)\n  }, [\n    (_ctx.expandable)\n      ? (_openBlock(), _createElementBlock(\"div\", {\n          key: 0,\n          id: \"expand-row\",\n          class: \"bordered pa-1\",\n          onClick: _cache[0] || (_cache[0] = ($event: any) => (_ctx.expanded = !_ctx.expanded))\n        }, [\n          _createElementVNode(\"div\", _hoisted_1, [\n            (!_ctx.thumbnails)\n              ? (_openBlock(), _createElementBlock(\"img\", _hoisted_2))\n              : _createCommentVNode(\"\", true),\n            (_ctx.expanded)\n              ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, [\n                  _createTextVNode(\" Click \"),\n                  (_ctx.thumbnails)\n                    ? (_openBlock(), _createElementBlock(\"span\", _hoisted_4, \"thumbnail\"))\n                    : (_openBlock(), _createElementBlock(\"span\", _hoisted_5, \"date\")),\n                  _createTextVNode(\" to see image in sky \")\n                ]))\n              : _createCommentVNode(\"\", true),\n            (!_ctx.expanded)\n              ? (_openBlock(), _createElementBlock(\"div\", _hoisted_6, \" Image Controls \"))\n              : _createCommentVNode(\"\", true)\n          ]),\n          _createVNode(_component_font_awesome_icon, {\n            id: \"expand-icon\",\n            icon: _ctx.expanded ? 'chevron-up' : 'chevron-down'\n          }, null, 8, [\"icon\"])\n        ]))\n      : _createCommentVNode(\"\", true),\n    _createVNode(_component_transition_expand, null, {\n      default: _withCtx(() => [\n        _createElementVNode(\"div\", _hoisted_7, [\n          (_ctx.items !== null && _ctx.expanded)\n            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_8, [\n                (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.items, (item) => {\n                  return (_openBlock(), _createElementBlock(\"div\", {\n                    class: _normalizeClass(['bordered', 'item', _ctx.lastSelectedItem === item ? 'selected' : '']),\n                    key: item.get_name(),\n                    id: `fv-${item.get_name()}`\n                  }, [\n                    _createElementVNode(\"div\", _hoisted_10, [\n                      (_ctx.thumbnails)\n                        ? (_openBlock(), _createElementBlock(\"img\", {\n                            key: 0,\n                            class: \"thumbnail-images\",\n                            src: item.get_thumbnailUrl(),\n                            alt: item.get_name(),\n                            onClick: () => _ctx.selectItem(item)\n                          }, null, 8, _hoisted_11))\n                        : _createCommentVNode(\"\", true),\n                      (_ctx.showName)\n                        ? (_openBlock(), _createElementBlock(\"div\", {\n                            key: 1,\n                            class: _normalizeClass([\"item-name\", ['thumbnail']]),\n                            onClick: () => _ctx.selectItem(item)\n                          }, _toDisplayString(_ctx.displayName(item)), 9, _hoisted_12))\n                        : _createCommentVNode(\"\", true)\n                    ]),\n                    _createElementVNode(\"div\", _hoisted_13, [\n                      (_ctx.sliders)\n                        ? (_openBlock(), _createElementBlock(\"input\", {\n                            key: 0,\n                            class: \"opacity-range\",\n                            type: \"range\",\n                            value: \"0\",\n                            onInput: (e) => _ctx.onSliderInputChanged(e , item),\n                            onKeyup: _withKeys(() => _ctx.selectItem(item), [\"enter\"]),\n                            onMouseup: _cache[1] || (_cache[1] = () => { _ctx.lastOpacityChanged = null})\n                          }, null, 40, _hoisted_14))\n                        : _createCommentVNode(\"\", true)\n                    ])\n                  ], 10, _hoisted_9))\n                }), 128))\n              ]))\n            : _createCommentVNode(\"\", true)\n        ])\n      ]),\n      _: 1\n    })\n  ], 4))\n}","<template>\n  <div\n    class=\"fv-root\"\n    :style=\"cssVars\"\n  >\n    <div\n      v-if=\"expandable\"\n      id=\"expand-row\"\n      class=\"bordered pa-1\"\n      @click=\"expanded = !expanded\"\n    >\n      <div class=\"wrapper\">\n        <img\n          src=\"https://johnarban.github.io/wwt_interactives/images/m101/hubble_m101/thumb.jpg\" v-if=\"!thumbnails\"\n        />\n        <div class=\"thumbnail-header\" v-if=\"expanded\">\n          Click <span v-if=\"thumbnails\">thumbnail</span><span v-else>date</span> to see image in sky\n        </div>\n        <div class=\"thumbnail-header\" v-if=\"!expanded\">\n          Image Controls\n        </div>\n\n      </div>\n      <font-awesome-icon\n        id=\"expand-icon\"\n        :icon=\"expanded ? 'chevron-up' : 'chevron-down'\"\n      />\n    </div>\n    <transition-expand>\n      <div id=\"items\">\n        <div\n          v-if=\"items !== null && expanded\"\n        >\n          <div\n            :class=\"['bordered', 'item', lastSelectedItem === item ? 'selected' : '']\"\n            v-for=\"item of items\"\n            :key=\"item.get_name()\"\n            :id=\"`fv-${item.get_name()}`\"\n          >\n            <div\n              class=\"item-thumbnails\"\n            >\n              <img\n                class=\"thumbnail-images\"\n                v-if=\"thumbnails\"\n                :src=\"item.get_thumbnailUrl()\"\n                :alt=\"item.get_name()\"\n                @click=\"() => selectItem(item)\"\n              />\n              <div\n                v-if = \"showName\"\n                class=\"item-name\"\n                :class=\"['thumbnail']\"\n                @click=\"() => selectItem(item)\"\n              >\n                {{ displayName(item) }}\n              </div>\n            </div>\n            <div class=\"slider-container\">\n              <input\n                v-if=\"sliders\"\n                class=\"opacity-range\"\n                type=\"range\"\n                value=\"0\"\n                @input=\"(e: Event) => onSliderInputChanged(e , item)\"\n                @keyup.enter=\"() => selectItem(item)\"\n                @mouseup=\"() => { lastOpacityChanged = null}\"\n              />\n            \n              <!--\n              <label class=\"switch\">\n                <input \n                  type=\"checkbox\"\n                  :title=\"item.get_name()\"\n                  @change=\"(e) => onToggleImage(e, item)\"\n                  >\n                <span class=\"slider\"></span>\n              </label>\n              -->\n            </div>\n\n          </div>\n        </div>\n      </div>\n    </transition-expand>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, isProxy, toRaw, PropType } from \"vue\";\nimport { Folder, FolderUp, Place, Imageset } from \"@wwtelescope/engine\";\nimport { Thumbnail } from \"@wwtelescope/engine-types\";\nimport { WWTAwareComponent } from \"@wwtelescope/engine-pinia\";\n\ntype FlexDirection = \"row\" | \"column\";\n\nexport default defineComponent({\n  extends: WWTAwareComponent,\n\n  props: {\n    rootFolder: {\n      type: Object as PropType<Folder>,\n      required: true\n    },\n    flexDirection: {\n      type: String as PropType<FlexDirection>,\n      default: \"column\"\n    },\n    expandable: {\n      type: Boolean,\n      default: false\n    },\n    sliders: {\n      type: Boolean,\n      default: false\n    },\n    scrolling: {\n      type: Boolean,\n      default: false\n    },\n    startFirstSelected: {\n      type: Boolean,\n      default: false\n    },\n    thumbnails: {\n      type: Boolean,\n      default: true\n    },\n    open: {\n      type: Boolean,\n      default: false\n    },\n    incomingItemSelect: {\n      type: Object as PropType<Thumbnail>,\n      default: null\n    },\n    showName: {\n      type: Boolean,\n      default: true\n    },\n\n    itemNames: {\n      type: Object as PropType<Record<string, string>>,\n      default: () => ({})\n    },\n\n    sortBy: {\n      type: Object as PropType<Record<string, number>>,\n      default: () => ({})\n    },\n\n    reversed: {\n      type: Boolean,\n      default: false\n    }\n    \n  },\n\n  data() {\n    return {\n      items: [] as Thumbnail[],\n      originalOrder: [] as string[],\n      lastSelectedItem: null as Thumbnail | null,\n      opacities: {} as Record<string, number>,\n      expanded: this.open,\n      lastOpacityChanged: null as Thumbnail | null,\n      sorted: false\n    };\n  },\n\n  created() {\n    this.populate();\n    this.originalOrder = this.items.map((item) => item.get_name());\n    if (this.validSortBy) { this.sortItems(); this.sorted=true; }\n  },\n\n  methods: {\n    populate(): void {\n      for (const c of this.rootFolder.get_children() ?? []) {\n        const cr = isProxy(c) ? toRaw(c) : c;\n        if (cr instanceof Place) {\n          this.items.push(cr);\n        }\n      }\n      if (this.startFirstSelected && this.items?.length > 0) {\n        this.selectItem(this.items[0]);\n      }\n    },\n    showSlider(item: Thumbnail | null): boolean {\n      return item instanceof Imageset;\n    },\n\n    sortItems(): void {\n      if (!this.validSortBy) {\n        // restore original order\n        this.items.sort((a, b) => {\n          const aIndex = this.originalOrder.indexOf(a.get_name());\n          const bIndex = this.originalOrder.indexOf(b.get_name());\n          return aIndex - bIndex;\n        });\n        return;\n      }\n      this.items.sort((a, b) => {\n        const aIndex = this.sortBy[a.get_name()] ?? this.items.length;\n        const bIndex = this.sortBy[b.get_name()] ?? this.items.length;\n        return this.reversed ? bIndex - aIndex : aIndex - bIndex;\n      });\n    },\n    \n    selectItem(item: Thumbnail): void {\n      if (!this.sliders && (item === this.lastSelectedItem)) {\n        this.lastSelectedItem = null;\n        this.$emit('select', null);\n        return;\n      }\n      this.lastSelectedItem = item;\n      if (item instanceof Folder || item instanceof FolderUp) {\n        this.items = item.get_children() ?? [];\n      } else {\n        this.$emit('select', item);\n      }\n    },\n\n    displayName(item: Thumbnail): string {\n      // check if items names is empty or a function\n      if (this.validItemNames && Object.keys(this.itemNames).includes(item.get_name())) {\n        return this.itemNames[item.get_name()];\n      }\n      console.log(\"item name\", item.get_name());\n      return item.get_name();\n    },\n    \n    onSliderInputChanged(e: Event, item: Thumbnail) {\n      let dragging = false;\n      if (this.lastOpacityChanged == item) {\n        dragging = true;\n      } else {\n        this.lastOpacityChanged = item;\n      }\n      this.$emit('opacity', item, (e.target as HTMLInputElement).value, !dragging);\n    },\n\n    onToggleImage(e: Event, item: Thumbnail) {\n      this.$emit('toggle', item, (e.target as HTMLInputElement).checked);\n    },\n\n    scrollToItem(id: string) {\n      const element = document.getElementById(id);\n      if (element !== null) {\n        const container = document.getElementById(\"items\");\n        if (container !== null) {\n          const y = Math.max(Math.min(element.offsetTop - element.clientHeight * 1.5, container.scrollHeight), 0);\n          container.scrollTo(0, y);\n        }\n      }\n    },\n  },\n\n  computed: {\n    cssVars() {\n      return {\n        \"--flex-direction\": this.flexDirection\n      };\n    },\n\n    isMobile() {\n      return (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent));\n    },\n\n    validItemNames(): boolean {\n      const length = Object.keys(this.itemNames).length;\n      \n      if (length == 0) { return false; }\n      \n      if ((length - this.items.length) != 0) {\n        console.warn(`itemNames length (${length}) does not match items length (${this.items.length})`);\n      }\n\n      // this.items.forEach((item) => {\n      //   if (!Object.keys(this.itemNames).includes(item.get_name())) {\n      //     console.warn(`itemNames does not contain ${item.get_name()}`);\n      //   }\n      // });\n      \n      return length > 0;\n    },\n\n    validSortBy(): boolean {\n      let valid = true;\n      const sortKeys = Object.keys(this.sortBy);\n      for (const item of this.items) {\n        if (!sortKeys.includes(item.get_name())) {\n          console.warn(`sortBy does not contain ${item}`);\n          valid = false;\n        }\n      }\n      return valid;\n    },\n  \n  },\n\n  watch: {\n    incomingItemSelect() {\n      if (this.incomingItemSelect != null) {\n        this.lastSelectedItem = this.incomingItemSelect;\n        if (this.scrolling) {\n          this.scrollToItem(`fv-${this.incomingItemSelect.get_name()}`);\n        }\n      } else {\n        this.lastSelectedItem = null;\n      }\n    },\n\n    sortBy() {\n      this.sortItems();\n    },\n  }\n});\n</script>\n\n<style scoped lang=\"less\">\n.fv-root {\n  display: flex;\n  flex-direction: var(--flex-direction);\n  overflow-x: auto;\n  overflow-y: auto;\n  pointer-events: auto;\n  background: rgba(0, 0, 0, 0.5);\n  // outline: 1px solid rgb(4, 214, 175);\n  padding: 3px;\n  border-radius: 2px;\n}\n\n#items {\n  height: 100%;\n  overflow-y: auto;\n  &::-webkit-scrollbar {\n    -webkit-appearance: none;\n    width: 15px;\n  }\n  &::-webkit-scrollbar-track {\n    background: rgb(0, 0, 0,0.5);\n    // border: 5px solid red;\n  }\n  &::-webkit-scrollbar-thumb {\n    background: rgba(100, 100, 100, 0.5);\n    width: 10px;\n    border: 3px solid black;\n    border-radius: 10px;\n  }\n  //width: 100%;\n  //justify-content: space-around;\n}\n\n.item {\n  display: flex;\n  flex-direction: column;\n  padding: 3px;\n  width: 100%;\n  cursor: pointer;\n  pointer-events: auto;\n  margin: .5em 0;\n  & img {\n    width: 100%;\n    height: ~\"min(45px, 7.5vh)\";\n    object-fit: cover;\n    border-radius: 2px;\n  }\n\n  & input[type=range] {\n    width: calc(min(12vh, 100px));\n  }\n  &.selected {\n    border: 1px solid #D60493;\n  }\n}\n\n\n.selected .item-name {\n  color: #fb46c2;\n}\n.item-name {\n  position: absolute;\n  top:5px;\n  right:5px;\n  margin:0px 5px;\n  text-align: right;\n  color: white;\n  font-size: 0.7em;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  white-space: nowrap;\n  text-shadow: 0px 0px 5px black;\n}\n\n.thumbnail-header {\n  color: white;\n  width: 100%;\n  font-size: 0.7rem;\n  padding: 4px 8px;\n}\n\n.item-thumbnails {\n  position: relative;\n  display: inline-block;\n  height: 45px;\n}\n\n.thumbnail-images {\n  width: 100px;\n  position: absolute;\n  height: 45px;\n}\n\n.bordered {\n  border: 1px solid rgb(68, 68, 68);\n  // background-color: rgba(68, 68, 68, 0.5);\n  border-radius: 5px;\n}\n\n#expand-row {\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n  padding: 3px;\n  pointer-events: auto;\n\n  &:hover {\n    cursor: pointer;\n  }\n}\n\n.wrapper {\n  position:relative;\n  width: 150px;\n  overflow-wrap:break-word;\n}\n\n.overlay {\n  position:absolute;\n  top:0;\n  left:75%;\n}\n\n.slider-container {\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  gap: 0.5em;\n  margin-top: 2px;\n}\n.switch {\n  // moving toggle\n  --toggle-size: 0.77em;\n  --slider-height: calc(var(--toggle-size) * 1.3);\n  --toggle-bottom-gap: calc((var(--slider-height) - var(--toggle-size))/2);\n  --toggle-left-gap: var(--toggle-bottom-gap);\n  --slider-width: calc(2*(var(--toggle-left-gap) + var(--toggle-size)));\n  --translateX: var(--toggle-size);\n\n  position: relative;\n  display: flex;\n  width: var(--slider-width);\n  height: var(--slider-height);\n}\n\n.switch input { \n  visibility: hidden;\n}\n\n.slider {\n  position: absolute;\n  cursor: pointer;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: #ccc;\n  -webkit-transition: .4s;\n  transition: .4s;\n  border-radius: var(--slider-height);\n}\n\n.slider:before {\n  position: absolute;\n  content: \"\";\n  height: var(--toggle-size);\n  width: var(--toggle-size);\n  left: var(--toggle-left-gap);\n  bottom: var(--toggle-bottom-gap);\n  background-color: white;\n  -webkit-transition: .4s;\n  transition: .4s;\n  border-radius: 50%;\n}\n\ninput:checked + .slider {\n  background-color: #2196F3;\n}\n\ninput:focus + .slider {\n  box-shadow: 0 0 1px #2196F3;\n}\n\ninput:checked + .slider:before {\n  -webkit-transform: translateX(var(--translateX));\n  -ms-transform: translateX(var(--translateX));\n  transform: translateX(var(--translateX));\n}\n\n#expand-icon {\n  color: var(--ephemeris-color);\n  margin:10px;\n}\n\n\n</style>\n","import { render } from \"./FolderView.vue?vue&type=template&id=2d1c64b8&scoped=true&ts=true\"\nimport script from \"./FolderView.vue?vue&type=script&lang=ts\"\nexport * from \"./FolderView.vue?vue&type=script&lang=ts\"\n\nimport \"./FolderView.vue?vue&type=style&index=0&id=2d1c64b8&scoped=true&lang=less\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2d1c64b8\"]])\n\nexport default __exports__","import { createElementVNode as _createElementVNode, createStaticVNode as _createStaticVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\nimport _imports_0 from '../src/assets/MicroObservatory_Logo.png'\n\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-492c5f18\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = {\n  id: \"credits\",\n  class: \"ui-text\"\n}\nconst _hoisted_2 = /*#__PURE__*/_createStaticVNode(\"<div id=\\\"icons-container\\\" data-v-492c5f18><a href=\\\"https://www.cosmicds.cfa.harvard.edu/\\\" target=\\\"_blank\\\" data-v-492c5f18><img alt=\\\"CosmicDS Logo\\\" src=\\\"https://cosmicds.github.io/cds-website/logos/cosmicds_logo_for_dark_backgrounds.png\\\" data-v-492c5f18></a><a href=\\\"https://worldwidetelescope.org/home/\\\" target=\\\"_blank\\\" data-v-492c5f18><img alt=\\\"WWT Logo\\\" src=\\\"https://cosmicds.github.io/cds-website/logos/logo_wwt.png\\\" data-v-492c5f18></a><a href=\\\"https://mo-www.cfa.harvard.edu/MicroObservatory/\\\" target=\\\"_blank\\\" class=\\\"pl-1\\\" data-v-492c5f18><img alt=\\\"MicroObservatory at CfA\\\" src=\\\"\" + _imports_0 + \"\\\" data-v-492c5f18></a><a href=\\\"https://science.nasa.gov/learners\\\" target=\\\"_blank\\\" class=\\\"pl-1\\\" data-v-492c5f18><img alt=\\\"SciAct Logo\\\" src=\\\"https://cosmicds.github.io/cds-website/logos/logo_sciact.png\\\" data-v-492c5f18></a><a href=\\\"https://nasa.gov/\\\" target=\\\"_blank\\\" class=\\\"pl-1\\\" data-v-492c5f18><img alt=\\\"SciAct Logo\\\" src=\\\"https://cosmicds.github.io/cds-website/logos/NASA_Partner_color_300_no_outline.png\\\" data-v-492c5f18></a></div>\", 1)\nconst _hoisted_3 = [\n  _hoisted_2\n]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, _hoisted_3))\n}","<template>\n  <div id=\"credits\" class=\"ui-text\">\n    <div id=\"icons-container\">\n      <a href=\"https://www.cosmicds.cfa.harvard.edu/\" target=\"_blank\"\n        ><img alt=\"CosmicDS Logo\" src=\"https://cosmicds.github.io/cds-website/logos/cosmicds_logo_for_dark_backgrounds.png\"\n      /></a>\n      <a href=\"https://worldwidetelescope.org/home/\" target=\"_blank\"\n        ><img alt=\"WWT Logo\" src=\"https://cosmicds.github.io/cds-website/logos/logo_wwt.png\"\n      /></a>\n      <a href=\"https://mo-www.cfa.harvard.edu/MicroObservatory/\" target=\"_blank\" class=\"pl-1\"\n        ><img alt=\"MicroObservatory at CfA\" src=\"../src/assets/MicroObservatory_Logo.png\"\n      /></a>\n      <a href=\"https://science.nasa.gov/learners\" target=\"_blank\" class=\"pl-1\"\n        ><img alt=\"SciAct Logo\" src=\"https://cosmicds.github.io/cds-website/logos/logo_sciact.png\"\n      /></a>\n      <a href=\"https://nasa.gov/\" target=\"_blank\" class=\"pl-1\"\n        ><img alt=\"SciAct Logo\" src=\"https://cosmicds.github.io/cds-website/logos/NASA_Partner_color_300_no_outline.png\"\n      /></a>\n    </div>\n  </div>\n</template>\n\n\n<script lang=\"ts\">\nimport { defineComponent } from \"vue\";\n\nexport default defineComponent({\n\n  props: {\n    visible: {\n      type: Boolean,\n      default: true\n    },\n  },\n\n  computed: { \n\n    isMobile() {\n      return (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent));\n    },\n  }\n\n});\n</script>\n\n\n<style scoped lang=\"less\">\n\n#credits {\n  color: #ddd;\n  font-size: calc(0.7em + 0.2vw);\n  justify-self: flex-end;\n  align-self: flex-end;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  p {\n    margin: 0;\n    padding: 0;\n    line-height: 1;\n  }\n\n  a {\n    text-decoration: none;\n    color: #fff;\n    pointer-events: auto;\n\n    &:hover {\n      text-decoration: underline;\n    }\n\n    &[class^=\"share-network\"]:hover {\n      text-decoration: none;\n      filter: brightness(75%);\n    }\n  }\n\n  img {\n    height: 35px;\n    vertical-align: middle;\n    margin: 2px;\n  }\n\n  @media only screen and (max-width: 600px) {\n  img {\n    height: 24px;\n  }\n}\n\n  svg {\n    vertical-align: middle;\n    height: 24px;\n  }\n}\n</style>\n","import { render } from \"./Credits.vue?vue&type=template&id=492c5f18&scoped=true&ts=true\"\nimport script from \"./Credits.vue?vue&type=script&lang=ts\"\nexport * from \"./Credits.vue?vue&type=script&lang=ts\"\n\nimport \"./Credits.vue?vue&type=style&index=0&id=492c5f18&scoped=true&lang=less\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-492c5f18\"]])\n\nexport default __exports__","import { resolveComponent as _resolveComponent, withKeys as _withKeys, createVNode as _createVNode, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode } from \"vue\"\n\nconst _hoisted_1 = {\n  key: 0,\n  class: \"toggle\"\n}\nconst _hoisted_2 = { class: \"toggle__checkboxes\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_v_checkbox = _resolveComponent(\"v-checkbox\")!\n\n  return (_ctx.show)\n    ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n        _createElementVNode(\"div\", _hoisted_2, [\n          _createVNode(_component_v_checkbox, {\n            color: _ctx.color,\n            label: _ctx.label,\n            modelValue: _ctx.selected,\n            \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((_ctx.selected) = $event)),\n            onKeyup: _cache[1] || (_cache[1] = _withKeys(() => {_ctx.selected = !_ctx.selected; _ctx.onChange();}, [\"enter\"])),\n            onChange: _ctx.onChange,\n            \"hide-details\": \"\"\n          }, null, 8, [\"color\", \"label\", \"modelValue\", \"onChange\"])\n        ])\n      ]))\n    : _createCommentVNode(\"\", true)\n}","<!-- this v-checkbox based component that toggles a boolean. -->\n<template>\n  <div \n    v-if=\"show\" \n    class=\"toggle\">\n    <div class=\"toggle__checkboxes\">\n      <v-checkbox\n        :color=\"color\"\n        :label=\"label\"\n        v-model=\"selected\"\n        @keyup.enter=\"() => {selected = !selected; onChange();}\"\n        @change=\"onChange\"\n        hide-details\n        >\n      </v-checkbox>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, } from \"vue\";\n\n\nexport default defineComponent({\n\n  name: 'Toggle',\n  props: {\n\n    show: {\n      type: Boolean,\n      default: true\n    },\n    \n    label: {\n      type: String,\n      required: true,\n    },\n    item: {\n      type: Boolean,\n      required: true,\n    },\n    color: {\n      type: String,\n      required: true,\n      default: 'white',\n    },\n  },\n  \n  data() {\n    return {\n      selected: this.item,\n    };\n  },\n  methods: {\n    onChange() {\n      this.$emit('toggle', this.selected );\n    },\n  },\n});\n</script>\n\n\n<style scoped lang=\"less\">\n\n</style>","import { render } from \"./Toggle.vue?vue&type=template&id=a0a0a9de&ts=true\"\nimport script from \"./Toggle.vue?vue&type=script&lang=ts\"\nexport * from \"./Toggle.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { renderSlot as _renderSlot, Transition as _Transition, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createBlock(_Transition, {\n    name: \"expand\",\n    onEnter: _ctx.enter,\n    onAfterEnter: _ctx.afterEnter,\n    onLeave: _ctx.leave\n  }, {\n    default: _withCtx(() => [\n      _renderSlot(_ctx.$slots, \"default\", {}, undefined, true)\n    ]),\n    _: 3\n  }, 8, [\"onEnter\", \"onAfterEnter\", \"onLeave\"]))\n}","<template>\n  <!-- This component is based on the code from https://markus.oberlehner.net/blog/transition-to-height-auto-with-vue/\n  It has been modified to use the vue-property-decorator format\n  -->\n  <transition\n    name=\"expand\"\n    @enter=\"enter\"\n    @after-enter=\"afterEnter\"\n    @leave=\"leave\"\n  >\n    <slot />\n  </transition>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from \"@vue/runtime-core\";\n\n\nexport default defineComponent({\n  name: \"TransitionExpand\",\n\n  emits: ['enter', 'after-enter', 'leave'],\n\n  methods: {\n    enter(element: HTMLElement) {\n      const width = getComputedStyle(element).width;\n\n      element.style.width = width;\n      element.style.position = \"absolute\";\n      element.style.visibility = \"hidden\";\n      element.style.height = \"auto\";\n\n      const height = getComputedStyle(element).height;\n\n      element.style.width = \"\";\n      element.style.position = \"\";\n      element.style.visibility = \"visible\";\n      element.style.height = \"0px\";\n\n      // Force repaint to make sure the\n      // animation is triggered correctly.\n      getComputedStyle(element).height;\n\n      // Trigger the animation.\n      // We use `requestAnimationFrame` because we need\n      // to make sure the browser has finished\n      // painting after setting the `height`\n      // to `0` in the line above.\n      requestAnimationFrame(() => {\n        element.style.height = height;\n      });\n\n      this.$emit('enter');\n    },\n\n    afterEnter(element: HTMLElement) {\n      element.style.height = \"auto\";\n      this.$emit('after-enter');\n    },\n\n    leave(element: HTMLElement) {\n      const height = getComputedStyle(element).height;\n\n      element.style.height = height;\n\n      // Force repaint to make sure the\n      // animation is triggered correctly.\n      getComputedStyle(element).height;\n\n      requestAnimationFrame(() => {\n        element.style.height = \"0\";\n      });\n      this.$emit('leave');\n    }\n  }\n});\n</script>\n\n<style scoped>\n* {\n  will-change: height;\n  transform: translateZ(0);\n  backface-visibility: hidden;\n  perspective: 1000px;\n}\n\n.expand-enter-active,\n.expand-leave-active {\n  transition: height 0.2s ease-in-out;\n  overflow: hidden;\n}\n\n.expand-enter,\n.expand-leave-to {\n  height: 0;\n}\n</style>\n","import { render } from \"./TransitionExpand.vue?vue&type=template&id=4fd945ad&scoped=true&ts=true\"\nimport script from \"./TransitionExpand.vue?vue&type=script&lang=ts\"\nexport * from \"./TransitionExpand.vue?vue&type=script&lang=ts\"\n\nimport \"./TransitionExpand.vue?vue&type=style&index=0&id=4fd945ad&scoped=true&lang=css\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-4fd945ad\"]])\n\nexport default __exports__","import { createElementVNode as _createElementVNode, vShow as _vShow, withDirectives as _withDirectives, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-786197ea\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { id: \"plot\" }\nconst _hoisted_2 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"canvas\", {\n  id: \"chartjs\",\n  class: \"chartjs\"\n}, null, -1))\nconst _hoisted_3 = [\n  _hoisted_2\n]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return _withDirectives((_openBlock(), _createElementBlock(\"div\", _hoisted_1, _hoisted_3, 512)), [\n    [_vShow, _ctx.show]\n  ])\n}","<!-- Vue component for plotting a scatter plot of x,y data in Chart.js -->\n<template>\n    <div v-show=\"show\" id=\"plot\">\n      <canvas id=\"chartjs\" class=\"chartjs\"></canvas>\n    </div>\n    \n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, PropType } from \"vue\";\nimport Chart from \"chart.js/auto\"; \nimport { ChartItem } from \"chart.js\";\n\nexport default defineComponent({\n  name: \"chartjsScatter\",\n\n  data() {\n    return {\n      chart: null as unknown as ChartItem,\n      canvasel: null as HTMLCanvasElement | null,\n    };\n  },\n  \n  props: {\n    data: {\n      type: Array as PropType<{ x: Date | number; y: number }[]>,\n      required: true,\n      // fill in some default data\n      default: () =>\n        [\n          { x: (new Date(\"2020-01-01\")).getTime(), y: 1 },\n          { x: (new Date(\"2020-01-02\")).getTime(), y: 2 },\n          { x: (new Date(\"2020-01-03\")).getTime(), y: 3 },\n          { x: (new Date(\"2020-01-04\")).getTime(), y: 4 },\n          { x: (new Date(\"2020-01-05\")).getTime(), y: 5 },\n          { x: (new Date(\"2020-01-06\")).getTime(), y: 6 },\n          { x: (new Date(\"2020-01-07\")).getTime(), y: 7 },\n          { x: (new Date(\"2020-01-08\")).getTime(), y: 8 },\n          { x: (new Date(\"2020-01-09\")).getTime(), y: 9 },\n          { x: (new Date(\"2020-01-10\")).getTime(), y: 10 }\n        ]\n\n    },\n\n    lineData: {\n      type: Array as PropType<{ x: Date | number; y: number }[]>,\n      required: false,\n      default: () => [],\n    },\n\n    keys: {\n      type: Object as PropType<{ x: string; y: string }>,\n      required: false,\n      default: () => ({ x: \"x\", y: \"y\" }),\n    },\n\n    width: {\n      type: Number,\n      required: false,\n    },\n    height: {\n      type: Number,\n      required: false,\n    },\n\n    xrange: {\n      type: Array<number>,\n      required: true,\n    },\n\n    yrange: {\n      type: Array<number>,\n      required: false,\n      default: () => null as unknown as Array<number>,\n    },\n\n    line: {\n      type: Boolean,\n      required: false,\n      default: false,\n    },\n\n    scatter: {\n      type: Boolean,\n      required: false,\n      default: false,\n    },\n\n    animation: {\n      type: Boolean,\n      required: false,\n      default: true,\n    },\n\n    maintainAspectRatio: {\n      type: Boolean,\n      required: false,\n      default: false,\n    },\n\n    reversedY: {\n      type: Boolean,\n      required: false,\n      default: false,\n    },\n\n    reversedX: {\n      type: Boolean,\n      required: false,\n      default: false,\n    },\n\n    hideXAxis: {\n      type: Boolean,\n      required: false,\n      default: false,\n    },\n\n    hideYAxis: {\n      type: Boolean,\n      required: false,\n      default: false,\n    },\n\n    scatterOptions: {\n      type: Object,\n      required: false,\n      default: () => ({}),\n    },\n\n    color: {\n      type: String,\n      required: false,\n      default: null,\n    },\n\n    borderColor: {\n      type: String,\n      required: false,\n      default: null,\n    },\n    \n    lineOptions: {\n      type: Object,\n      required: false,\n      default: null,\n    },\n\n    axisOptions: {\n      type: Object,\n      required: false,\n      default: () => ({}),\n    },\n\n    xAxisOptions: {\n      type: Object,\n      required: false,\n      default: () => ({}),\n    },\n\n    yAxisOptions: {\n      type: Object,\n      required: false,\n      default: () => ({}),\n    },\n\n    show: {\n      type: Boolean,\n      required: false,\n      default: true,\n    },\n    \n  },\n  mounted() {\n    this.draw();\n\n    new ResizeObserver(() => {\n      this.draw();\n    }).observe(this.$el);\n\n  },\n  methods: {\n\n    getKey(obj: { [key: string]: unknown}  , key: string, defaultKey: string | null = null) {\n      // check if obj has key\n      if (key in obj) {\n        return obj[key as keyof typeof obj];\n      } else if (defaultKey != null && defaultKey in obj) {\n        return obj[defaultKey as keyof typeof obj];\n      }\n    },\n    \n    draw() {\n      // arrow adapted from \n      // https://stackoverflow.com/questions/72214227/chart-js-add-direction-arrows-to-the-x-and-y-axes\n      const arrowBorder = {\n        id: 'arrowBorder',\n        // JC: I don't know whether or not these unused fields are actually needed,\n        // so I just decided to leave them\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        afterDatasetsDraw(chart: Chart, args: any, pluginOptions: any) {\n          const {\n            ctx,\n            chartArea: {\n              top,\n              bottom,\n              left,\n              right,\n              // eslint-disable-next-line @typescript-eslint/no-unused-vars\n              width,\n              // eslint-disable-next-line @typescript-eslint/no-unused-vars\n              height\n            }\n          } = chart;\n\n\n          \n          ctx.save();\n          ctx.beginPath();\n          ctx.lineWidth = pluginOptions.yWidth;\n          ctx.strokeStyle = \"white\";\n\n          const headLength = 6;\n          const headWidth = 5;\n\n          const arrowUpTip = -4;\n          // stem\n          ctx.moveTo(left, bottom + 1);\n          ctx.lineTo(left, top + arrowUpTip);\n          // arrowhead\n          ctx.moveTo(left - headWidth, top + arrowUpTip + headLength);\n          ctx.lineTo(left, top + arrowUpTip);\n          ctx.lineTo(left + headWidth, top + arrowUpTip + headLength);\n          ctx.stroke();\n          ctx.closePath();\n          // \n\n          ctx.beginPath();\n          ctx.lineWidth = pluginOptions.xWidth;\n          ctx.strokeStyle = \"#ccc\";\n          const arrowRightTip = 4;\n          // stem\n          ctx.moveTo(left-1, bottom);\n          ctx.lineTo(right + arrowRightTip, bottom);\n          // arrowhead\n          ctx.moveTo(right + arrowRightTip - headLength, bottom - headWidth);\n          ctx.lineTo(right + arrowRightTip, bottom);\n          ctx.lineTo(right + arrowRightTip - headLength, bottom + headWidth);\n          ctx.stroke();\n          ctx.closePath();\n        },\n        defaults: {\n          yWidth: this.chartOptions.scales.y.border.width - 1,\n          xWidth: this.chartOptions.scales.x.border.width - 1,\n        }\n      };\n      \n      const ctx = this.$el.querySelector(\"#chartjs\");\n      \n      if (this.chart) {\n        const oldChart = Chart.getChart(ctx as HTMLCanvasElement);\n        if (oldChart) {\n          oldChart.destroy();\n        }\n      }\n\n      this.chart = new Chart(ctx, {\n  \n        data: this.chartData,\n        options: this.chartOptions,\n        plugins: [arrowBorder],\n        \n      });\n\n      this.getBounds;\n\n      return ;\n    },\n    \n  },\n\n  computed: {\n\n    // check if data.x is a timeseries\n    isDate() {\n      return this.data[0].x instanceof Date;\n    },\n\n    \n    computedData() {\n\n      if (this.data.length == 0) {\n        return [{ x: null, y: null }];\n      }\n      \n      const data = this.data.map(d => (\n        {\n          x: d[this.keys['x'] as keyof typeof d],\n          y: d[this.keys['y'] as keyof typeof d]\n        }));\n        \n      if (this.data[0].x instanceof Date) {\n        console.log(\"is a date\");\n        return data.map(d => ({ x: (d.x as Date).getTime(), y: d.y }));\n      } \n\n      return data;\n    },\n\n    computedLineData() {\n      if (this.line) {\n        if (this.lineData == null) {\n          return this.computedData;\n        }\n        \n        if (this.lineData.length > 0) {\n          return this.lineData.map(d => (\n            {\n              x: this.getKey(d, this.keys['x'], 'x'),\n              y: this.getKey(d, this.keys['y'], 'y'),\n            }));\n        } \n      }\n      return [{ x: null, y: null}];\n    },\n\n    computedYRange() {\n      if (this.yrange == null) {\n        const y = this.computedData.map(d => d.y as number);\n        return [Math.min(...y), Math.max(...y)];\n      } else {\n        return this.yrange;\n      }\n    },\n    \n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    chartData(): any {\n      // https://www.chartjs.org/docs/latest/configuration/elements.html#point-configuration\n      const scatterData = {\n        type: 'scatter',\n        label: 'Supernove Lightcurve',\n        data: this.computedData,\n        radius: 3, // Chart.js default\n        pointStyle: 'circle', // Chart.js default\n        backgroundColor: this.color,\n        borderColor: this.borderColor,\n        ...this.scatterOptions\n      };\n      const lineData = {\n        type: 'line',\n        label: 'Supernove Lightcurve',\n        data: this.computedLineData,\n        backgroundColor: 'transparent',\n        radius: 0,\n        borderColor: this.color,\n        ...this.lineOptions\n      };\n\n      let outData = [];\n\n\n      if (this.scatter) {\n        outData.push(scatterData);\n      }\n      \n      if (this.line) {\n        outData.push(lineData);\n      }\n      \n      if (outData.length == 0) {\n        outData = [scatterData, lineData];\n      }\n      \n      return { datasets: outData };\n\n    },\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    chartOptions(): any {\n      const options =  {\n        animation: this.animation,\n        responsive: true,\n        maintainAspectRatio: this.maintainAspectRatio,\n        scales: {\n          x: {\n            display: !this.hideXAxis,\n            type: 'linear' ,\n            min: this.xrange[0],\n            max: this.xrange[1],\n            reverse: this.reversedX,\n            width: 3,\n            ...this.axisOptions,\n            ...this.xAxisOptions,\n          },\n          // https://www.chartjs.org/docs/latest/axes/styling.html#tick-configuration\n          y: {\n            display: !this.hideYAxis,\n            type: 'linear',\n            reverse: this.reversedY,\n            min: this.computedYRange[0],\n            max: this.computedYRange[1],\n            width: 3,\n            ...this.axisOptions,\n            ...this.yAxisOptions,\n            \n          }\n        },\n\n        plugins: {\n          legend: {\n            display: false\n          }\n        }\n      };\n\n      \n      return options;\n    },\n\n    // get the x-pixel postion of the first data point\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    getBounds(): any {\n      if (this.chart == null) {\n        console.log('chart is null');\n        return;\n      }\n      const chart = this.chart as Chart;\n      if (this.computedData[0].x == null) {\n        console.log('data is null');\n      }\n      \n      const xmin = chart.scales.x.getPixelForValue(this.chartOptions.scales.x.min as number);\n      const xmax = chart.scales.x.getPixelForValue(this.chartOptions.scales.x.max as number);\n      const ymin = chart.scales.y.getPixelForValue(this.chartOptions.scales.y.min as number);\n      const ymax = chart.scales.y.getPixelForValue(this.chartOptions.scales.y.max as number);\n\n      \n      const bounds = {\n        xmin: xmin,\n        xmax: xmax,\n        ymin: ymin,\n        ymax: ymax,\n      };\n\n\n      // check for nan values\n      if (Object.values(bounds).some(v => isNaN(v))) {\n        console.log('bounds has nan values');\n        return;\n      }\n\n      const emitThis = {\n        'bounds': bounds,\n        'borders': this.getBorders,\n      };\n      this.$emit(\"bounds\", emitThis);\n      \n      return bounds;\n\n    },\n\n    getBorders() {\n\n      const chart = this.chart as Chart;\n      if (chart == null) { return; }\n\n      const boundary = chart.canvas.getBoundingClientRect();\n\n\n      const borders = {\n        left: Math.round(chart.chartArea.left),\n        right: Math.round(boundary.width - chart.chartArea.right),\n        top: Math.round(chart.chartArea.top),\n        bottom: Math.round(boundary.height - chart.chartArea.bottom),\n      };\n\n      return borders;\n    }\n    \n  },\n\n  // what data and update the chart as it changes\n  watch: {\n    data() {\n      this.draw();\n    },\n      \n  },\n  \n});\n\n</script>\n\n<style scoped lang=\"less\">\n\n.chartjs {\n  // pointer-events: auto;\n  width: 100%;\n}\n\n\n#plot {\n  position: relative;\n  width: 100%;\n  max-height: 20dvh;\n  height: 100%;\n}\n\n\n</style>\n","import { render } from \"./chartjs-scatter.vue?vue&type=template&id=786197ea&scoped=true&ts=true\"\nimport script from \"./chartjs-scatter.vue?vue&type=script&lang=ts\"\nexport * from \"./chartjs-scatter.vue?vue&type=script&lang=ts\"\n\nimport \"./chartjs-scatter.vue?vue&type=style&index=0&id=786197ea&scoped=true&lang=less\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-786197ea\"]])\n\nexport default __exports__","import { openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-62f7348f\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { id: \"plot\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1))\n}","<!-- Vue component for plotting a scatter plot of x,y data in d3 -->\n<template>\n  <div id=\"plot\">\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, PropType } from \"vue\";\nimport * as d3 from \"d3\";\n\nexport default defineComponent({\n  name: \"PlotDataD3\",\n\n  data() {\n    return {\n      margins: {top: 0, right: 0, bottom: 0, left: 0},\n    };\n  },  \n  \n  props: {\n    data: {\n      type: Array as PropType<{ x: Date | number; y: number }[]>,\n      required: false,\n      // fill in some default data\n      default: () => \n        [\n          { x: new Date(\"2020-01-01\"), y: 1 },\n          { x: new Date(\"2020-01-02\"), y: 2 },\n          { x: new Date(\"2020-01-03\"), y: 3 },\n          { x: new Date(\"2020-01-04\"), y: 4 },\n          { x: new Date(\"2020-01-05\"), y: 5 },\n          { x: new Date(\"2020-01-06\"), y: 6 },\n          { x: new Date(\"2020-01-07\"), y: 7 },\n          { x: new Date(\"2020-01-08\"), y: 8 },\n          { x: new Date(\"2020-01-09\"), y: 9 },\n          { x: new Date(\"2020-01-10\"), y: 10 }\n        ]\n      \n    },\n\n\n    lineData: {\n      type: Array as PropType<{ x: Date | number; y: number }[]>,\n      required: false,\n      default: () => [],\n    },\n\n    keys: {\n      type: Object as PropType<{ x: string; y: string }>,\n      required: false,\n      default: () => ({ x: \"x\", y: \"y\" }),\n    },\n\n    hideXAxis: {\n      type: Boolean,\n      required: false,\n      default: false,\n    },\n\n    hideYAxis: {\n      type: Boolean,\n      required: false,\n      default: false,\n    },\n\n    scatter: {\n      type: Boolean,\n      required: false,\n      default: false,\n    },\n\n    line: {\n      type: Boolean,\n      required: false,\n      default: false,\n    },\n\n    xrange: {\n      type: Array<number>,\n      required: false,\n      default: () => [],\n    },\n\n    yrange: {\n      // type is a tuple of length 2\n      type: Array<number>,\n      required: false,\n      default: () => [],\n    },\n\n    reversedX: {\n      type: Boolean,\n      required: false,\n      default: false,\n    },\n\n    reversedY: {\n      type: Boolean,\n      required: false,\n      default: false,\n    },\n\n    cssVars: {\n      type: Object,\n      required: false,\n      default: () => ({}),\n    },\n    \n    width: {\n      type: Number,\n      required: false,\n      default: 500,\n    },\n\n    height: {\n      type: Number,\n      required: false,\n      default: 500,\n    },\n\n    margin: {\n      type: Object as PropType<{ top: number; right: number; bottom: number; left: number }>,\n      required: false,\n      default: null,\n    }\n\n    \n    \n  },\n\n\n  \n  mounted() {\n\n    this.draw();\n    this.$emit(\"offset\", this.x0Pixel());\n    // create resize watcher\n    new ResizeObserver(() => {\n\n      if (this.$el.querySelector(\"svg\") != null) {\n        d3.select(\"#plot\").selectAll(\"svg\").remove();\n        this.draw();\n        this.$emit(\"offset\", this.x0Pixel());\n      }\n      \n    });\n\n    // add cssVars to #plot style\n    const plot = this.$el.querySelector(\"#plot\");\n    for (const [key, value] of Object.entries(this.cssVars)) {\n      plot.style.setProperty(key, value);\n    }\n    \n  },\n  \n  methods: {\n\n    xScale(range: Array<number | Date>, width: number): d3.ScaleTime<number, number> | d3.ScaleLinear<number, number> {\n      if (this.computedData[0].x instanceof Date || range[0] instanceof Date) {\n        return d3\n          .scaleTime()\n          .domain(range)\n          .range(this.reversedX ? [width, 0] : [0, width]);\n      } else {\n        return d3\n          .scaleLinear()\n          .domain(range)\n          .range(this.reversedX ? [width, 0] : [0, width]);\n      }\n    },\n\n    yScale(range: Array<number>, height: number): d3.ScaleLinear<number, number> {\n      return d3\n        .scaleLinear()\n        .domain(range) \n        .range(this.reversedY ? [0, height] : [height, 0]);\n    },\n\n    x0Pixel(): number {\n      // get the x pixel value of the origin\n      const width = this.width - this.margins.left - this.margins.right;\n      const x = this.xScale(this.computedXrange, width);\n      const zero = this.computedXrange[0];\n      return x(zero);\n\n\n      \n    },\n    \n    draw() {\n\n      if (this.margin == null) {\n        this.margins = { top: 20, right: 20, bottom: 30, left: 40 };\n      } else {\n        this.margins = this.margin;\n      }\n      \n      const width = this.width - this.margins.left - this.margins.right;\n      const height = this.height - this.margins.top - this.margins.bottom;\n\n      \n      const data = this.computedData;\n      const x = this.xScale(this.computedXrange, width);\n      const y = this.yScale(this.computedYrange, height);\n\n      const xAxis = d3.axisBottom(x);\n      const yAxis = d3.axisLeft(y);\n\n      const svg = d3\n        .select(\"#plot\")\n        .append(\"svg\")\n        .attr(\"viewBox\", `0 0 ${this.width} ${this.height}`)\n        .append(\"g\")\n        .attr(\"transform\", `translate(${this.margins.left}, ${this.margins.top})`);\n\n      if (!this.hideXAxis) {\n        svg\n          .append(\"g\")\n          .attr(\"class\", \"x-axis\")\n          .attr(\"transform\", `translate(0,${height})`)\n          .call(xAxis);\n      }\n\n      if (!this.hideYAxis) {\n        svg\n          .append(\"g\")\n          .attr(\"class\", \"y-axis\")\n          .call(yAxis);\n      }\n\n      // if (this.data.length == 0) {\n      //   return;\n      // }\n      \n      if (this.scatter && this.data.length > 0) {\n        svg.append(\"g\")\n          .selectAll(\".dot\")\n          .data(data.map(d => [d.x, d.y]))\n          .enter()\n          .append(\"circle\")\n          .attr(\"class\", \"dot\")\n          .attr(\"r\", 3.5)\n          .attr(\"cx\", (d) => x(d[0]))\n          .attr(\"cy\", (d) => y(d[1]))\n          .style(\"fill\", \"steelblue\");\n      }\n\n      if (this.line && this.lineData.length > 0) {\n        const line = d3.line()\n          .x((d) => x(d[0]))\n          .y((d) => y(d[1]));\n\n        svg.append(\"path\")\n          .datum(this.computedLineData.map(d => [d.x, d.y]))\n          .attr(\"class\", \"line\")\n          //eslint-disable-next-line @typescript-eslint/no-explicit-any\n          .attr(\"d\", line as any)\n          .style(\"stroke\", \"steelblue\")\n          .style(\"fill\", \"none\");\n      }\n      \n    },\n\n    getKey(obj: { [key: string]: unknown}  , key: string, defaultKey: string | null = null): unknown {\n      // check if obj has key\n      if (key in obj) {\n        return obj[key as keyof typeof obj];\n      } else if (defaultKey != null && defaultKey in obj) {\n        return obj[defaultKey as keyof typeof obj];\n      }\n    },\n    \n  },\n\n  computed: {\n    \n\n\n    computedData(): Array<{ x: Date | number; y: number }> {\n\n      if (this.data.length == 0) {\n        return [{x: null as unknown as number, y: null as unknown as number}];\n      }\n      \n      const data = this.data.map(d => (\n        {\n          x: this.getKey(d, this.keys['x'], 'x') as Date | number,\n          y: this.getKey(d, this.keys['y'], 'y') as number,\n        }));\n\n      return data;\n    },\n\n    computedLineData(): Array<{ x: Date | number; y: number }>  {\n      if (this.line) {\n        if (this.lineData.length == 0) {\n          return this.computedData;\n        } else {\n          return this.lineData.map(d => (\n            {\n              x: this.getKey(d, this.keys['x'], 'x') as Date | number,\n              y: this.getKey(d, this.keys['y'], 'y') as number,\n            }));\n        }\n      }\n      return [{ x: 0, y: 0 }];\n    },\n\n    // should output an array of length 2 with generic type\n    computedXrange(): Array<number | Date> {\n      if (this.xrange.length > 0) {\n        return this.xrange as Array<number | Date>;\n      } else {\n        return d3.extent(this.computedData.map(d => d.x)) as Array<number | Date>;\n      }\n    },\n\n    computedYrange(): [number, number] {\n      if (this.yrange.length > 0) {\n        return this.yrange as [number, number];\n      } else {\n        return d3.extent(this.computedData.map(d => d.y as number)) as [number, number];\n      }\n    },\n\n    \n  },\n\n  watch: {\n    data() {\n\n      if (this.$el.querySelector(\"svg\") != null) {\n        d3.select(\"#plot\").selectAll(\"svg\").remove();\n      }\n      this.draw();\n    },\n  },\n  \n});\n</script>\n\n\n<style lang=\"less\">\ncircle.dot {\n  fill: steelblue;\n  stroke: white;\n  stroke-width: 2px;\n}\n\ncircle.dot:hover {\n  fill: red;\n}\n\n</style>\n\n<style scoped lang=\"less\">\n\n#plot {\n  width: 100%;\n  height: 100%;\n  justify-content: center;\n  align-items: center;\n  border: 1px solid blue;\n  pointer-events: auto;\n  \n}\n\n\n\n\n\n\n</style>\n","import { render } from \"./d3-scatter.vue?vue&type=template&id=62f7348f&scoped=true&ts=true\"\nimport script from \"./d3-scatter.vue?vue&type=script&lang=ts\"\nexport * from \"./d3-scatter.vue?vue&type=script&lang=ts\"\n\nimport \"./d3-scatter.vue?vue&type=style&index=0&id=62f7348f&lang=less\"\nimport \"./d3-scatter.vue?vue&type=style&index=1&id=62f7348f&scoped=true&lang=less\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-62f7348f\"]])\n\nexport default __exports__","import { normalizeClass as _normalizeClass, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = {\n  version: \"1.1\",\n  baseProfile: \"tiny\",\n  class: \"dipper_svg_icon\",\n  xmlns: \"http://www.w3.org/2000/svg\",\n  \"xmlns:xlink\": \"http://www.w3.org/1999/xlink\",\n  x: \"0px\",\n  y: \"0px\",\n  viewBox: \"0 0 189 189\",\n  overflow: \"visible\",\n  \"xml:space\": \"preserve\"\n}\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"svg\", _hoisted_1, [\n    _createElementVNode(\"path\", {\n      class: _normalizeClass([\"circle\", _ctx.fill ? \"filled\" : \"\", _ctx.selected ? \"selected\" : \"\"]),\n      d: \"M17.9,35.9L17.9,35.9\\n\\tC9.3,35.2,3.1,27.4,4.1,18.7l0,0c0.5-4.2,2.6-8.1,5.8-10.9s7.4-4.1,11.6-3.7l0,0c8.6,0.7,14.8,8.5,13.8,17.2l0,0\\n\\tC34.3,30.1,26.5,36.6,17.9,35.9z\"\n    }, null, 2),\n    _createElementVNode(\"path\", {\n      class: _normalizeClass([\"circle\", _ctx.fill ? \"filled\" : \"\", _ctx.selected ? \"selected\" : \"\"]),\n      d: \"M154.3,132.7L154.3,132.7\\n\\tc-1.5-8.8,4.1-17.1,12.6-18.7l0,0c4.1-0.7,8.2,0.2,11.6,2.7c3.4,2.4,5.7,6.2,6.4,10.4l0,0c1.5,8.8-4.1,17.1-12.6,18.7l0,0\\n\\tC163.8,147.3,155.8,141.4,154.3,132.7z\"\n    }, null, 2),\n    _createElementVNode(\"path\", {\n      class: _normalizeClass([\"circle\", _ctx.fill ? \"filled\" : \"\", _ctx.selected ? \"selected\" : \"\"]),\n      d: \"M58.1,128.9L58.1,128.9\\n\\tc2-8.7,10.4-14,18.8-11.9l0,0c4,1,7.5,3.6,9.6,7.3c2.1,3.7,2.8,8,1.8,12.2l0,0c-2,8.7-10.4,14-18.8,11.9l0,0\\n\\tC61.2,146.3,56.1,137.6,58.1,128.9z\"\n    }, null, 2),\n    _createElementVNode(\"path\", {\n      class: _normalizeClass([\"circle\", _ctx.fill ? \"filled\" : \"\", _ctx.selected ? \"selected\" : \"\"]),\n      d: \"M114.1,169.3L114.1,169.3\\n\\tc0-8.9,7-16.1,15.5-16.1l0,0c4.1,0,8.1,1.7,11,4.7s4.5,7.1,4.5,11.4l0,0c0,8.9-7,16.1-15.5,16.1l0,0\\n\\tC121.1,185.5,114.1,178.2,114.1,169.3z\"\n    }, null, 2),\n    _createElementVNode(\"path\", {\n      class: _normalizeClass([\"circle\", _ctx.fill ? \"filled\" : \"\", _ctx.selected ? \"selected\" : \"\"]),\n      d: \"M78.2,75L78.2,75\\n\\tc3-8.3,12-12.5,20-9.3l0,0c3.8,1.5,7,4.6,8.6,8.5c1.7,3.9,1.8,8.3,0.4,12.3l0,0c-3,8.3-12,12.5-20,9.3l0,0\\n\\tC79.1,92.7,75.1,83.3,78.2,75z\"\n    }, null, 2),\n    _createElementVNode(\"path\", {\n      class: _normalizeClass([\"circle\", _ctx.fill ? \"filled\" : \"\", _ctx.selected ? \"selected\" : \"\"]),\n      d: \"M54.4,39.1L54.4,39.1\\n\\tc0-8.9,7-16.1,15.5-16.1l0,0c4.1,0,8.1,1.7,11,4.7s4.5,7.1,4.5,11.4l0,0c0,8.9-7,16.1-15.5,16.1l0,0C61.4,55.2,54.4,48,54.4,39.1z\"\n    }, null, 2),\n    _createElementVNode(\"path\", {\n      class: _normalizeClass([\"line\", _ctx.selected ? \"selected\" : \"\"]),\n      d: \"M35.3,21.3L59,27.7\"\n    }, null, 2),\n    _createElementVNode(\"path\", {\n      class: _normalizeClass([\"line\", _ctx.selected ? \"selected\" : \"\"]),\n      d: \"M81,50.5L86.3,66\"\n    }, null, 2),\n    _createElementVNode(\"path\", {\n      class: _normalizeClass([\"line\", _ctx.selected ? \"selected\" : \"\"]),\n      d: \"M87.2,95.8l-10.3,21.2\"\n    }, null, 2),\n    _createElementVNode(\"path\", {\n      class: _normalizeClass([\"line\", _ctx.selected ? \"selected\" : \"\"]),\n      d: \"M88.3,136.5l30.4,21.4\"\n    }, null, 2),\n    _createElementVNode(\"path\", {\n      class: _normalizeClass([\"line\", _ctx.selected ? \"selected\" : \"\"]),\n      d: \"M140.7,157.9l20-14.9\"\n    }, null, 2),\n    _createElementVNode(\"path\", {\n      class: _normalizeClass([\"line\", _ctx.selected ? \"selected\" : \"\"]),\n      d: \"M156.8,120.7l-49.6-34.2\"\n    }, null, 2)\n  ]))\n}","<!-- create a template for an SVG ICON -->\n<template>\n<!-- Generator: Adobe Illustrator 27.5.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->\n<svg version=\"1.1\" baseProfile=\"tiny\" class=\"dipper_svg_icon\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n  x=\"0px\" y=\"0px\" viewBox=\"0 0 189 189\" overflow=\"visible\" xml:space=\"preserve\" >\n<path\n  :class='[\"circle\", fill ? \"filled\" : \"\", selected ? \"selected\" : \"\"]'\n  d=\"M17.9,35.9L17.9,35.9\n\tC9.3,35.2,3.1,27.4,4.1,18.7l0,0c0.5-4.2,2.6-8.1,5.8-10.9s7.4-4.1,11.6-3.7l0,0c8.6,0.7,14.8,8.5,13.8,17.2l0,0\n\tC34.3,30.1,26.5,36.6,17.9,35.9z\"/>\n<path\n  :class='[\"circle\", fill ? \"filled\" : \"\", selected ? \"selected\" : \"\"]'\n  d=\"M154.3,132.7L154.3,132.7\n\tc-1.5-8.8,4.1-17.1,12.6-18.7l0,0c4.1-0.7,8.2,0.2,11.6,2.7c3.4,2.4,5.7,6.2,6.4,10.4l0,0c1.5,8.8-4.1,17.1-12.6,18.7l0,0\n\tC163.8,147.3,155.8,141.4,154.3,132.7z\"/>\n<path \n  :class='[\"circle\", fill ? \"filled\" : \"\", selected ? \"selected\" : \"\"]'\n  d=\"M58.1,128.9L58.1,128.9\n\tc2-8.7,10.4-14,18.8-11.9l0,0c4,1,7.5,3.6,9.6,7.3c2.1,3.7,2.8,8,1.8,12.2l0,0c-2,8.7-10.4,14-18.8,11.9l0,0\n\tC61.2,146.3,56.1,137.6,58.1,128.9z\"/>\n<path \n  :class='[\"circle\", fill ? \"filled\" : \"\", selected ? \"selected\" : \"\"]'\n  d=\"M114.1,169.3L114.1,169.3\n\tc0-8.9,7-16.1,15.5-16.1l0,0c4.1,0,8.1,1.7,11,4.7s4.5,7.1,4.5,11.4l0,0c0,8.9-7,16.1-15.5,16.1l0,0\n\tC121.1,185.5,114.1,178.2,114.1,169.3z\"/>\n<path \n  :class='[\"circle\", fill ? \"filled\" : \"\", selected ? \"selected\" : \"\"]'\n  d=\"M78.2,75L78.2,75\n\tc3-8.3,12-12.5,20-9.3l0,0c3.8,1.5,7,4.6,8.6,8.5c1.7,3.9,1.8,8.3,0.4,12.3l0,0c-3,8.3-12,12.5-20,9.3l0,0\n\tC79.1,92.7,75.1,83.3,78.2,75z\"/>\n<path \n  :class='[\"circle\", fill ? \"filled\" : \"\", selected ? \"selected\" : \"\"]'\n  d=\"M54.4,39.1L54.4,39.1\n\tc0-8.9,7-16.1,15.5-16.1l0,0c4.1,0,8.1,1.7,11,4.7s4.5,7.1,4.5,11.4l0,0c0,8.9-7,16.1-15.5,16.1l0,0C61.4,55.2,54.4,48,54.4,39.1z\"\n\t/>\n<path :class='[\"line\", selected ? \"selected\" : \"\"]' d=\"M35.3,21.3L59,27.7\"/>\n<path :class='[\"line\", selected ? \"selected\" : \"\"]' d=\"M81,50.5L86.3,66\"/>\n<path :class='[\"line\", selected ? \"selected\" : \"\"]' d=\"M87.2,95.8l-10.3,21.2\"/>\n<path :class='[\"line\", selected ? \"selected\" : \"\"]' d=\"M88.3,136.5l30.4,21.4\"/>\n<path :class='[\"line\", selected ? \"selected\" : \"\"]' d=\"M140.7,157.9l20-14.9\"/>\n<path :class='[\"line\", selected ? \"selected\" : \"\"]' d=\"M156.8,120.7l-49.6-34.2\"/>\n\n</svg>\n\n  \n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from \"vue\";\n\nexport default defineComponent({\n  name: \"ConstellationIcon\",\n\n  data() {\n    return {\n    };\n  },\n\n  props: {\n    width: {\n      type: String,\n      required: false,\n      default: \"100%\",\n    },\n    height: {\n      type: String,\n      required: false,\n      default: \"100%\",\n    },\n\n    color: {\n      type: String,\n      required: false,\n      default: \"white\",\n    },\n\n    fill: {\n      type: Boolean,\n      required: false,\n      default: false,\n    },\n    \n    fillColor: {\n      type: String,\n      required: false,\n      default: null,\n    },\n\n    selected: {\n      type: Boolean,\n      required: false,\n      default: false,\n    },\n\n    selectedStyle: {\n      type: String,\n      required: false,\n      default: \"\",\n    }\n  },\n\n\n  watch: {\n    active: function (val) {\n      console.log(\"active changed to: \" + val);\n    },\n  },\n\n  computed: {\n    computedFillColor() {\n      return this.fillColor ? this.fillColor : this.color;\n    }\n  }\n  \n});\n\n</script>\n\n<style style lang=\"less\">\n.dipper_svg_icon {\n  width: v-bind(width);\n  \n  \n.circle {\n  fill-rule:\"evenodd\";\n  stroke-width: 7px ;\n  stroke-miterlimit:10;\n  stroke: v-bind(color);\n  fill: none;\n}\n\n.line {\n  stroke: v-bind(color);\n  stroke-width: 7;\n  stroke-miterlimit: 10;\n}\n\n.filled {\n  fill: v-bind(computedFillColor);\n}\n}\n\n\n</style>","\nimport { defineComponent } from \"vue\";\n\nconst __default__ = defineComponent({\n  name: \"ConstellationIcon\",\n\n  data() {\n    return {\n    };\n  },\n\n  props: {\n    width: {\n      type: String,\n      required: false,\n      default: \"100%\",\n    },\n    height: {\n      type: String,\n      required: false,\n      default: \"100%\",\n    },\n\n    color: {\n      type: String,\n      required: false,\n      default: \"white\",\n    },\n\n    fill: {\n      type: Boolean,\n      required: false,\n      default: false,\n    },\n    \n    fillColor: {\n      type: String,\n      required: false,\n      default: null,\n    },\n\n    selected: {\n      type: Boolean,\n      required: false,\n      default: false,\n    },\n\n    selectedStyle: {\n      type: String,\n      required: false,\n      default: \"\",\n    }\n  },\n\n\n  watch: {\n    active: function (val) {\n      console.log(\"active changed to: \" + val);\n    },\n  },\n\n  computed: {\n    computedFillColor() {\n      return this.fillColor ? this.fillColor : this.color;\n    }\n  }\n  \n});\n\n\nimport { useCssVars as _useCssVars } from 'vue'\nconst __injectCSSVars__ = () => {\n_useCssVars(_ctx => ({\n  \"611f22ea\": (_ctx.width),\n  \"634d1fb0\": (_ctx.color),\n  \"eb8e7750\": (_ctx.computedFillColor)\n}))}\nconst __setup__ = __default__.setup\n__default__.setup = __setup__\n  ? (props, ctx) => { __injectCSSVars__();return __setup__(props, ctx) }\n  : __injectCSSVars__\n\nexport default __default__","import { render } from \"./ConstellationIcon.vue?vue&type=template&id=45958a32&ts=true\"\nimport script from \"./ConstellationIcon.vue?vue&type=script&lang=ts\"\nexport * from \"./ConstellationIcon.vue?vue&type=script&lang=ts\"\n\nimport \"./ConstellationIcon.vue?vue&type=style&index=0&id=45958a32&style=true&lang=less\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { aliases, mdi } from 'vuetify/iconsets/mdi';\nimport { createVuetify } from 'vuetify';\n\n// For test use. Do not include createVuetify()\n// see https://next.vuetifyjs.com/en/features/treeshaking/\n//import * as components from 'vuetify/components';\n//import * as directives from 'vuetify/directives';\n\n// Translations provided by Vuetify\nimport { en } from 'vuetify/locale';\n\n// Styles\nimport 'vuetify/styles';\nimport '@mdi/font/css/materialdesignicons.css';\n\nexport default createVuetify({\n  // Icon Fonts\n  icons: {\n    defaultSet: 'mdi',\n    aliases,\n    sets: {\n      mdi,\n    },\n  },\n  locale: {\n    locale: 'en',\n    fallback: 'en',\n    messages: { en },\n  },\n  theme: {\n    defaultTheme: 'dark',\n  },\n});\n\n// Export for test.\n//export { components, directives };\n","export const faConstellation = {\n  prefix: 'fas',\n  iconName: 'constellation',\n  icon: [\n    190,\n    190,\n    [],\n    null,\n    `M188.4,126.5c-0.9-5.2-3.7-9.8-7.8-12.6c-4.1-3-9.2-4.2-14.3-3.3c-4,0.7-7.4,2.7-10.1,5.5l-44.9-31\n\t\tc0.9-4.1,0.5-8.4-1.2-12.2c-1.9-4.7-5.8-8.5-10.5-10.4c-3.6-1.4-7.4-1.7-11-0.8l-3.6-10.5c2.5-3.3,4-7.5,4-12\n\t\tc0-5.3-1.9-10.2-5.5-13.8c-3.5-3.7-8.5-5.8-13.5-5.8c-4.5,0-8.6,1.6-11.9,4.3l-19.1-5.2c-0.2-4.1-1.7-8.1-4.3-11.3\n\t\tC31.4,3.4,26.8,1,21.8,0.6C16.7,0.1,11.5,1.8,7.6,5.2c-3.9,3.4-6.4,8.1-7,13.1C0,23.5,1.5,28.6,4.8,32.7c3.2,3.9,7.8,6.3,12.8,6.7\n\t\tc9.1,0.7,17.5-5.2,20.3-13.8l15.3,4.1c-1.5,2.8-2.3,6-2.3,9.3c0,10.8,8.5,19.6,19,19.6c3.4,0,6.6-0.9,9.3-2.5l2.8,8.3\n\t\tc-3.3,2.2-5.8,5.5-7.2,9.3c-3.3,8.9,0.1,18.8,7.6,23.6l-7.7,15.8c-4-0.4-8,0.6-11.4,2.7c-4.5,2.7-7.6,7.1-8.8,12.3\n\t\tc-2.4,10.5,3.8,21.1,14,23.7c4.9,1.2,10,0.4,14.3-2.2c3-1.9,5.5-4.5,7.1-7.6l23.7,16.7c-1.9,3.1-3.1,6.7-3.1,10.7\n\t\tc0,5.3,2.1,10.5,5.9,14.2c3.5,3.5,8.1,5.4,12.9,5.4c0.1,0,0.1,0,0.2,0c10.5,0,19-8.8,19-19.6c0-3.9-1.1-7.5-3-10.7l15.2-11.3\n\t\tc3.7,2,7.9,2.7,12.1,2C183.2,147.3,190.2,137.1,188.4,126.5z M140.8,153.4c-3.2-2.4-7.2-3.7-11.2-3.7c-4.2,0-8,1.4-11.2,3.7\n\t\tl-26.3-18.5c0.5-4.2-0.4-8.5-2.6-12.3c-1.8-3.2-4.6-5.8-7.8-7.5l7.3-15.1c3.8,0.8,7.7,0.4,11.3-1.3c3.4-1.5,6.2-4,8.2-7.1\n\t\tl43.7,30.2c-1.5,3.5-2.1,7.4-1.4,11.5l0,0c0.6,3.6,2.1,6.8,4.4,9.4L140.8,153.4z`\n  ]\n};","import Vue, { createApp } from \"vue\";\n\nimport M101SN from \"./M101SN.vue\";\nimport FolderView from \"./FolderView.vue\";\nimport Credits from \"./Credits.vue\";\nimport Toggle from \"./Toggle.vue\";\nimport TransitionExpand from \"./TransitionExpand.vue\";\nimport chartjsScatter from \"./chartjs-scatter.vue\";\nimport d3Scatter from \"./d3-scatter.vue\";\n// import PlotDataPlotly from \"./PlotDataPlotly.vue\";\nimport ConstellationIcon from \"./ConstellationIcon.vue\";\nimport { FundingAcknowledgment, Gallery, IconButton } from \"@cosmicds/vue-toolkit\";\n\nimport \"./polyfills\";\n\nimport VueSlider from \"vue-slider-component\";\nimport 'vue-slider-component/theme/default.css';\n\nimport Datepicker from '@vuepic/vue-datepicker';\nimport '@vuepic/vue-datepicker/dist/main.css';\n\nimport vuetify from \"../plugins/vuetify\";\n\nimport { library } from '@fortawesome/fontawesome-svg-core';\nimport {\n  faCircle,\n  faSquare,\n  faBookOpen,\n  faChevronDown,\n  faChevronUp,\n  faGear,\n  faLocationPin,\n  faClock,\n  faPause,\n  faPlay,\n  faTimes,\n  faVideo,\n  faCameraRetro,\n  faImages,\n  faRefresh,\n  faStar,\n  faChartLine,\n  faCircleXmark,\n  faArrowRight\n} from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon, FontAwesomeLayers } from '@fortawesome/vue-fontawesome';\n\nlibrary.add(faCircle);\nlibrary.add(faSquare);\nlibrary.add(faBookOpen);\nlibrary.add(faLocationPin);\nlibrary.add(faClock);\nlibrary.add(faTimes);\nlibrary.add(faVideo);\nlibrary.add(faChevronDown);\nlibrary.add(faChevronUp);\nlibrary.add(faCameraRetro);\nlibrary.add(faImages);\nlibrary.add(faGear);\nlibrary.add(faPause);\nlibrary.add(faPlay);\nlibrary.add(faRefresh);\nlibrary.add(faStar);\nlibrary.add(faChartLine);\nlibrary.add(faCircleXmark);\nlibrary.add(faArrowRight);\n\n\nimport { IconDefinition } from \"@fortawesome/fontawesome-common-types\";\nimport { faConstellation } from \"./assets/constellation_icon\";\nlibrary.add(faConstellation as IconDefinition);\n\nimport { WWTComponent, wwtPinia } from \"@wwtelescope/engine-pinia\";\n\nimport Notifications from '@kyvg/vue3-notification';\n\nimport \"leaflet/dist/leaflet.css\";\n\n/** v-hide directive taken from https://www.ryansouthgate.com/2020/01/30/vue-js-v-hide-element-whilst-keeping-occupied-space/ */\n// Extract the function out, up here, so I'm not writing it twice\nconst update = (el: HTMLElement, binding: Vue.DirectiveBinding) => el.style.visibility = (binding.value) ? \"hidden\" : \"\";\n\ncreateApp(M101SN, {\n  wwtNamespace: \"pinwheel-supernova\",\n  wtml: { // images are listed in chronological order earliest to latest\n    imageCollection: \"https://raw.githubusercontent.com/johnarban/wwt_interactives/main/images/m101/m101_all.wtml\",\n  },\n  url: \"https://projects.cosmicds.cfa.harvard.edu/pinwheel-supernova/\",\n  thumbnailUrl: \"https://upload.wikimedia.org/wikipedia/commons/thumb/c/c5/M101_hires_STScI-PRC2006-10a.jpg/307px-M101_hires_STScI-PRC2006-10a.jpg\",\n  bgWtml: \"\",\n  bgName: \"\"\n})\n\n  // Plugins\n  .use(wwtPinia)\n  .use(vuetify)\n  .use(Notifications)\n\n  // Directives\n  .directive(\n    /**\n    * Hides an HTML element, keeping the space it would have used if it were visible (css: Visibility)\n    */\n    \"hide\", {\n      // Run on initialisation (first render) of the directive on the element\n      beforeMount(el, binding, _vnode, _prevVnode) {\n        update(el, binding);\n      },\n      // Run on subsequent updates to the value supplied to the directive\n      updated(el, binding, _vnode, _prevVnode) {\n        update(el, binding);\n      }\n    })\n\n  // Components\n  .component(\"WorldWideTelescope\", WWTComponent)\n  .component('font-awesome-icon', FontAwesomeIcon)\n  .component('font-awesome-layers', FontAwesomeLayers)\n  .component('folder-view', FolderView)\n  .component('story-credits', Credits)\n  .component('vue-slider', VueSlider)\n  .component('transition-expand', TransitionExpand)\n  .component('date-picker', Datepicker)\n  .component('toggle', Toggle)\n  .component('chartjs-scatter', chartjsScatter)\n  .component('d3-scatter', d3Scatter)\n  // .component('plot-plotly', PlotDataPlotly)\n  .component('constellation-icon', ConstellationIcon)\n  .component('gallery', Gallery)\n  .component('icon-button', IconButton)\n  .component('funding-acknowledgment', FundingAcknowledgment)\n\n  // Mount\n  .mount(\"#app\");\n","// Polyfill for Array.at\nconst typedArray = Reflect.getPrototypeOf(Int8Array);\nfor (const c of [Array, String, typedArray]) {\n  // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n  // @ts-ignore\n  Object.defineProperty(c.prototype, \"at\",\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    { value: function at(n: any) {\n      // ToInteger() abstract op\n      n = Math.trunc(n) || 0;\n      // Allow negative indexing from the end\n      if (n < 0) n += this.length;\n      // OOB access is guaranteed to return undefined\n      if (n < 0 || n >= this.length) return undefined;\n      // Otherwise, this is just normal property access\n      return this[n];\n    },\n    writable: true,\n    enumerable: false,\n    configurable: true });\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunk_cosmicds_pinwheel_supernova\"] = self[\"webpackChunk_cosmicds_pinwheel_supernova\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], () => (__webpack_require__(5397)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["_hoisted_1","id","_hoisted_2","_hoisted_3","class","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","href","target","rel","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","height","src","title","frameborder","allow","allowfullscreen","_hoisted_30","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","_hoisted_35","_hoisted_36","_hoisted_37","_hoisted_38","_hoisted_39","_hoisted_40","_hoisted_41","_hoisted_42","_hoisted_43","_hoisted_44","_hoisted_45","_hoisted_46","_hoisted_47","_hoisted_48","_hoisted_49","_hoisted_50","_hoisted_51","_hoisted_52","_hoisted_53","_hoisted_54","_hoisted_55","_hoisted_56","_hoisted_57","_hoisted_58","_hoisted_59","_hoisted_60","_hoisted_61","_hoisted_62","_hoisted_63","_hoisted_64","_hoisted_65","_hoisted_66","_hoisted_67","_hoisted_68","_hoisted_69","_hoisted_70","_hoisted_71","_hoisted_72","_hoisted_73","_hoisted_74","_hoisted_75","_hoisted_76","_hoisted_77","_hoisted_78","style","_hoisted_79","_hoisted_80","_hoisted_81","_hoisted_82","_hoisted_83","_hoisted_84","_hoisted_85","_hoisted_86","_hoisted_87","_hoisted_88","render","_ctx","_cache","$props","$setup","$data","$options","_component_WorldWideTelescope","_component_font_awesome_icon","_component_story_credits","_component_icon_button","_component_gallery","_component_chartjs_scatter","_component_vue_slider","_component_funding_acknowledgment","_component_notifications","cssVars","wwtNamespace","lastClosePt","onPointerMove","onPointerUp","onPointerDown","showSplashScreen","absolute","opacity","closeSplashScreen","icon","name","isLoading","showTextSheet","color","accentColor","showVideoSheet","centerView","showConstellations","showArrow","width","onItemSelected","onItemDeselected","chartVisible","flat","size","reversedY","scatter","line","animation","data","lightCurveData","filter","d","time","getTime","selectedTime","lineData","keys","x","y","xrange","Math","min","dates","map","max","yrange","accentColor2","borderColor","scatterOptions","lineOptions","yAxisOptions","display","text","border","ticks","xAxisOptions","val","chartBounds","onResize","playing","playingImagePath","button","adsorb","included","duration","marks","allDates","imageDates","order","onTimeSliderChange","tooltip","v","toDateString","mark","pos","value","includes","smallSize","interval","tooltipPlacement","currentOpacity","currentLayer","set_opacity","transition","fullscreen","tabindex","showLocationSelector","getLocation","locationErrorMessage","persistent","scrim","location","tab","dense","grow","revealAnswer","align","cols","label","outlined","touchscreen","group","position","drawSkyOverlays","Settings","get_active","get_showConstellationLabels","Constellations","drawConstellationNames","this","renderContext","Colors","get_yellow","get_showConstellationFigures","WWTControl","constellationsFigures","create","URLHelpers","singleton","engineAssetUrl","draw","get_showAltAzGrid","altAzColor","Color","fromArgb","Grids","drawAltAzGrid","get_showAltAzGridText","drawAltAzGridText","initializeConstellationNames","constellationCentroids","textSize","_namesBatch","Text3dBatch","Object","forEach","key","centroid","center","Coordinates","raDecTo3dAu","get_RA","get_dec","up","Vector3d","get_name","replace","add","Text3d","makeAltAzGridText","_altAzTextBatch","glyphHeight","sign","SpaceTimeController","get_location","get_lat","alt","directions","drawSpreadSheetLayer","device","version","lastVersion","cleanUp","bufferIsFlat","dirty","prepVertexBuffer","jNow","get_jNow","utcToJulian","baseDate","adjustedScale","scaleFactor","astronomical","_markerScale$1","viewCamera","zoom","triangleList2d","decay","sky","get_astronomical","timeSeries","get_opacity","triangleList","pointList","depthBuffered","showFarSide","get_showFarSide","scale","_plotType$1","drawTextured","SpreadSheetLayer","get__circleTexture$1","texture2d","PushPin","getPushPinTexture","_markerIndex$1","lineList","drawLines","lineList2d","layerManagerDraw","referenceFrame","nested","cosmos","LayerManager","get_allMaps","thisMap","enabled","layers","length","frame","showAsPoint","showOrbitPath","matOld","get_world","matOldNonRotating","get_worldBaseNonRotating","oldNominalRadius","get_nominalRadius","reference","computeFrame","referenceFrameType","set_world","Matrix3d","multiplyMatrix","worldMatrix","set_nominalRadius","meanRadius","layer","layerStart","get_startTime","layerEnd","get_endTime","fadeIn","get_fadeType","get_fadeSpan","fadeOut","fadeOpacity","set_astronomical","set_worldBaseNonRotating","transformWorldPointToPickSpace","wwtControl","worldPoint","backBufferWidth","backBufferHeight","m","get_view","p","Vector2d","vz","get_m13","get_m23","z","get_m33","vx","get_m11","get_m21","get_m31","vy","get_m12","get_m22","get_m32","get_projection","getScreenPosForCoordinates","ra","dec","pt","cartesian","sphericalSkyToCartesian","result","m101DataList","aavsoLightCurve","D2R","PI","R2D","D2H","SECONDS_PER_DAY","MILLISECONDS_PER_DAY","parseCsvTable","csv","index","thisDate","Date","date","Ra","Dec","objectName","bandpass","Bandpass","wtmlName","magnitude","dateString","toUTCString","slice","getUTCHours","getUTCMinutes","toString","padStart","_filename","pngFilename","_index","fullDatesTable","imageDatesTable","aavsoLightCurveTable","timestamp","r","Set","minDate","maxDate","t","push","closest","reduce","a","b","abs","splice","indexOf","sort","extends","MiniDSBase","props","wtml","type","required","String","url","thumbnailUrl","bgWtml","bgName","now","imagesetLayers","layersLoaded","positionSet","imagesetFolder","backgroundImagesets","places","playingIntervalId","playingWaitCount","playCount","showAltAzGrid","showHorizon","outerArrow","innerArrow","m101RADeg","m101DecDeg","arrowAngleDeg","arrowCreated","showSpeadSheetLater","currentCometImageLayer","currentAllLayer","interpolatedDailyTable","imageNames","fromEntries","imageSortBy","imageDateRef","imageDateRefInv","imageDateSorted","accentColor3","aavsoLightCurveData","incomingItemSelect","initialPosition","sheet","showMapTooltip","showTextTooltip","showVideoTooltip","showPlayPauseTooltip","showResetTooltip","showConstellationTooltip","circle","selectionProximity","pointerMoveThreshold","isPointerMoving","pointerStartPosition","timeOfDay","hours","getHours","minutes","getMinutes","seconds","getSeconds","setUTCHours","selectedTimezone","latitudeRad","longitudeRad","mounted","$nextTick","window","addEventListener","waitForReady","then","prototype","loadImageCollection","imageCollection","loadChildFolders","children","get_children","layerPromises","item","Place","imageset","get_backgroundImageset","get_studyImageset","addImageSetLayer","get_url","mode","goto","skyBackgroundImagesets","setClockSync","setTime","dateTime","Promise","all","resetImagesetLayerOrder","splashScreenListener","_event","removeEventListener","event","setBackgroundImageByName","wwtSettings","set_localHorizonMode","set_showAltAzGrid","set_showAltAzGridText","set_showConstellationLabels","set_showConstellationFigures","_drawSkyOverlays","_makeAltAzGridText","_draw","updateWWTLocation","setTimeout","createArrowFunction","createArrow","displayArrow","err","computed","selectedDate","todMs","dayFrac","selectedTimezoneOffset","getTimezoneOffset","ready","$vuetify","smAndDown","mobile","wwtRenderContext","dateForTOD","timezoneOffsetHours","getUTCSeconds","dontSetTime","get","set","_value","selectSheet","video","document","querySelector","pause","methods","getCssVal","element","property","getComputedStyle","getPropertyValue","parseFloat","toolsDiv","getElementById","chartContainer","slider","inputRail","getElementsByClassName","borderWidth","parseInt","inputRailWidth","clientWidth","chartContainerNewWidth","round","borders","left","right","sliderMarginRight","chartContainerMarginRight","marginRight","inputRailBounds","getBoundingClientRect","chartYAxisDelta","bottom","chartYAxisPosition","inputRailMid","top","difference","newMargin","marginBottom","rotatePoint","point","origin","angleDeg","xp","yp","angleRad","cos","sin","m101XY","m101Point","Poly","outerArrowCoordinates","pointRA","centerDec","arrowHalfHeight","stemFraction","headWidth","stemWidth","headBackRA","stemBackRA","topDec","bottomDec","stemHalfHeight","stemTopDec","stemBottomDec","coords","rotatedPoint","rotatedCoords","findRADecForScreenPoint","addPoint","set_lineColor","set_fillColor","set_fill","innerArrowCoordinates","delta","headSlope","innerPointRA","sqrt","innerHeadBackRA","innerStemBackRA","innerTopDec","innerBottomDec","innerStemTopDec","innerStemBottomDec","innerColor","addAnnotation","hideArrow","removeAnnotation","updateArrow","show","clearPlayingInterval","clearInterval","getClosest","arr","prev","curr","nextDate","wrap","next","previousDate","moveOneDayForward","moveOneDayBackward","getUTCMonth","getUTCDate","getUTCFullYear","interpolatedTable","table","findIndex","row","nextRow","deltaT","dayFracPassed","f","interpolatedRA","interpolatedDec","interpolatedRow","assign","columns","setSpreadSheetLayerOrder","get_layerList","get_referenceFrame","currentIndex","updateLayersForDate","deleteLayer","set_locationLat","set_locationLng","logLocation","console","log","logPosition","wwtRARad","wwtDecRad","printUTCDate","blurActiveElement","getImageSetLayerIndex","entries","wwtActiveLayers","Number","k1","k2","setImageSetLayerOrder","getImageSetDate","place","iset","names","setLayerOpacityForImageSet","hideAllImagesets","imageOutOfView","needToZoomIn","gotoRADecZoom","raRad","get_centerX","decRad","get_centerY","zoomDeg","wwtZoomDeg","instant","wwtSmallestFov","w","h","fovH","get_fovAngle","fovW","radecInFOV","center_ra","center_dec","fov","fov_view","fraction_of_place","dist","moveIfTableRowOfFOV","move","checkIfPlaceIsInTheCurrentFOV","isetRa","isetDec","isetFov","get_zoomLevel","curRa","curDec","curFov","factor","viewIsBad","options","showImageForDateTime","updateViewForDate","onOpacityChanged","updateImageOpacity","optionalZoom","onToggle","checked","iname","setupLocationSelector","locationDeg","setView","maxZoom","subdomains","attribution","className","addTo","circleForLocation","doubleClickZoom","disable","on","onMapSelect","e","lngRad","latlng","lng","twoPi","lat","latDeg","lonDeg","fillColor","fillOpacity","radius","startup","timeout","enableHighAccuracy","navigator","geolocation","getCurrentPosition","longitude","latitude","getZoom","_error","msg","$notify","altAzToHADec","altRad","azRad","latRad","atan2","tan","asin","getJulian","utc","year","month","day","hour","minute","second","getUTCMilliseconds","floor","c","jd","mstFromUTC2","longRad","modifiedJD","julianCenturies","mst","horizontalToEquatorial","st","haDec","ha","equatorialToHorizontal","hourAngle","sinAlt","altitude","cosAz","azimuth","acos","createHorizon","when","removeHorizon","n","i","points","raDec","poly","closestPoint","threshold","raDecDeg","minDist","Infinity","closestPt","closestScreenPoint","findScreenPointForRADec","pixelDist","updateLastClosePoint","offsetX","offsetY","needsUpdate","pageX","pageY","cometImageIndex","allIndex","rollRad","wwtRollRad","namefromDate","binarySearch","lo","hi","mid","matchImageSetName","closestDate","setting_opacity_from_ui","selector","el","error","toggleSelector","el2","showImagesetByName","moveTo","imagesetNames","shown","getImagesetByName","_options","updateForDateTime","updateHorizon","setToFirstCometImage","showChart","wwtMove","moveToPlace","fovDeg","watch","_show","_time","loc","oldLoc","remove","newTz","oldTz","newOffset","oldOffset","newHours","play","setInterval","minTime","maxTime","image","count","__exports__","_component_transition_expand","expandable","expanded","thumbnails","items","lastSelectedItem","get_thumbnailUrl","selectItem","showName","displayName","sliders","onSliderInputChanged","lastOpacityChanged","WWTAwareComponent","rootFolder","flexDirection","default","Boolean","scrolling","startFirstSelected","open","itemNames","sortBy","reversed","originalOrder","opacities","sorted","created","populate","validSortBy","sortItems","cr","showSlider","Imageset","aIndex","bIndex","$emit","Folder","FolderUp","validItemNames","dragging","onToggleImage","scrollToItem","container","offsetTop","clientHeight","scrollHeight","scrollTo","isMobile","test","userAgent","warn","valid","sortKeys","visible","selected","onChange","enter","afterEnter","leave","emits","visibility","requestAnimationFrame","chart","canvasel","Array","maintainAspectRatio","reversedX","hideXAxis","hideYAxis","axisOptions","ResizeObserver","observe","$el","getKey","obj","defaultKey","arrowBorder","afterDatasetsDraw","args","pluginOptions","ctx","save","beginPath","lineWidth","yWidth","strokeStyle","headLength","arrowUpTip","lineTo","stroke","closePath","xWidth","arrowRightTip","defaults","chartOptions","scales","oldChart","getChart","destroy","chartData","plugins","getBounds","isDate","computedData","computedLineData","computedYRange","scatterData","pointStyle","backgroundColor","outData","datasets","responsive","reverse","legend","xmin","getPixelForValue","xmax","ymin","ymax","bounds","values","some","isNaN","emitThis","getBorders","boundary","canvas","chartArea","margins","margin","x0Pixel","selectAll","plot","setProperty","xScale","range","domain","yScale","computedXrange","zero","computedYrange","xAxis","yAxis","svg","append","attr","call","datum","baseProfile","xmlns","viewBox","overflow","fill","selectedStyle","active","computedFillColor","__injectCSSVars__","__setup__","__default__","setup","icons","defaultSet","aliases","sets","mdi","locale","fallback","messages","en","theme","defaultTheme","faConstellation","prefix","iconName","update","binding","M101SN","use","wwtPinia","vuetify","directive","beforeMount","_vnode","_prevVnode","updated","component","WWTComponent","FolderView","Credits","TransitionExpand","Toggle","ConstellationIcon","Gallery","IconButton","FundingAcknowledgment","mount","typedArray","Reflect","getPrototypeOf","Int8Array","defineProperty","trunc","writable","enumerable","configurable","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","deferred","O","chunkIds","fn","priority","notFulfilled","fulfilled","j","every","getter","__esModule","definition","o","g","globalThis","Function","prop","hasOwnProperty","Symbol","toStringTag","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}