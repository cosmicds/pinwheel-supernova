{"version":3,"file":"js/app.befcc5af.js","mappings":"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","sources":["webpack://@cosmicds/pinwheel-supernova/./src/M101SN.vue?03a4","webpack://@cosmicds/pinwheel-supernova/./src/M101SN.vue","webpack://@cosmicds/pinwheel-supernova/./src/wwt-hacks.ts","webpack://@cosmicds/pinwheel-supernova/./src/m101.ts","webpack://@cosmicds/pinwheel-supernova/./src/aavsolightcurve.ts","webpack://@cosmicds/pinwheel-supernova/./src/M101SN.vue?6347","webpack://@cosmicds/pinwheel-supernova/./src/FolderView.vue?1453","webpack://@cosmicds/pinwheel-supernova/./src/FolderView.vue","webpack://@cosmicds/pinwheel-supernova/./src/FolderView.vue?8e4b","webpack://@cosmicds/pinwheel-supernova/./src/Credits.vue?ca9c","webpack://@cosmicds/pinwheel-supernova/./src/Credits.vue","webpack://@cosmicds/pinwheel-supernova/./src/Credits.vue?2d31","webpack://@cosmicds/pinwheel-supernova/./src/Toggle.vue?976d","webpack://@cosmicds/pinwheel-supernova/./src/Toggle.vue","webpack://@cosmicds/pinwheel-supernova/./src/Toggle.vue?1c4a","webpack://@cosmicds/pinwheel-supernova/./src/TransitionExpand.vue?cf6c","webpack://@cosmicds/pinwheel-supernova/./src/TransitionExpand.vue","webpack://@cosmicds/pinwheel-supernova/./src/TransitionExpand.vue?c476","webpack://@cosmicds/pinwheel-supernova/./src/chartjs-scatter.vue?f3b9","webpack://@cosmicds/pinwheel-supernova/./src/chartjs-scatter.vue","webpack://@cosmicds/pinwheel-supernova/./src/chartjs-scatter.vue?6ec0","webpack://@cosmicds/pinwheel-supernova/./src/d3-scatter.vue?1281","webpack://@cosmicds/pinwheel-supernova/./src/d3-scatter.vue","webpack://@cosmicds/pinwheel-supernova/./src/d3-scatter.vue?c348","webpack://@cosmicds/pinwheel-supernova/./src/ConstellationIcon.vue?a431","webpack://@cosmicds/pinwheel-supernova/./src/ConstellationIcon.vue","webpack://@cosmicds/pinwheel-supernova/./src/ConstellationIcon.vue?072e","webpack://@cosmicds/pinwheel-supernova/./src/ConstellationIcon.vue?a674","webpack://@cosmicds/pinwheel-supernova/./plugins/vuetify.ts","webpack://@cosmicds/pinwheel-supernova/./src/assets/constellation_icon.ts","webpack://@cosmicds/pinwheel-supernova/./src/main.ts","webpack://@cosmicds/pinwheel-supernova/./src/polyfills.ts","webpack://@cosmicds/pinwheel-supernova/webpack/bootstrap","webpack://@cosmicds/pinwheel-supernova/webpack/runtime/chunk loaded","webpack://@cosmicds/pinwheel-supernova/webpack/runtime/compat get default export","webpack://@cosmicds/pinwheel-supernova/webpack/runtime/define property getters","webpack://@cosmicds/pinwheel-supernova/webpack/runtime/global","webpack://@cosmicds/pinwheel-supernova/webpack/runtime/hasOwnProperty shorthand","webpack://@cosmicds/pinwheel-supernova/webpack/runtime/make namespace object","webpack://@cosmicds/pinwheel-supernova/webpack/runtime/publicPath","webpack://@cosmicds/pinwheel-supernova/webpack/runtime/jsonp chunk loading","webpack://@cosmicds/pinwheel-supernova/webpack/startup"],"sourcesContent":["import { resolveComponent as _resolveComponent, normalizeClass as _normalizeClass, createVNode as _createVNode, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, normalizeStyle as _normalizeStyle, withCtx as _withCtx, vShow as _vShow, withDirectives as _withDirectives, Transition as _Transition, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, withKeys as _withKeys, createElementBlock as _createElementBlock } from \"vue\"\nimport _imports_0 from './assets/sntyp.gif'\n\n\nconst _hoisted_1 = { id: \"main-content\" }\nconst _hoisted_2 = { id: \"first-splash-row\" }\nconst _hoisted_3 = { id: \"splash-screen-guide\" }\nconst _hoisted_4 = { id: \"splash-screen-acknowledgements\" }\nconst _hoisted_5 = { id: \"splash-screen-icons\" }\nconst _hoisted_6 = {\n  class: \"modal\",\n  id: \"modal-loading\"\n}\nconst _hoisted_7 = { class: \"top-content\" }\nconst _hoisted_8 = { id: \"center-buttons\" }\nconst _hoisted_9 = { id: \"left-buttons\" }\nconst _hoisted_10 = { class: \"right-content\" }\nconst _hoisted_11 = { class: \"bottom-content\" }\nconst _hoisted_12 = { id: \"tools\" }\nconst _hoisted_13 = { id: \"button-text\" }\nconst _hoisted_14 = { id: \"chart-container\" }\nconst _hoisted_15 = { class: \"tool-container\" }\nconst _hoisted_16 = { class: \"opacity-slider-wrapper\" }\nconst _hoisted_17 = { class: \"video-wrapper\" }\nconst _hoisted_18 = { class: \"text-center red--text\" }\nconst _hoisted_19 = { key: 1 }\nconst _hoisted_20 = { class: \"credits\" }\nconst _hoisted_21 = { style: {\"min-height\":\"120px\"} }\nconst _hoisted_22 = { class: \"text-list\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_WorldWideTelescope = _resolveComponent(\"WorldWideTelescope\")!\n  const _component_font_awesome_icon = _resolveComponent(\"font-awesome-icon\")!\n  const _component_story_credits = _resolveComponent(\"story-credits\")!\n  const _component_v_overlay = _resolveComponent(\"v-overlay\")!\n  const _component_icon_button = _resolveComponent(\"icon-button\")!\n  const _component_gallery = _resolveComponent(\"gallery\")!\n  const _component_v_btn = _resolveComponent(\"v-btn\")!\n  const _component_chartjs_scatter = _resolveComponent(\"chartjs-scatter\")!\n  const _component_vue_slider = _resolveComponent(\"vue-slider\")!\n  const _component_v_dialog = _resolveComponent(\"v-dialog\")!\n  const _component_v_card = _resolveComponent(\"v-card\")!\n  const _component_v_tab = _resolveComponent(\"v-tab\")!\n  const _component_v_tabs = _resolveComponent(\"v-tabs\")!\n  const _component_funding_acknowledgment = _resolveComponent(\"funding-acknowledgment\")!\n  const _component_v_spacer = _resolveComponent(\"v-spacer\")!\n  const _component_v_card_text = _resolveComponent(\"v-card-text\")!\n  const _component_v_window_item = _resolveComponent(\"v-window-item\")!\n  const _component_v_chip = _resolveComponent(\"v-chip\")!\n  const _component_v_col = _resolveComponent(\"v-col\")!\n  const _component_v_row = _resolveComponent(\"v-row\")!\n  const _component_v_container = _resolveComponent(\"v-container\")!\n  const _component_v_window = _resolveComponent(\"v-window\")!\n  const _component_notifications = _resolveComponent(\"notifications\")!\n  const _component_v_app = _resolveComponent(\"v-app\")!\n\n  return (_openBlock(), _createBlock(_component_v_app, {\n    id: \"app\",\n    style: _normalizeStyle(_ctx.cssVars)\n  }, {\n    default: _withCtx(() => [\n      _createElementVNode(\"div\", _hoisted_1, [\n        _createVNode(_component_WorldWideTelescope, {\n          \"wwt-namespace\": _ctx.wwtNamespace,\n          class: _normalizeClass({ pointer: _ctx.lastClosePt !== null }),\n          onPointermove: _ctx.onPointerMove,\n          onPointerup: _ctx.onPointerUp,\n          onPointerdown: _ctx.onPointerDown\n        }, null, 8, [\"wwt-namespace\", \"class\", \"onPointermove\", \"onPointerup\", \"onPointerdown\"]),\n        _createVNode(_component_v_overlay, {\n          \"model-value\": _ctx.showSplashScreen,\n          absolute: \"\",\n          opacity: \"0.6\",\n          style: _normalizeStyle(_ctx.cssVars),\n          id: \"splash-overlay\"\n        }, {\n          default: _withCtx(() => [\n            _createElementVNode(\"div\", {\n              id: \"splash-screen\",\n              style: _normalizeStyle(_ctx.cssVars)\n            }, [\n              _createElementVNode(\"div\", _hoisted_2, [\n                _createElementVNode(\"div\", {\n                  id: \"close-splash-button\",\n                  onClick: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.closeSplashScreen && _ctx.closeSplashScreen(...args)))\n                }, \"\"),\n                _cache[23] || (_cache[23] = _createElementVNode(\"div\", { id: \"splash-screen-text\" }, [\n                  _createElementVNode(\"p\", null, \" See a \"),\n                  _createElementVNode(\"p\", { class: \"highlight\" }, \" Star Explode \"),\n                  _createElementVNode(\"p\", { class: \"small\" }, \" in a galaxy far, far away... \")\n                ], -1))\n              ]),\n              _createElementVNode(\"div\", _hoisted_3, [\n                _createVNode(_component_font_awesome_icon, {\n                  id: \"text-icon\",\n                  icon: \"book-open\"\n                }),\n                _cache[24] || (_cache[24] = _createTextVNode(\" Read the guide \")),\n                _cache[25] || (_cache[25] = _createElementVNode(\"br\", null, null, -1)),\n                _createVNode(_component_font_awesome_icon, {\n                  id: \"video-icon\",\n                  icon: \"video\"\n                }),\n                _cache[26] || (_cache[26] = _createTextVNode(\" Watch the demo \"))\n              ]),\n              _createElementVNode(\"div\", _hoisted_4, [\n                _cache[27] || (_cache[27] = _createTextVNode(\" Brought to you by \")),\n                _cache[28] || (_cache[28] = _createElementVNode(\"a\", {\n                  href: \"https://www.cosmicds.cfa.harvard.edu/\",\n                  target: \"_blank\",\n                  rel: \"noopener noreferrer\"\n                }, \"Cosmic Data Stories\", -1)),\n                _cache[29] || (_cache[29] = _createTextVNode(\" and \")),\n                _cache[30] || (_cache[30] = _createElementVNode(\"a\", {\n                  href: \"https://www.worldwidetelescope.org/home/\",\n                  target: \"_blank\",\n                  rel: \"noopener noreferrer\"\n                }, \"WorldWide Telescope\", -1)),\n                _cache[31] || (_cache[31] = _createTextVNode(\". \")),\n                _createElementVNode(\"div\", _hoisted_5, [\n                  _createVNode(_component_story_credits)\n                ])\n              ])\n            ], 4)\n          ]),\n          _: 1\n        }, 8, [\"model-value\", \"style\"]),\n        _createVNode(_Transition, { name: \"fade\" }, {\n          default: _withCtx(() => [\n            _withDirectives(_createElementVNode(\"div\", _hoisted_6, _cache[32] || (_cache[32] = [\n              _createElementVNode(\"div\", { class: \"container\" }, [\n                _createElementVNode(\"div\", { class: \"spinner\" }),\n                _createElementVNode(\"p\", null, \"Loading \")\n              ], -1)\n            ]), 512), [\n              [_vShow, _ctx.isLoading]\n            ])\n          ]),\n          _: 1\n        }),\n        _createElementVNode(\"div\", _hoisted_7, [\n          _createElementVNode(\"div\", _hoisted_8, [\n            false\n              ? (_openBlock(), _createBlock(_component_icon_button, {\n                  key: 0,\n                  modelValue: _ctx.showLocationSelector,\n                  \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((_ctx.showLocationSelector) = $event)),\n                  \"fa-icon\": \"location-pin\",\n                  color: _ctx.accentColor,\n                  focus: _ctx.accentColor2,\n                  \"tooltip-text\": \"Select location\",\n                  \"tooltip-location\": \"bottom\"\n                }, null, 8, [\"modelValue\", \"color\", \"focus\"]))\n              : _createCommentVNode(\"\", true)\n          ]),\n          _createElementVNode(\"div\", _hoisted_9, [\n            _createVNode(_component_icon_button, {\n              modelValue: _ctx.showTextSheet,\n              \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event: any) => ((_ctx.showTextSheet) = $event)),\n              \"fa-icon\": \"book-open\",\n              color: _ctx.accentColor,\n              \"tooltip-text\": _ctx.showTextSheet ? 'Hide Info' : 'Learn More',\n              \"tooltip-location\": \"start\"\n            }, null, 8, [\"modelValue\", \"color\", \"tooltip-text\"]),\n            _createVNode(_component_icon_button, {\n              modelValue: _ctx.showVideoSheet,\n              \"onUpdate:modelValue\": _cache[3] || (_cache[3] = ($event: any) => ((_ctx.showVideoSheet) = $event)),\n              \"fa-icon\": \"video\",\n              color: _ctx.accentColor,\n              \"tooltip-text\": \"Watch video\",\n              \"tooltip-location\": \"start\"\n            }, null, 8, [\"modelValue\", \"color\"]),\n            _createVNode(_component_icon_button, {\n              onActivate: _ctx.centerView,\n              \"fa-icon\": \"refresh\",\n              color: _ctx.accentColor,\n              \"tooltip-text\": \"Center the Pinwheel\",\n              \"tooltip-location\": \"start\"\n            }, null, 8, [\"onActivate\", \"color\"]),\n            _createVNode(_component_icon_button, {\n              modelValue: _ctx.showConstellations,\n              \"onUpdate:modelValue\": _cache[4] || (_cache[4] = ($event: any) => ((_ctx.showConstellations) = $event)),\n              color: _ctx.accentColor,\n              \"fa-icon\": \"constellation\",\n              \"tooltip-text\": _ctx.showConstellations ? 'Hide constellations' : 'Show constellations',\n              \"tooltip-location\": \"start\"\n            }, null, 8, [\"modelValue\", \"color\", \"tooltip-text\"]),\n            _createVNode(_component_icon_button, {\n              modelValue: _ctx.showArrow,\n              \"onUpdate:modelValue\": _cache[5] || (_cache[5] = ($event: any) => ((_ctx.showArrow) = $event)),\n              color: _ctx.accentColor,\n              \"fa-icon\": \"arrow-right\",\n              \"tooltip-text\": _ctx.showArrow ? 'Hide the arrow' : 'Show the arrow',\n              \"tooltip-location\": \"start\"\n            }, null, 8, [\"modelValue\", \"color\", \"tooltip-text\"])\n          ])\n        ]),\n        _createElementVNode(\"div\", _hoisted_10, [\n          _createVNode(_component_gallery, {\n            \"wtml-url\": \"https://raw.githubusercontent.com/johnarban/wwt_interactives/main/images/m101/gallery.wtml\",\n            width: \"1000px\",\n            \"single-select\": true,\n            title: \"Click Image to Overlay\",\n            \"closed-text\": \"Image Gallery\",\n            \"selected-color\": _ctx.accentColor,\n            style: _normalizeStyle(_ctx.cssVars),\n            \"preview-index\": 1,\n            onSelect: _ctx.onItemSelected,\n            onDeselect: _ctx.onItemDeselected\n          }, null, 8, [\"selected-color\", \"style\", \"onSelect\", \"onDeselect\"])\n        ]),\n        _createElementVNode(\"div\", _hoisted_11, [\n          _createElementVNode(\"div\", _hoisted_12, [\n            _createElementVNode(\"div\", {\n              id: \"chart-button\",\n              class: _normalizeClass([_ctx.chartVisible ? 'collapse-button': ''])\n            }, [\n              _createVNode(_component_v_btn, {\n                flat: \"\",\n                onClick: _cache[6] || (_cache[6] = ($event: any) => (_ctx.chartVisible = !_ctx.chartVisible)),\n                onKeyup: _cache[7] || (_cache[7] = _withKeys(($event: any) => (_ctx.chartVisible = !_ctx.chartVisible), [\"enter\"])),\n                color: _ctx.accentColor\n              }, {\n                default: _withCtx(() => [\n                  _createVNode(_component_font_awesome_icon, {\n                    id: \"chart-icon\",\n                    class: \"control-icon\",\n                    icon: _ctx.chartVisible ? 'circle-xmark' : 'chart-line',\n                    size: \"xl\"\n                  }, null, 8, [\"icon\"]),\n                  _createElementVNode(\"span\", _hoisted_13, _toDisplayString(_ctx.chartVisible ? 'Hide' : 'Show') + \" supernova brightness graph\", 1)\n                ]),\n                _: 1\n              }, 8, [\"color\"])\n            ], 2),\n            _withDirectives(_createElementVNode(\"div\", _hoisted_14, [\n              _cache[33] || (_cache[33] = _createElementVNode(\"div\", { id: \"chart-title\" }, \" Supernova Light Curve (Change in Brightness Over Time) \", -1)),\n              _cache[34] || (_cache[34] = _createElementVNode(\"div\", { id: \"yaxis-text\" }, [\n                _createTextVNode(\" Supernova \"),\n                _createElementVNode(\"br\"),\n                _createTextVNode(\" Brightness \")\n              ], -1)),\n              _createVNode(_component_chartjs_scatter, {\n                reversedY: \"\",\n                scatter: \"\",\n                line: \"\",\n                animation: false,\n                data: _ctx.lightCurveData.filter(d => (d.time.getTime() <= _ctx.selectedTime )),\n                lineData: _ctx.lightCurveData.filter(d => (d.time.getTime() <= _ctx.selectedTime )),\n                keys: { x: 'time', y: 'magnitude' },\n                xrange: [Math.min(..._ctx.dates.map(d => d)), Math.max(..._ctx.dates.map(d => d))],\n                yrange: [10.5, 17],\n                color: _ctx.accentColor2,\n                borderColor: _ctx.accentColor2,\n                scatterOptions: {radius: 5, borderWidth: 2},\n                lineOptions: {borderColor: 'white', borderWidth: 1.5},\n                yAxisOptions: {\n              title: { display: false,\n                text: 'Supernova Brightness',\n                color: 'white',\n                },\n              border: { display: true,\n                color: 'white',\n                width: 4,\n              },\n              ticks: {display: false},\n              },\n                xAxisOptions: {\n                border: { display: true,\n                  color: 'white',\n                  width: 4,\n                },\n                title: {display: false},\n                ticks: {display: false},\n              },\n                onBounds: _cache[8] || (_cache[8] = (val) => { _ctx.chartBounds = val; _ctx.onResize() })\n              }, null, 8, [\"data\", \"lineData\", \"xrange\", \"color\", \"borderColor\"]),\n              _cache[35] || (_cache[35] = _createElementVNode(\"div\", { id: \"xaxis-text\" }, \" Time \", -1))\n            ], 512), [\n              [_vShow, _ctx.chartVisible]\n            ]),\n            _createElementVNode(\"span\", _hoisted_15, [\n              _createVNode(_component_icon_button, {\n                class: \"play-pause-icon-wrapper\",\n                \"tooltip-location\": \"top\",\n                color: _ctx.accentColor,\n                \"focus-color\": _ctx.accentColor,\n                \"tooltip-text\": \"Watch the supernova change over time!\",\n                onActivate: _cache[9] || (_cache[9] = () => {\n                  _ctx.playing = !(_ctx.playing || _ctx.playingImagePath); // set playing to true if both playing & pCP are false. set playing to false if either playing or pCP are true.\n                  _ctx.playingImagePath = false; // don't reverse the order of this line and previous or logic will break.\n                })\n              }, {\n                button: _withCtx(() => [\n                  _cache[36] || (_cache[36] = _createElementVNode(\"span\", { class: \"play-icon-text\" }, \"Watch over time\", -1)),\n                  _createVNode(_component_font_awesome_icon, {\n                    id: \"play-pause-icon\",\n                    class: \"control-icon\",\n                    icon: !(_ctx.playing || _ctx.playingImagePath) ? 'play' : 'pause',\n                    size: \"sm\"\n                  }, null, 8, [\"icon\"])\n                ]),\n                _: 1\n              }, 8, [\"color\", \"focus-color\"]),\n              _createVNode(_component_vue_slider, {\n                adsorb: \"\",\n                included: \"\",\n                duration: 0.1,\n                id: \"slider\",\n                marks: (d) => {\n              return _ctx.allDates.includes(d) || _ctx.imageDates.includes(d);\n            },\n                order: false,\n                modelValue: _ctx.selectedTime,\n                \"onUpdate:modelValue\": _cache[10] || (_cache[10] = ($event: any) => ((_ctx.selectedTime) = $event)),\n                onChange: _ctx.onTimeSliderChange,\n                data: _ctx.dates,\n                tooltip: \"always\",\n                \"tooltip-placement\": \"bottom\",\n                \"tooltip-style\": {opacity: 0.75},\n                \"tooltip-formatter\": (v) => \n              _ctx.toDateString(new Date(v))\n            \n              }, {\n                mark: _withCtx(({ pos, value }) => [\n                  _createElementVNode(\"div\", {\n                    class: _normalizeClass([{ 'mark-line': _ctx.imageDates.includes(value) }]),\n                    style: _normalizeStyle({ left: `${pos}%` })\n                  }, null, 6)\n                ]),\n                _: 1\n              }, 8, [\"marks\", \"modelValue\", \"onChange\", \"data\", \"tooltip-formatter\"])\n            ])\n          ]),\n          _createElementVNode(\"div\", _hoisted_16, [\n            (!_ctx.smallSize)\n              ? (_openBlock(), _createBlock(_component_vue_slider, {\n                  key: 0,\n                  class: \"opacity-slider\",\n                  adsorb: \"\",\n                  min: 0,\n                  max: 1,\n                  interval: 0.01,\n                  id: \"opacity-slider\",\n                  order: false,\n                  tooltipPlacement: \"bottom\",\n                  modelValue: _ctx.currentOpacity,\n                  \"onUpdate:modelValue\": _cache[11] || (_cache[11] = ($event: any) => ((_ctx.currentOpacity) = $event)),\n                  onChange: _cache[12] || (_cache[12] = (opacity) => _ctx.currentLayer?.set_opacity(opacity))\n                }, {\n                  default: _withCtx(() => _cache[37] || (_cache[37] = [\n                    _createElementVNode(\"span\", null, \"Change image opacity\", -1)\n                  ])),\n                  _: 1,\n                  __: [37]\n                }, 8, [\"modelValue\"]))\n              : _createCommentVNode(\"\", true)\n          ]),\n          (!_ctx.smallSize)\n            ? (_openBlock(), _createBlock(_component_story_credits, {\n                key: 0,\n                class: \"bottom-credits\"\n              }))\n            : _createCommentVNode(\"\", true)\n        ]),\n        _createVNode(_component_v_dialog, {\n          id: \"video-container\",\n          modelValue: _ctx.showVideoSheet,\n          \"onUpdate:modelValue\": _cache[15] || (_cache[15] = ($event: any) => ((_ctx.showVideoSheet) = $event)),\n          transition: \"slide-y-transition\",\n          fullscreen: \"\"\n        }, {\n          default: _withCtx(() => [\n            _createElementVNode(\"div\", _hoisted_17, [\n              _createVNode(_component_font_awesome_icon, {\n                id: \"video-close-icon\",\n                class: \"close-icon\",\n                icon: \"times\",\n                size: \"lg\",\n                onClick: _cache[13] || (_cache[13] = ($event: any) => (_ctx.showVideoSheet = false)),\n                onKeyup: _cache[14] || (_cache[14] = _withKeys(($event: any) => (_ctx.showVideoSheet = false), [\"enter\"])),\n                tabindex: \"0\"\n              }),\n              _cache[38] || (_cache[38] = _createElementVNode(\"iframe\", {\n                height: \"700\",\n                id: \"info-video\",\n                src: \"https://www.youtube.com/embed/CY2XMeY8w3w?&autoplay=1\",\n                title: \"YouTube video player\",\n                frameborder: \"0\",\n                allow: \"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share\",\n                allowfullscreen: \"\"\n              }, null, -1))\n            ])\n          ]),\n          _: 1\n        }, 8, [\"modelValue\"]),\n        _createVNode(_component_v_dialog, {\n          id: \"location-dialog\",\n          modelValue: _ctx.showLocationSelector,\n          \"onUpdate:modelValue\": _cache[16] || (_cache[16] = ($event: any) => ((_ctx.showLocationSelector) = $event))\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_v_card, { id: \"location-selector\" }, {\n              default: _withCtx(() => [\n                _cache[40] || (_cache[40] = _createElementVNode(\"div\", { class: \"text-center\" }, \" Move around the map and double-click to change location \", -1)),\n                _createVNode(_component_v_btn, {\n                  onClick: _ctx.getLocation,\n                  onKeyup: _withKeys(_ctx.getLocation, [\"enter\"])\n                }, {\n                  default: _withCtx(() => _cache[39] || (_cache[39] = [\n                    _createTextVNode(\" Use My Location \")\n                  ])),\n                  _: 1,\n                  __: [39]\n                }, 8, [\"onClick\", \"onKeyup\"]),\n                _createElementVNode(\"div\", _hoisted_18, _toDisplayString(_ctx.locationErrorMessage), 1),\n                _cache[41] || (_cache[41] = _createElementVNode(\"div\", { id: \"map-container\" }, null, -1))\n              ]),\n              _: 1,\n              __: [40,41]\n            })\n          ]),\n          _: 1\n        }, 8, [\"modelValue\"]),\n        _createVNode(_component_v_dialog, {\n          style: _normalizeStyle(_ctx.cssVars),\n          class: \"bottom-sheet\",\n          id: \"text-bottom-sheet\",\n          \"hide-overlay\": \"\",\n          persistent: \"\",\n          \"no-click-animation\": \"\",\n          absolute: \"\",\n          width: \"100%\",\n          scrim: false,\n          location: \"bottom\",\n          modelValue: _ctx.showTextSheet,\n          \"onUpdate:modelValue\": _cache[22] || (_cache[22] = ($event: any) => ((_ctx.showTextSheet) = $event)),\n          transition: \"dialog-bottom-transition\"\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_v_card, { height: \"100%\" }, {\n              default: _withCtx(() => [\n                _createVNode(_component_v_tabs, {\n                  modelValue: _ctx.tab,\n                  \"onUpdate:modelValue\": _cache[17] || (_cache[17] = ($event: any) => ((_ctx.tab) = $event)),\n                  height: \"32px\",\n                  color: _ctx.accentColor,\n                  \"slider-color\": _ctx.accentColor,\n                  id: \"tabs\",\n                  dense: \"\",\n                  grow: \"\"\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_v_tab, { tabindex: \"0\" }, {\n                      default: _withCtx(() => _cache[42] || (_cache[42] = [\n                        _createElementVNode(\"h3\", null, \"Information\", -1)\n                      ])),\n                      _: 1,\n                      __: [42]\n                    }),\n                    _createVNode(_component_v_tab, { tabindex: \"0\" }, {\n                      default: _withCtx(() => _cache[43] || (_cache[43] = [\n                        _createElementVNode(\"h3\", null, \"Using WWT\", -1)\n                      ])),\n                      _: 1,\n                      __: [43]\n                    })\n                  ]),\n                  _: 1\n                }, 8, [\"modelValue\", \"color\", \"slider-color\"]),\n                _createVNode(_component_font_awesome_icon, {\n                  id: \"close-text-icon\",\n                  class: \"control-icon\",\n                  icon: \"times\",\n                  size: \"lg\",\n                  onClick: _cache[18] || (_cache[18] = ($event: any) => (_ctx.showTextSheet = false)),\n                  onKeyup: _cache[19] || (_cache[19] = _withKeys(($event: any) => (_ctx.showTextSheet = false), [\"enter\"])),\n                  tabindex: \"0\"\n                }),\n                _createVNode(_component_v_window, {\n                  modelValue: _ctx.tab,\n                  \"onUpdate:modelValue\": _cache[21] || (_cache[21] = ($event: any) => ((_ctx.tab) = $event)),\n                  id: \"tab-items\",\n                  class: \"pb-2 no-bottom-border-radius\"\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_v_window_item, null, {\n                      default: _withCtx(() => [\n                        _createVNode(_component_v_card, { class: \"no-bottom-border-radius scrollable\" }, {\n                          default: _withCtx(() => [\n                            _createVNode(_component_v_card_text, { class: \"info-text no-bottom-border-radius\" }, {\n                              default: _withCtx(() => [\n                                _cache[77] || (_cache[77] = _createElementVNode(\"h3\", null, [\n                                  _createElementVNode(\"i\", null, \"Something new has burst onto the scene in the Pinwheel Galaxy!\")\n                                ], -1)),\n                                _cache[78] || (_cache[78] = _createElementVNode(\"p\", null, [\n                                  _createTextVNode(\" On May 19, 2023 - renowned supernova hunter \"),\n                                  _createElementVNode(\"a\", {\n                                    href: \"https://www.scientificamerican.com/article/astronomers-have-spotted-a-once-in-a-decade-supernova-and-you-can-too/\",\n                                    target: \"_blank\",\n                                    rel: \"noopener noreferrer\"\n                                  }, \"Koichi Itagaki discovered\"),\n                                  _createTextVNode(\" a new bright object in the very nearby Pinwheel Galaxy (also known as M101). This bright object was a \"),\n                                  _createElementVNode(\"strong\", null, \"new supernova\"),\n                                  _createTextVNode(\". \")\n                                ], -1)),\n                                _cache[79] || (_cache[79] = _createElementVNode(\"br\", null, null, -1)),\n                                _cache[80] || (_cache[80] = _createElementVNode(\"h3\", null, \"What is a Supernova?\", -1)),\n                                _cache[81] || (_cache[81] = _createElementVNode(\"p\", null, [\n                                  _createTextVNode(\" A \"),\n                                  _createElementVNode(\"strong\", null, \"supernova\"),\n                                  _createTextVNode(\" is an extremely bright, energetic explosion of a star. They are so bright that you can see when they occur in galaxies millions of light years away. \")\n                                ], -1)),\n                                _cache[82] || (_cache[82] = _createElementVNode(\"p\", null, \" There are two situations which trigger a supernova a very large star (8+ times our Sun's mass) runs out of fuel and then blows up; or a white dwarf (the remnants of stars like our Sun) pulls enough extra gas onto itself from a companion star that it blows up. \", -1)),\n                                _cache[83] || (_cache[83] = _createElementVNode(\"p\", null, [\n                                  _createTextVNode(\" The first type of supernova is called a \"),\n                                  _createElementVNode(\"a\", {\n                                    href: \"https://astronomy.swin.edu.au/cosmos/c/core-collapse\",\n                                    target: \"_blank\",\n                                    rel: \"noopener noreferrer\"\n                                  }, \"core-collapse supernova\"),\n                                  _createTextVNode(\" (Type II) and can teach us about the evolution and environment of massive stars. The second type (\"),\n                                  _createElementVNode(\"a\", {\n                                    href: \"https://astronomy.swin.edu.au/cosmos/T/Type+Ia+Supernova\",\n                                    target: \"_blank\",\n                                    rel: \"noopener noreferrer\"\n                                  }, \"Type Ia\"),\n                                  _createTextVNode(\") have predictable brightness and are used to measure the cosmological expansion of the universe. \")\n                                ], -1)),\n                                _cache[84] || (_cache[84] = _createElementVNode(\"h3\", null, \"The Brightness Graph\", -1)),\n                                _cache[85] || (_cache[85] = _createElementVNode(\"p\", null, [\n                                  _createTextVNode(\" Astronomers graph how a supernova's brightness changes over time (called a \"),\n                                  _createElementVNode(\"strong\", null, \"lightcurve\"),\n                                  _createTextVNode(\") to distinguish between the two main types of supernovae. Type II are characterized by a rapid rise followed by a plateau and or gradual dimming. Type I have a rapid rise followed by a more rapid dimming. \")\n                                ], -1)),\n                                _cache[86] || (_cache[86] = _createElementVNode(\"img\", { src: _imports_0 }, null, -1)),\n                                _cache[87] || (_cache[87] = _createElementVNode(\"p\", null, [\n                                  _createTextVNode(\" You can learn about other types of supernovae \"),\n                                  _createElementVNode(\"a\", {\n                                    href: \"https://astrobites.org/2016/12/02/classifying-supernovae/\",\n                                    target: \"_blank\",\n                                    rel: \"noopener noreferrer\"\n                                  }, \"here\"),\n                                  _createTextVNode(\". \")\n                                ], -1)),\n                                _cache[88] || (_cache[88] = _createElementVNode(\"strong\", null, \"What type of supernova do you think the one in the Pinwheel Galaxy is?\", -1)),\n                                _cache[89] || (_cache[89] = _createElementVNode(\"br\", null, null, -1)),\n                                (!_ctx.revealAnswer)\n                                  ? (_openBlock(), _createElementBlock(\"div\", {\n                                      key: 0,\n                                      style: {\"max-width\":\"fit-content\",\"margin-block\":\"1em\"},\n                                      class: \"control-icon-wrapper\",\n                                      onClick: _cache[20] || (_cache[20] = ($event: any) => (_ctx.revealAnswer = true))\n                                    }, \" Click to reveal the answer \"))\n                                  : _createCommentVNode(\"\", true),\n                                _cache[90] || (_cache[90] = _createElementVNode(\"br\", null, null, -1)),\n                                (_ctx.revealAnswer)\n                                  ? (_openBlock(), _createElementBlock(\"p\", _hoisted_19, \" With the rapid rise and long plateau this looks most similar to a Type II supernova. \"))\n                                  : _createCommentVNode(\"\", true),\n                                _cache[91] || (_cache[91] = _createElementVNode(\"br\", null, null, -1)),\n                                _cache[92] || (_cache[92] = _createElementVNode(\"br\", null, null, -1)),\n                                _cache[93] || (_cache[93] = _createElementVNode(\"br\", null, null, -1)),\n                                _createElementVNode(\"div\", _hoisted_20, [\n                                  _cache[44] || (_cache[44] = _createElementVNode(\"h3\", null, \"Credits:\", -1)),\n                                  _cache[45] || (_cache[45] = _createElementVNode(\"h4\", null, \" MicroObservatory:\", -1)),\n                                  _cache[46] || (_cache[46] = _createElementVNode(\"p\", null, [\n                                    _createTextVNode(\" The images shown in the \\\"Watch over time\\\" sequence were taken with \"),\n                                    _createElementVNode(\"a\", {\n                                      href: \"https://mo-www.cfa.harvard.edu/MicroObservatory/\",\n                                      target: \"_blank\",\n                                      rel: \"noopener noreferrer\"\n                                    }, \"MicroObservatory\"),\n                                    _createTextVNode(\". We use them here because they observe the Pinwheel Galaxy every night in a consistent way. (Dates without MicroObservatory images had bad weather). \")\n                                  ], -1)),\n                                  _cache[47] || (_cache[47] = _createElementVNode(\"br\", null, null, -1)),\n                                  _cache[48] || (_cache[48] = _createElementVNode(\"h4\", null, \" MicroObservatory Images and Data Processing:\", -1)),\n                                  _cache[49] || (_cache[49] = _createElementVNode(\"p\", null, [\n                                    _createTextVNode(\"Martin Fowler (\"),\n                                    _createElementVNode(\"a\", {\n                                      href: \"https://solarsystem.nasa.gov/people/647/martin-fowler/\",\n                                      target: \"_blank\",\n                                      rel: \"noopener noreferrer\"\n                                    }, \"NASA Citizen Scientist\"),\n                                    _createTextVNode(\")\")\n                                  ], -1)),\n                                  _cache[50] || (_cache[50] = _createElementVNode(\"br\", null, null, -1)),\n                                  _cache[51] || (_cache[51] = _createElementVNode(\"h4\", null, [\n                                    _createElementVNode(\"a\", {\n                                      href: \"https://www.cosmicds.cfa.harvard.edu/\",\n                                      target: \"_blank\",\n                                      rel: \"noopener noreferrer\"\n                                    }, \"CosmicDS\"),\n                                    _createTextVNode(\" Team:\")\n                                  ], -1)),\n                                  _cache[52] || (_cache[52] = _createTextVNode(\" John Lewis\")),\n                                  _cache[53] || (_cache[53] = _createElementVNode(\"br\", null, null, -1)),\n                                  _cache[54] || (_cache[54] = _createTextVNode(\" Jon Carifio\")),\n                                  _cache[55] || (_cache[55] = _createElementVNode(\"br\", null, null, -1)),\n                                  _cache[56] || (_cache[56] = _createTextVNode(\" Pat Udomprasert\")),\n                                  _cache[57] || (_cache[57] = _createElementVNode(\"br\", null, null, -1)),\n                                  _cache[58] || (_cache[58] = _createTextVNode(\" Alyssa Goodman\")),\n                                  _cache[59] || (_cache[59] = _createElementVNode(\"br\", null, null, -1)),\n                                  _cache[60] || (_cache[60] = _createTextVNode(\" Mary Dussault\")),\n                                  _cache[61] || (_cache[61] = _createElementVNode(\"br\", null, null, -1)),\n                                  _cache[62] || (_cache[62] = _createTextVNode(\" Harry Houghton\")),\n                                  _cache[63] || (_cache[63] = _createElementVNode(\"br\", null, null, -1)),\n                                  _cache[64] || (_cache[64] = _createTextVNode(\" Anna Nolin\")),\n                                  _cache[65] || (_cache[65] = _createElementVNode(\"br\", null, null, -1)),\n                                  _cache[66] || (_cache[66] = _createTextVNode(\" Evaluator: Sue Sunbury\")),\n                                  _cache[67] || (_cache[67] = _createElementVNode(\"br\", null, null, -1)),\n                                  _cache[68] || (_cache[68] = _createElementVNode(\"br\", null, null, -1)),\n                                  _cache[69] || (_cache[69] = _createElementVNode(\"h4\", null, \"WorldWide Telescope Team:\", -1)),\n                                  _cache[70] || (_cache[70] = _createTextVNode(\" Peter Williams\")),\n                                  _cache[71] || (_cache[71] = _createElementVNode(\"br\", null, null, -1)),\n                                  _cache[72] || (_cache[72] = _createTextVNode(\" A. David Weigel\")),\n                                  _cache[73] || (_cache[73] = _createElementVNode(\"br\", null, null, -1)),\n                                  _cache[74] || (_cache[74] = _createTextVNode(\" Jon Carifio\")),\n                                  _cache[75] || (_cache[75] = _createElementVNode(\"br\", null, null, -1)),\n                                  _cache[76] || (_cache[76] = _createElementVNode(\"br\", null, null, -1)),\n                                  _createVNode(_component_funding_acknowledgment)\n                                ]),\n                                _createVNode(_component_v_spacer, { class: \"end-spacer\" })\n                              ]),\n                              _: 1,\n                              __: [77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93]\n                            })\n                          ]),\n                          _: 1\n                        })\n                      ]),\n                      _: 1\n                    }),\n                    _createVNode(_component_v_window_item, null, {\n                      default: _withCtx(() => [\n                        _createVNode(_component_v_card, {\n                          class: \"no-bottom-border-radius scrollable\",\n                          style: {\"height\":\"100%\"}\n                        }, {\n                          default: _withCtx(() => [\n                            _createVNode(_component_v_card_text, { class: \"info-text no-bottom-border-radius\" }, {\n                              default: _withCtx(() => [\n                                _createVNode(_component_v_container, null, {\n                                  default: _withCtx(() => [\n                                    _createVNode(_component_v_row, { align: \"center\" }, {\n                                      default: _withCtx(() => [\n                                        _createVNode(_component_v_col, { cols: \"4\" }, {\n                                          default: _withCtx(() => [\n                                            _createVNode(_component_v_chip, {\n                                              label: \"\",\n                                              outlined: \"\"\n                                            }, {\n                                              default: _withCtx(() => _cache[94] || (_cache[94] = [\n                                                _createTextVNode(\" Pan \")\n                                              ])),\n                                              _: 1,\n                                              __: [94]\n                                            })\n                                          ]),\n                                          _: 1\n                                        }),\n                                        _createVNode(_component_v_col, {\n                                          cols: \"8\",\n                                          class: \"pt-1\"\n                                        }, {\n                                          default: _withCtx(() => [\n                                            _createElementVNode(\"strong\", null, _toDisplayString(_ctx.touchscreen ? \"press + drag\" : \"click + drag\"), 1),\n                                            _createTextVNode(\" \" + _toDisplayString(_ctx.touchscreen ? \":\" : \"or\") + \" \", 1),\n                                            _createElementVNode(\"strong\", null, _toDisplayString(_ctx.touchscreen ? \":\" : \"W-A-S-D\"), 1),\n                                            _createTextVNode(\" \" + _toDisplayString(_ctx.touchscreen ? \":\" : \"keys\"), 1),\n                                            _cache[95] || (_cache[95] = _createElementVNode(\"br\", null, null, -1))\n                                          ]),\n                                          _: 1,\n                                          __: [95]\n                                        })\n                                      ]),\n                                      _: 1\n                                    }),\n                                    _createVNode(_component_v_row, { align: \"center\" }, {\n                                      default: _withCtx(() => [\n                                        _createVNode(_component_v_col, { cols: \"4\" }, {\n                                          default: _withCtx(() => [\n                                            _createVNode(_component_v_chip, {\n                                              label: \"\",\n                                              outlined: \"\"\n                                            }, {\n                                              default: _withCtx(() => _cache[96] || (_cache[96] = [\n                                                _createTextVNode(\" Zoom \")\n                                              ])),\n                                              _: 1,\n                                              __: [96]\n                                            })\n                                          ]),\n                                          _: 1\n                                        }),\n                                        _createVNode(_component_v_col, {\n                                          cols: \"8\",\n                                          class: \"pt-1\"\n                                        }, {\n                                          default: _withCtx(() => [\n                                            _createElementVNode(\"strong\", null, _toDisplayString(_ctx.touchscreen ? \"pinch in and out\" : \"scroll in and out\"), 1),\n                                            _createTextVNode(\" \" + _toDisplayString(_ctx.touchscreen ? \":\" : \"or\") + \" \", 1),\n                                            _createElementVNode(\"strong\", null, _toDisplayString(_ctx.touchscreen ? \":\" : \"I-O\"), 1),\n                                            _createTextVNode(\" \" + _toDisplayString(_ctx.touchscreen ? \":\" : \"keys\"), 1),\n                                            _cache[97] || (_cache[97] = _createElementVNode(\"br\", null, null, -1))\n                                          ]),\n                                          _: 1,\n                                          __: [97]\n                                        })\n                                      ]),\n                                      _: 1\n                                    }),\n                                    _createVNode(_component_v_row, null, {\n                                      default: _withCtx(() => [\n                                        _createVNode(_component_v_col, { cols: \"12\" }, {\n                                          default: _withCtx(() => [\n                                            _createElementVNode(\"div\", _hoisted_21, [\n                                              _cache[106] || (_cache[106] = _createElementVNode(\"h4\", null, \"Tips:\", -1)),\n                                              _createElementVNode(\"ul\", _hoisted_22, [\n                                                _createElementVNode(\"li\", null, [\n                                                  _cache[98] || (_cache[98] = _createTextVNode(\" Click \")),\n                                                  _createVNode(_component_font_awesome_icon, {\n                                                    id: \"play-pause-icon\",\n                                                    class: \"control-icon\",\n                                                    icon: \"play\",\n                                                    size: \"lg\"\n                                                  }),\n                                                  _cache[99] || (_cache[99] = _createTextVNode(\" to watch the supernova brightness change over time. \"))\n                                                ]),\n                                                _cache[100] || (_cache[100] = _createElementVNode(\"li\", null, \" Adjust the date slider at the bottom to move to a specific time. \", -1)),\n                                                _cache[101] || (_cache[101] = _createElementVNode(\"li\", null, \" Click \\\"Show supernova brightness graph\\\" to see how its brightness changes with time. \", -1)),\n                                                _cache[102] || (_cache[102] = _createElementVNode(\"li\", null, \" Click the Image Gallery to see higher resolution images of the galaxy. \", -1)),\n                                                _cache[103] || (_cache[103] = _createElementVNode(\"li\", null, \" Use the \\\"Change image opacity\\\" slider to change the tranparency of the overlaid. \", -1)),\n                                                _cache[104] || (_cache[104] = _createElementVNode(\"li\", null, \" Choose whether to display constellations or the arrow pointing to the supernova. \", -1)),\n                                                _cache[105] || (_cache[105] = _createElementVNode(\"li\", null, \" Re-center the view on the Pinwheel Galaxy's location \\\"now\\\" or Play the supernova images, in order, over time \", -1))\n                                              ]),\n                                              _cache[107] || (_cache[107] = _createElementVNode(\"br\", null, null, -1)),\n                                              _cache[108] || (_cache[108] = _createTextVNode(\" This Data Story is powered by WorldWide Telescope (WWT). \"))\n                                            ])\n                                          ]),\n                                          _: 1\n                                        })\n                                      ]),\n                                      _: 1\n                                    }),\n                                    _createVNode(_component_v_row, null, {\n                                      default: _withCtx(() => [\n                                        _createVNode(_component_v_col, { cols: \"12\" }, {\n                                          default: _withCtx(() => [\n                                            _cache[109] || (_cache[109] = _createElementVNode(\"div\", { class: \"credits\" }, [\n                                              _createElementVNode(\"h3\", null, \"Credits:\"),\n                                              _createElementVNode(\"h4\", null, [\n                                                _createElementVNode(\"a\", {\n                                                  href: \"https://www.cosmicds.cfa.harvard.edu/\",\n                                                  target: \"_blank\",\n                                                  rel: \"noopener noreferrer\"\n                                                }, \"CosmicDS\"),\n                                                _createTextVNode(\" Team:\")\n                                              ]),\n                                              _createTextVNode(\" John Lewis\"),\n                                              _createElementVNode(\"br\"),\n                                              _createTextVNode(\" Jon Carifio\"),\n                                              _createElementVNode(\"br\"),\n                                              _createTextVNode(\" Pat Udomprasert\"),\n                                              _createElementVNode(\"br\"),\n                                              _createTextVNode(\" Alyssa Goodman\"),\n                                              _createElementVNode(\"br\"),\n                                              _createTextVNode(\" Mary Dussault\"),\n                                              _createElementVNode(\"br\"),\n                                              _createTextVNode(\" Harry Houghton\"),\n                                              _createElementVNode(\"br\"),\n                                              _createTextVNode(\" Anna Nolin\"),\n                                              _createElementVNode(\"br\"),\n                                              _createTextVNode(\" Evaluator: Sue Sunbury\"),\n                                              _createElementVNode(\"br\"),\n                                              _createElementVNode(\"br\"),\n                                              _createElementVNode(\"h4\", null, \"WorldWide Telescope Team:\"),\n                                              _createTextVNode(\" Peter Williams\"),\n                                              _createElementVNode(\"br\"),\n                                              _createTextVNode(\" A. David Weigel\"),\n                                              _createElementVNode(\"br\"),\n                                              _createTextVNode(\" Jon Carifio\"),\n                                              _createElementVNode(\"br\")\n                                            ], -1)),\n                                            _createVNode(_component_v_spacer, { class: \"end-spacer\" })\n                                          ]),\n                                          _: 1,\n                                          __: [109]\n                                        })\n                                      ]),\n                                      _: 1\n                                    })\n                                  ]),\n                                  _: 1\n                                })\n                              ]),\n                              _: 1\n                            })\n                          ]),\n                          _: 1\n                        })\n                      ]),\n                      _: 1\n                    })\n                  ]),\n                  _: 1\n                }, 8, [\"modelValue\"])\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        }, 8, [\"style\", \"modelValue\"]),\n        _createVNode(_component_notifications, {\n          group: \"startup-location\",\n          position: \"top right\"\n        })\n      ])\n    ]),\n    _: 1\n  }, 8, [\"style\"]))\n}","<template>\n  <v-app\n    id=\"app\"\n    :style=\"cssVars\"\n  >\n  <div\n    id=\"main-content\"\n  >\n\n    <WorldWideTelescope\n      :wwt-namespace=\"wwtNamespace\"\n      :class=\"{ pointer: lastClosePt !== null }\"\n      @pointermove=\"onPointerMove\"\n      @pointerup=\"onPointerUp\"\n      @pointerdown=\"onPointerDown\"\n    ></WorldWideTelescope>\n    \n    <v-overlay\n      :model-value=\"showSplashScreen\"\n      absolute\n      opacity=\"0.6\"\n      :style=\"cssVars\"\n      id=\"splash-overlay\"\n    >\n      <div id=\"splash-screen\"\n        :style=\"cssVars\"\n      >\n        <div\n          id=\"first-splash-row\"\n        >\n          <div\n            id=\"close-splash-button\"\n            @click=\"closeSplashScreen\"\n            >&times;</div>\n          <div id=\"splash-screen-text\">\n            <p> See a </p>\n            <p class=\"highlight\"> Star Explode </p>\n            <p class=\"small\"> in a galaxy far, far away... </p>\n          </div>\n        </div>\n        \n        <div id=\"splash-screen-guide\">\n          <font-awesome-icon\n            id=\"text-icon\"\n            icon=\"book-open\"\n          /> Read the guide \n          <br>\n          <font-awesome-icon\n            id=\"video-icon\"\n            icon=\"video\"\n          /> Watch the demo \n        </div>\n        \n        <div id=\"splash-screen-acknowledgements\">\n          Brought to you by <a href=\"https://www.cosmicds.cfa.harvard.edu/\" target=\"_blank\" rel=\"noopener noreferrer\">Cosmic Data Stories</a> and <a href=\"https://www.worldwidetelescope.org/home/\" target=\"_blank\" rel=\"noopener noreferrer\">WorldWide Telescope</a>.\n          \n          <div id=\"splash-screen-icons\">\n            <story-credits/>\n          </div>\n        </div>\n    </div>\n    </v-overlay>\n\n    <transition name=\"fade\">\n      <div\n        class=\"modal\"\n        id=\"modal-loading\"\n        v-show=\"isLoading\"\n      >\n        <div class=\"container\">\n          <div class=\"spinner\"></div>\n          <p>Loading </p>\n        </div>\n      </div>\n    </transition>\n\n    <div class=\"top-content\">\n      <div id=\"center-buttons\">\n        <!-- add iconbutton for location -->\n        <icon-button\n          v-if=\"false\"\n          v-model=\"showLocationSelector\"\n          fa-icon=\"location-pin\"\n          :color=\"accentColor\"\n          :focus=\"accentColor2\"\n          tooltip-text=\"Select location\"\n          tooltip-location=\"bottom\"\n          >\n      </icon-button>\n      </div>\n      <div id=\"left-buttons\">\n        <icon-button\n          v-model=\"showTextSheet\"\n          fa-icon=\"book-open\"\n          :color=\"accentColor\"\n          :tooltip-text=\"showTextSheet ? 'Hide Info' : 'Learn More'\"\n          tooltip-location=\"start\"\n          >\n      </icon-button>\n      <icon-button\n          v-model=\"showVideoSheet\"\n          fa-icon=\"video\"\n          :color=\"accentColor\"\n          tooltip-text=\"Watch video\"\n          tooltip-location=\"start\"\n          >\n      </icon-button>\n      <icon-button\n          @activate=\"centerView\"\n          fa-icon=\"refresh\"\n          :color=\"accentColor\"\n          tooltip-text=\"Center the Pinwheel\"\n          tooltip-location=\"start\"\n          >\n      </icon-button>\n      <icon-button\n          v-model=\"showConstellations\"\n          :color=\"accentColor\"\n          fa-icon=\"constellation\"\n          :tooltip-text=\"showConstellations ? 'Hide constellations' : 'Show constellations'\"\n          tooltip-location=\"start\"\n          >\n      </icon-button>\n      <icon-button\n          v-model=\"showArrow\"\n          :color=\"accentColor\"\n          fa-icon=\"arrow-right\"\n          :tooltip-text=\"showArrow ? 'Hide the arrow' : 'Show the arrow'\"\n          tooltip-location=\"start\"\n        >\n      </icon-button>\n      </div>\n    </div>\n\n    <div class=\"right-content\">\n      <gallery\n        wtml-url=\"https://raw.githubusercontent.com/johnarban/wwt_interactives/main/images/m101/gallery.wtml\"\n        width=\"1000px\"\n        :single-select=\"true\"\n        title=\"Click Image to Overlay\"\n        closed-text=\"Image Gallery\"\n        :selected-color=\"accentColor\"\n        :style=\"cssVars\"\n        :preview-index=\"1\"\n        @select=\"onItemSelected\"\n        @deselect=\"onItemDeselected\"\n      />\n    </div>\n\n    <div class=\"bottom-content\">\n\n      <div id=\"tools\">\n        <div \n        id=\"chart-button\"\n        :class=\"[chartVisible ? 'collapse-button': '']\"\n        >\n          <v-btn\n            flat\n            @click=\"chartVisible = !chartVisible\"\n            @keyup.enter=\"chartVisible = !chartVisible\"\n            :color=\"accentColor\"\n          >\n            <font-awesome-icon\n              id=\"chart-icon\"\n              class=\"control-icon\"\n              :icon=\"chartVisible ? 'circle-xmark' : 'chart-line'\"\n              size=\"xl\"\n            />\n            <span id=\"button-text\">{{ chartVisible ? 'Hide' : 'Show' }} supernova brightness graph</span>\n          </v-btn>\n        </div>\n        <div id=\"chart-container\" v-show=\"chartVisible\" >\n          <div id=\"chart-title\">\n            Supernova Light Curve (Change in Brightness Over Time)\n          </div>\n          <div id=\"yaxis-text\">\n            Supernova <br />\n            Brightness\n          </div>\n            <!-- :lineData=\"dates.map(d => {return {x: d, y: 12.5}})\" -->\n          <chartjs-scatter\n            reversedY\n            scatter\n            line\n            :animation=false\n            :data=\"lightCurveData.filter(d => (d.time.getTime() <= selectedTime ))\"\n            :lineData=\"lightCurveData.filter(d => (d.time.getTime() <= selectedTime ))\"\n            :keys=\"{ x: 'time', y: 'magnitude' }\"\n            :xrange=\"[Math.min(...dates.map(d => d)), Math.max(...dates.map(d => d))]\"\n            :yrange=\"[10.5, 17]\"\n            :color=\"accentColor2\"\n            :borderColor=\"accentColor2\"\n            :scatterOptions=\"{radius: 5, borderWidth: 2}\"\n            :lineOptions=\"{borderColor: 'white', borderWidth: 1.5}\"\n            :yAxisOptions=\"{\n              title: { display: false,\n                text: 'Supernova Brightness',\n                color: 'white',\n                },\n              border: { display: true,\n                color: 'white',\n                width: 4,\n              },\n              ticks: {display: false},\n              }\"\n              :xAxisOptions=\"{\n                border: { display: true,\n                  color: 'white',\n                  width: 4,\n                },\n                title: {display: false},\n                ticks: {display: false},\n              }\"\n            @bounds=\"(val: any) => { chartBounds = val; onResize() }\"\n            \n          />\n          \n          <div id=\"xaxis-text\">\n              Time\n          </div>\n        </div>\n        \n        <span class=\"tool-container\">\n          <icon-button\n          class=\"play-pause-icon-wrapper\"\n          tooltip-location=\"top\"\n          :color=\"accentColor\"\n          :focus-color=\"accentColor\"\n          tooltip-text=\"Watch the supernova change over time!\"\n          @activate=\"() => {\n                  playing = !(playing || playingImagePath); // set playing to true if both playing & pCP are false. set playing to false if either playing or pCP are true.\n                  playingImagePath = false; // don't reverse the order of this line and previous or logic will break.\n                }\"\n          >\n            <template #button>\n              <span class=\"play-icon-text\">Watch over time&nbsp;</span>\n              <font-awesome-icon\n                id=\"play-pause-icon\"\n                class=\"control-icon\"\n                :icon=\"!(playing || playingImagePath) ? 'play' : 'pause'\"\n                size=\"sm\"\n              ></font-awesome-icon>\n            </template>\n          </icon-button>\n          <vue-slider\n            adsorb\n            included\n            :duration=\"0.1\"\n            id=\"slider\"\n            :marks=\"(d: number) => {\n              return allDates.includes(d) || imageDates.includes(d);\n            }\"\n            :order=\"false\"\n            v-model=\"selectedTime\"\n            @change=\"onTimeSliderChange\"\n            :data=\"dates\"\n            tooltip=\"always\"\n            tooltip-placement=\"bottom\"\n            :tooltip-style=\"{opacity: 0.75}\"\n            :tooltip-formatter=\"(v: number) => \n              toDateString(new Date(v))\n            \"\n          >\n            <template v-slot:mark=\"{ pos, value }\">\n              <div\n                :class=\"[{ 'mark-line': imageDates.includes(value) }]\"\n                :style=\"{ left: `${pos}%` }\">\n              </div>\n            </template>\n          </vue-slider>\n        </span>\n      </div>\n      \n      <div class=\"opacity-slider-wrapper\">\n        <vue-slider\n          v-if=\"!smallSize\"\n          class=\"opacity-slider\"\n          adsorb\n          :min=\"0\"\n          :max=\"1\"\n          :interval=\"0.01\"\n          id=\"opacity-slider\"\n          :order=\"false\"\n          tooltipPlacement=\"bottom\"\n          v-model=\"currentOpacity\"\n          @change=\"(opacity: number) => currentLayer?.set_opacity(opacity)\"\n          >\n          <span>Change image opacity</span>\n        </vue-slider>\n      </div>\n      \n      <story-credits class=\"bottom-credits\" v-if=\"!smallSize\"></story-credits>\n\n    </div>\n    \n    <v-dialog\n      id=\"video-container\"\n      v-model=\"showVideoSheet\"\n      transition=\"slide-y-transition\"\n      fullscreen\n    >\n      <div class=\"video-wrapper\">\n        <font-awesome-icon\n          id=\"video-close-icon\"\n          class=\"close-icon\"\n          icon=\"times\"\n          size=\"lg\"\n          @click=\"showVideoSheet = false\"\n          @keyup.enter=\"showVideoSheet = false\"\n          tabindex=\"0\"\n        ></font-awesome-icon>\n\n        <iframe height=\"700\"\n          id=\"info-video\"\n          src=\"https://www.youtube.com/embed/CY2XMeY8w3w?&autoplay=1\"\n          title=\"YouTube video player\"\n          frameborder=\"0\"\n          allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share\"\n          allowfullscreen></iframe>\n\n      </div>\n    </v-dialog>\n\n    <v-dialog\n      id=\"location-dialog\"\n      v-model=\"showLocationSelector\"\n    >\n      <v-card id=\"location-selector\">\n        <div\n          class=\"text-center\"\n        >\n          Move around the map and double-click to change location\n        </div>\n        <v-btn\n          @click=\"getLocation\"\n          @keyup.enter=\"getLocation\"\n        >\n          Use My Location\n        </v-btn>\n        <div class=\"text-center red--text\">{{  locationErrorMessage  }}</div>\n        <div id=\"map-container\"></div>\n      </v-card>\n    </v-dialog>\n\n    <v-dialog\n      :style=\"cssVars\"\n      class=\"bottom-sheet\"\n      id=\"text-bottom-sheet\"  \n      hide-overlay\n      persistent\n      no-click-animation\n      absolute\n      width=\"100%\"\n      :scrim=\"false\"\n      location=\"bottom\"\n      v-model=\"showTextSheet\"\n      transition=\"dialog-bottom-transition\"\n    >\n      <v-card height=\"100%\">\n      <v-tabs\n        v-model=\"tab\"\n        height=\"32px\"\n        :color=\"accentColor\"\n        :slider-color=\"accentColor\"\n        id=\"tabs\"\n        dense\n        grow\n      >\n        <v-tab tabindex=\"0\"><h3>Information</h3></v-tab>\n        <v-tab tabindex=\"0\"><h3>Using WWT</h3></v-tab>\n      </v-tabs>\n      <font-awesome-icon\n        id=\"close-text-icon\"\n        class=\"control-icon\"\n        icon=\"times\"\n        size=\"lg\"\n        @click=\"showTextSheet = false\"\n        @keyup.enter=\"showTextSheet = false\"\n        tabindex=\"0\"\n      ></font-awesome-icon>\n        <v-window v-model=\"tab\" id=\"tab-items\" class=\"pb-2 no-bottom-border-radius\">\n          <v-window-item>\n            <v-card class=\"no-bottom-border-radius scrollable\">\n              <v-card-text class=\"info-text no-bottom-border-radius\">\n\n                <h3><i>Something new has burst onto the scene in the Pinwheel Galaxy!</i></h3>\n\n                <p>\n                  On May 19, 2023 - renowned supernova hunter \n                  <a href=\"https://www.scientificamerican.com/article/astronomers-have-spotted-a-once-in-a-decade-supernova-and-you-can-too/\" target=\"_blank\" rel=\"noopener noreferrer\">Koichi Itagaki discovered</a>\n                  a new bright object in the very nearby Pinwheel Galaxy (also known as M101). This bright object was a <strong>new supernova</strong>. \n                </p>\n                <br/>\n                <h3>What is a Supernova?</h3>\n                \n                <p>\n                  A <strong>supernova</strong> is an extremely bright, energetic explosion of a star. \n                  They are so bright that you can see when they occur in galaxies millions of light years away.\n                </p>\n                <p>\n                  There are two situations which trigger a supernova&mdash;\n                  a very large star (8+ times our Sun's mass) runs out of fuel and then blows up;\n                  or a white dwarf (the remnants of stars like our Sun) pulls enough extra gas onto itself from a companion star that it blows up. \n                </p>\n                <p>\n                  The first type of supernova is called a <a href=\"https://astronomy.swin.edu.au/cosmos/c/core-collapse\" target=\"_blank\" rel=\"noopener noreferrer\">core-collapse supernova</a> (Type II) and can teach us about the evolution and environment of massive stars. \n                  The second type (<a href=\"https://astronomy.swin.edu.au/cosmos/T/Type+Ia+Supernova\" target=\"_blank\" rel=\"noopener noreferrer\">Type Ia</a>) have predictable brightness and are used to measure the cosmological expansion of the universe.\n                </p>\n                \n                <h3>The Brightness Graph</h3>\n                <p>\n                Astronomers graph how a supernova's brightness changes over time (called a <strong>lightcurve</strong>) to distinguish between the two main types of supernovae. \n                Type II are characterized by a rapid rise followed by a plateau and or gradual dimming. \n                Type I have a rapid rise followed by a more rapid dimming. \n                </p>\n                <img src=\"./assets/sntyp.gif\">\n                <p>\n                You can learn about other types of supernovae <a href=\"https://astrobites.org/2016/12/02/classifying-supernovae/\" target=\"_blank\" rel=\"noopener noreferrer\">here</a>.\n                </p>\n                <strong>What type of supernova do you think the one in the Pinwheel Galaxy is?</strong>\n                <br>\n                \n                <div\n                  v-if=\"!revealAnswer\"\n                  style=\"max-width: fit-content; margin-block: 1em\"\n                  class=\"control-icon-wrapper\"\n                  @click=\"revealAnswer = true\"\n                >\n                  Click to reveal the answer\n              </div>\n              <br>\n              <p v-if=\"revealAnswer\"> With the rapid rise and long plateau this looks most similar to a Type II supernova. </p>\n\n\n                \n\n                <br><br><br>\n                <div class=\"credits\">\n                <h3>Credits:</h3>\n                <h4> MicroObservatory:</h4>\n                <p>\n                  The images shown in the \"Watch over time\" sequence were taken with <a href=\"https://mo-www.cfa.harvard.edu/MicroObservatory/\" target=\"_blank\" rel=\"noopener noreferrer\">MicroObservatory</a>. We use them here because they observe the Pinwheel Galaxy every night in a consistent way. (Dates without MicroObservatory images had bad weather). \n                </p>\n\n                <br/>\n                <h4> MicroObservatory Images and Data Processing:</h4>\n                <p>Martin Fowler (<a href=\"https://solarsystem.nasa.gov/people/647/martin-fowler/\" target=\"_blank\" rel=\"noopener noreferrer\">NASA Citizen Scientist</a>)</p>\n                <br/>\n\n                <h4><a href=\"https://www.cosmicds.cfa.harvard.edu/\" target=\"_blank\" rel=\"noopener noreferrer\">CosmicDS</a> Team:</h4>\n                John Lewis<br>\n                Jon Carifio<br>\n                Pat Udomprasert<br>\n                Alyssa Goodman<br>\n                Mary Dussault<br>\n                Harry Houghton<br>\n                Anna Nolin<br>\n                Evaluator: Sue Sunbury<br>\n                <br>\n                <h4>WorldWide Telescope Team:</h4>\n                Peter Williams<br>\n                A. David Weigel<br>\n                Jon Carifio<br>\n                <br>\n                <funding-acknowledgment/>\n                </div>\n                <v-spacer class=\"end-spacer\"></v-spacer>\n              </v-card-text>\n            </v-card>\n          </v-window-item>\n          <v-window-item>\n            <v-card class=\"no-bottom-border-radius scrollable\" style=\"height: 100%;\">\n              <v-card-text class=\"info-text no-bottom-border-radius\">\n                <v-container>\n                  <v-row align=\"center\">\n                  <v-col cols=\"4\">\n                      <v-chip\n                        label\n                        outlined\n                      >\n                        Pan\n                      </v-chip>\n                    </v-col>\n                    <v-col cols=\"8\" class=\"pt-1\">\n                      <strong>{{ touchscreen ? \"press + drag\" : \"click + drag\" }}</strong>  {{ touchscreen ? \":\" : \"or\" }}  <strong>{{ touchscreen ? \":\" : \"W-A-S-D\" }}</strong> {{ touchscreen ? \":\" : \"keys\" }}<br>\n                    </v-col>\n                  </v-row>\n                  <v-row align=\"center\">\n                    <v-col cols=\"4\">\n                      <v-chip\n                        label\n                        outlined\n                      >\n                        Zoom\n                      </v-chip>\n                    </v-col>\n                    <v-col cols=\"8\" class=\"pt-1\">\n                      <strong>{{ touchscreen ? \"pinch in and out\" : \"scroll in and out\" }}</strong> {{ touchscreen ? \":\" : \"or\" }} <strong>{{ touchscreen ? \":\" : \"I-O\" }}</strong> {{ touchscreen ? \":\" : \"keys\" }}<br>\n                    </v-col>\n                  </v-row>\n                  <v-row>\n                    <v-col cols=\"12\">\n                      <div\n                        style=\"min-height: 120px;\"\n                      >\n                        <h4>Tips:</h4>\n                        <ul class=\"text-list\">\n                          <li>\n                            Click \n                              <font-awesome-icon\n                                id=\"play-pause-icon\"\n                                class=\"control-icon\"\n                                icon=\"play\"\n                                size=\"lg\"\n                              ></font-awesome-icon>\n                            to watch the supernova brightness change over time.\n                          </li>\n                          <li>\n                            Adjust the date slider at the bottom to move to a specific time.\n                          </li>\n                          <li>\n                            Click \"Show supernova brightness graph\" to see how its brightness changes with time.\n                          </li>\n                          <li>\n                            Click the Image Gallery to see higher resolution images of the galaxy.\n                          </li>\n                          <li>\n                            Use the \"Change image opacity\" slider to change the tranparency of the overlaid. \n                          </li>                          \n                          <li>\n                            Choose whether to display constellations or the arrow pointing to the supernova.\n                          </li>\n                          <li>\n                            Re-center the view on the Pinwheel Galaxy's location \"now\" or Play the supernova images, in order, over time\n                          </li>\n                        </ul>\n                      <br>\n                      This Data Story is powered by WorldWide Telescope (WWT).\n\n                      </div>\n                    </v-col>\n                  </v-row>\n                  <v-row>\n                    <v-col cols=\"12\">\n                      <div class=\"credits\">\n                      <h3>Credits:</h3>\n                      <h4><a href=\"https://www.cosmicds.cfa.harvard.edu/\" target=\"_blank\" rel=\"noopener noreferrer\">CosmicDS</a> Team:</h4>\n                      John Lewis<br>\n                      Jon Carifio<br>\n                      Pat Udomprasert<br>\n                      Alyssa Goodman<br>\n                      Mary Dussault<br>\n                      Harry Houghton<br>\n                      Anna Nolin<br>\n                      Evaluator: Sue Sunbury<br>\n                      <br>\n                      <h4>WorldWide Telescope Team:</h4>\n                      Peter Williams<br>\n                      A. David Weigel<br>\n                      Jon Carifio<br>\n                      </div>\n                      <v-spacer class=\"end-spacer\"></v-spacer>\n                    </v-col>\n                  </v-row>\n                </v-container>              \n              </v-card-text>\n            </v-card>\n          </v-window-item>\n        </v-window>\n      </v-card>\n    </v-dialog>\n\n    <notifications group=\"startup-location\" position=\"top right\" />\n\n  </div>\n  </v-app>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from 'vue';\nimport { csvParse } from \"d3-dsv\";\n\nimport { distance } from \"@wwtelescope/astro\";\nimport { Constellations, Folder, Grids, ImageSetLayer, Layer, LayerManager, Place, Poly, RenderContext, Settings, SpreadSheetLayer, WWTControl } from \"@wwtelescope/engine\";\nimport { Thumbnail } from \"@wwtelescope/engine-types\";\n\nimport L, { LeafletMouseEvent, Map } from \"leaflet\";\nimport { getTimezoneOffset } from \"date-fns-tz\";\nimport tzlookup from \"tz-lookup\";\nimport { MiniDSBase, BackgroundImageset, skyBackgroundImagesets } from \"@cosmicds/vue-toolkit\";\n\nimport { applyImageSetLayerSetting } from \"@wwtelescope/engine-helpers\";\n\nimport { GotoRADecZoomParams } from \"@wwtelescope/engine-pinia\";\n\nimport { drawSkyOverlays, getScreenPosForCoordinates, initializeConstellationNames, makeAltAzGridText, drawSpreadSheetLayer, layerManagerDraw } from \"./wwt-hacks\";\n\ninterface MoveOptions {\n  instant?: boolean;\n  zoomDeg?: number;\n  rollRad?: number;\n}\n\ntype Point = [number, number];\n\nimport {\n  m101DataList,\n} from \"./m101\";\n\n\nimport {\n  aavsoLightCurve,\n} from \"./aavsolightcurve\";\n\nconst D2R = Math.PI / 180;\nconst R2D = 180 / Math.PI;\nconst D2H = 1 / 15;\n\nconst SECONDS_PER_DAY = 60 * 60 * 24;\nconst MILLISECONDS_PER_DAY = 1000 * SECONDS_PER_DAY;\n\nfunction parseCsvTable(csv: string) {\n  return csvParse(csv, (d, index) => {\n    const thisDate = new Date(d.Date ?? \"\");\n    return {\n      date: thisDate,\n      ra: +(d.Ra ?? \"\"),\n      dec: +(d.Dec ?? \"\"),\n      objectName: d.objectName as string,\n      bandpass: d.Bandpass as string,\n      wtmlName: d.wtmlName as string,\n      magnitude: +(d.magnitude ?? \"\"),\n      dateString: thisDate.toUTCString().slice(4, 11) + \" \" + `${thisDate.getUTCHours()}` + \":\" + thisDate.getUTCMinutes().toString().padStart(2, \"0\") + ` (${index})`,\n\n      _filename: d.pngFilename as string,\n      _index: index as number,\n    };\n  });\n}\nconst fullDatesTable = parseCsvTable(m101DataList);\nconst imageDatesTable = parseCsvTable(m101DataList);\n\n\n// parse the lightCurve data into a D3 table\nconst aavsoLightCurveTable = csvParse(aavsoLightCurve, (d) => {\n  // d.timestamp\n  // d.magnitude\n  return {\n    time: new Date(+(d.timestamp ?? \"\")),\n    magnitude: +(d.magnitude ?? \"\"),\n\n  };\n});\n\n\n\n// NB: The two tables have identical structures.\n// We aren't exporting these types anywhere, so\n// generic names are fine\ntype Table = typeof fullDatesTable;\ntype TableRow = typeof fullDatesTable[number];\n\nconst allDates = fullDatesTable.map(r => r.date.getTime());\nconst imageDates = [... new Set(imageDatesTable.map(r => r.date.getTime()))];\nconst minDate = Math.min(...allDates, ...imageDates)-2*MILLISECONDS_PER_DAY;\nconst maxDate = Math.max(...allDates, ...imageDates)+2*MILLISECONDS_PER_DAY;\nconst dates: number[] = [];\n\nlet t = minDate - (minDate % MILLISECONDS_PER_DAY);\nwhile (t <= maxDate) {\n  dates.push(t);\n  t += MILLISECONDS_PER_DAY/6;\n}\n\nfor (const d of imageDates) {\n  if (!dates.includes(d)) {\n    // dates.push(d);\n    // find the nearest value in dates to d and replace it with d\n    const closest = dates.reduce((a, b) => {\n      return Math.abs(b - d) < Math.abs(a - d) ? b : a;\n    });\n    dates.splice(dates.indexOf(closest), 1, d);\n  }\n}\n\n// dates = [...new Set(dates)];\ndates.sort((a, b) => a - b);\n\n\ntype LocationRad = {\n  longitudeRad: number;\n  latitudeRad: number;\n};\n\ntype EquatorialRad = {\n  raRad: number;\n  decRad: number;\n};\n\ntype HorizontalRad = {\n  altRad: number;\n  azRad: number;\n};\n\ntype SheetType = \"text\" | \"video\" | null;\n\nexport default defineComponent({\n  extends: MiniDSBase,\n  \n  props: {\n    wtml: {\n      type: Object,\n      required: true\n    },\n    wwtNamespace: {\n      type: String,\n      required: true\n    },\n    url: {\n      type: String,\n      required: true\n    },\n    thumbnailUrl: {\n      type: String,\n      required: true\n    },\n    bgWtml: {\n      type: String,\n      required: true\n    },\n    bgName: {\n      type: String,\n      required: true\n    }\n  },\n  data() {\n    const now = new Date();\n    return {\n      showSplashScreen: true, // ACTION NEEDED - reset to true\n      imagesetLayers: {} as Record<string, ImageSetLayer>,\n      layersLoaded: false,\n      positionSet: false,\n      imagesetFolder: null as Folder | null,\n      backgroundImagesets: [] as BackgroundImageset[],\n      places: {} as Record<string, Place>,\n\n      playing: false,\n      playingImagePath: false,\n      playingIntervalId: null as ReturnType<typeof setInterval> | null,\n      playingWaitCount: 0,\n      playCount: 0,\n\n      showAltAzGrid: false,\n      showConstellations: false,\n      showArrow: true,\n      showHorizon: false,\n      outerArrow: null as Poly | null,\n      innerArrow: null as Poly | null,\n      m101RADeg: 3.681181581357794 * R2D + 0.2/60,\n      m101DecDeg: 0.9480289529731357 * R2D - 1/60,\n      arrowAngleDeg: -60,\n      arrowCreated: false,\n\n      showSpeadSheetLater: false,\n\n      currentCometImageLayer: null as SpreadSheetLayer | null,\n      currentAllLayer: null as SpreadSheetLayer | null,\n      interpolatedDailyTable: null as Table | null,\n      currentLayer: null as Layer | null,\n\n      imageDates: imageDates,\n      allDates: allDates,\n      dates: dates,\n      minDate: minDate,\n      maxDate: maxDate,\n\n      // imageNames: {} as Record<string, string>,\n      // imageSortBy: {} as Record<string, number>,\n      imageNames: Object.fromEntries(imageDatesTable.map(d => [d.wtmlName, d.dateString])),\n      imageSortBy: Object.fromEntries(imageDatesTable.map(d => [d.wtmlName, d.date.getTime()])),\n      imageDateRef: { 'names': imageDatesTable.map(d => d.wtmlName), 'dates': imageDatesTable.map(d => d.date.getTime()) },\n      imageDateRefInv: Object.fromEntries(imageDatesTable.map(d => [d.date.getTime(), d.wtmlName])),\n      imageDateSorted: imageDatesTable.map(d => d.date.getTime()).sort((a, b) => a - b),\n      lastClosePt: null as TableRow | null,\n      accentColor: \"#ED6D5E\",\n      accentColor2: \"#b3d3e0\",\n      accentColor3: \" #0493d6\",\n\n      aavsoLightCurveData: aavsoLightCurveTable,\n      // lightCurveData: imageDatesTable.map(d => { 'time': d.date, 'magnitude': d.magnitude };),\n      lightCurveData: imageDatesTable.map(d => {\n        return {\n          time: d.date,\n          magnitude: d.magnitude\n        };\n      }),\n\n      currentOpacity: 0,\n      \n      incomingItemSelect: null as Thumbnail | null,\n      initialPosition: {ra: 210.802, dec: 54.348, zoom: 7.75},\n\n      chartBounds: {} as {\n        'bounds': { xmin: number, xmax: number, ymin: number, ymax: number },\n        'borders': { left: number, right: number, top: number, bottom: number }\n      },  \n\n      sheet: null as SheetType,\n      showMapTooltip: false,\n      showTextTooltip: false,\n      showVideoTooltip: false,\n      showPlayPauseTooltip: false,\n      showResetTooltip: false,\n      showConstellationTooltip: false,\n      showLocationSelector: false,\n      tab: 0,\n      chartVisible: false,\n      revealAnswer: false,\n\n      circle: null as L.Circle | null,\n      map: null as Map | null,\n\n      selectionProximity: 4,\n      pointerMoveThreshold: 6,\n      isPointerMoving: false,\n      pointerStartPosition: null as { x: number; y: number } | null,\n\n      // Harvard Observatory\n      timeOfDay: { hours: now.getHours(), minutes: now.getMinutes(), seconds: now.getSeconds() },\n      selectedTime: now.setUTCHours(0, 0, 0, 0),\n      selectedTimezone: \"America/New_York\",\n      location: {\n        latitudeRad: D2R * 42.3814,\n        longitudeRad: D2R * -71.1281\n      } as LocationRad,\n      locationErrorMessage: \"\"\n    };\n  },\n\n  mounted() {\n\n    this.$nextTick(() => {\n      window.addEventListener('resize', this.onResize);\n      this.onResize();\n    });\n\n    this.waitForReady().then(async () => {\n\n      // Unlike the other things we're hacking here,\n      // we aren't overwriting a method on a singleton instance (WWTControl)\n      // or a static method (Constellations, Grids)\n      // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n      // @ts-ignore\n      SpreadSheetLayer.prototype.draw = drawSpreadSheetLayer;\n\n      this.imagesetFolder = await this.loadImageCollection({\n        url: this.wtml.imageCollection,\n        loadChildFolders: false\n      });\n      const children = this.imagesetFolder.get_children() ?? [];\n      const layerPromises: Promise<Layer>[] = [];\n      children.forEach((item) => {\n        if (!(item instanceof Place)) { return; }\n        const imageset = item.get_backgroundImageset() ?? item.get_studyImageset();\n        if (imageset == null) { return; }\n        const name = imageset.get_name();\n        layerPromises.push(this.addImageSetLayer({\n          url: imageset.get_url(),\n          mode: \"autodetect\",\n          name: name,\n          goto: false\n        }).then((layer) => {\n          this.imagesetLayers[name] = layer;\n          this.places[name] = item;\n          applyImageSetLayerSetting(layer, [\"opacity\", 0]);\n          return layer;\n        }));\n      });\n      \n\n      this.loadImageCollection({\n        url: this.bgWtml,\n        loadChildFolders: true,\n      });\n      \n      this.backgroundImagesets = [...skyBackgroundImagesets];\n\n      // this.getLocation(true);\n      this.setClockSync(false);\n      // create date with y m d h m s\n\n      this.setTime(this.dateTime);\n\n      Promise.all(layerPromises).then(() => {\n        this.layersLoaded = true;\n        \n        // Set all of the imageset layers to be above the spreadsheet layers\n        this.resetImagesetLayerOrder();\n\n        const splashScreenListener = (_event: KeyboardEvent) => {\n          this.showSplashScreen = false;\n          window.removeEventListener('keyup', splashScreenListener);\n        };\n        window.addEventListener('keyup', splashScreenListener);\n\n        window.addEventListener('keyup', (event: KeyboardEvent) => {\n          if ([\"Esc\", \"Escape\"].includes(event.key) && this.showVideoSheet) {\n            this.showVideoSheet = false;\n          }\n        });\n      });\n\n      // set to use SDSS as background\n      // this.wwtControl.setBackgroundImageByName(\"SDSS: Sloan Digital Sky Survey (Optical) [DR7]\");\n      this.wwtControl.setBackgroundImageByName(this.bgName ? this.bgName : \"Digitized Sky Survey (Color)\");\n      this.wwtSettings.set_localHorizonMode(false);\n      this.wwtSettings.set_showAltAzGrid(this.showAltAzGrid);\n      this.wwtSettings.set_showAltAzGridText(this.showAltAzGrid);\n      this.wwtSettings.set_showConstellationLabels(this.showConstellations);\n      this.wwtSettings.set_showConstellationFigures(this.showConstellations);\n\n      // This is kinda horrible, but it works!\n\n      // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n      // @ts-ignore\n      this.wwtControl._drawSkyOverlays = drawSkyOverlays;\n      // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n      // @ts-ignore\n      Constellations.initializeConstellationNames = initializeConstellationNames;\n      Grids._makeAltAzGridText = makeAltAzGridText;\n\n      // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n      // @ts-ignore\n      LayerManager._draw = layerManagerDraw;\n\n      this.updateWWTLocation();\n\n      // wwtZoomDeg is still 0 if we run this here\n      // and it was the same in nextTick\n      // so give just a bit of a delay\n      setTimeout(() => {\n        this.centerView();\n        this.positionSet = true;\n\n        const createArrowFunction = () => {\n          try {\n            this.createArrow();\n            if (this.showArrow) {\n              this.displayArrow();\n            }\n          } catch (err) {\n            setTimeout(createArrowFunction, 100);\n          }\n        };\n        setTimeout(createArrowFunction, 100);\n      }, 100);\n\n    });\n  },\n\n  computed: {\n\n    selectedDate(): Date {\n      return new Date(this.selectedTime);\n    },\n    \n    dateTime() {\n      const todMs = this.dayFrac * MILLISECONDS_PER_DAY;\n      return new Date(this.selectedDate.getTime() + todMs);\n    },\n\n    selectedTimezoneOffset() {\n      return getTimezoneOffset(this.selectedTimezone);\n    },\n\n    isLoading(): boolean {\n      return !this.ready;\n    },\n    ready(): boolean {\n      return this.layersLoaded && this.positionSet;\n    },\n    smallSize(): boolean {\n      // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n      // @ts-ignore\n      return this.$vuetify.display.smAndDown;\n    },\n    mobile(): boolean {\n      return this.smallSize && this.touchscreen;\n    },\n    cssVars() {\n      return {\n        '--accent-color': this.accentColor,\n        '--accent-color-2': this.accentColor2,\n        '--accent-color-3': this.accentColor3,\n        '--app-content-height': this.showTextSheet ? '66%' : '100%',\n      };\n    },\n    wwtControl(): WWTControl {\n      return WWTControl.singleton;\n    },\n    wwtRenderContext(): RenderContext {\n      return this.wwtControl.renderContext;\n    },\n    wwtSettings(): Settings {\n      // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n      // @ts-ignore\n      return Settings.get_active();\n    },\n    dayFrac(): number {\n      const dateForTOD = new Date();\n      const timezoneOffsetHours = this.selectedTimezoneOffset / (60 * 60 * 1000);\n      dateForTOD.setUTCHours(this.timeOfDay.hours - timezoneOffsetHours, this.timeOfDay.minutes, this.timeOfDay.seconds);\n      const todMs = 1000 * (3600 * dateForTOD.getUTCHours() + 60 * dateForTOD.getUTCMinutes() + dateForTOD.getUTCSeconds());\n      return todMs / MILLISECONDS_PER_DAY;\n    },\n\n    dontSetTime(): boolean {\n      // return this.selectedTime %MILLISECONDS_PER_DAY !== 0;\n      return false;\n    },\n    \n    showTextSheet: {\n      get(): boolean {\n        return this.sheet === 'text';\n      },\n      set(_value: boolean) {\n        this.selectSheet('text');\n        this.showTextTooltip = false;\n      }\n    },\n    showVideoSheet: {\n      get(): boolean {\n        return this.sheet === \"video\";\n      },\n      set(value: boolean) {\n        this.selectSheet('video');\n        if (!value) {\n          const video = document.querySelector(\"#info-video\") as HTMLVideoElement;\n          video.pause();\n        }\n        this.showVideoTooltip = false;\n      }\n    },\n    // altAz() {\n    //   return this.equatorialToHorizontal(this.wwtRARad, this.wwtDecRad, this.location.latitudeRad, this.location.longitudeRad, this.selectedDate || new Date());\n    // }\n  },\n\n  methods: {\n    \n    \n    getCssVal(element: HTMLElement, property: string): number {\n      const val = window.getComputedStyle(element).getPropertyValue(property);\n      return val ? parseFloat(val.slice(0,-1)) : 0;\n    }, \n    \n    onResize() {\n      const toolsDiv = document.getElementById(\"tools\");\n      if (toolsDiv == null) {\n        return;\n      }\n\n      const chartContainer = document.getElementById(\"chart-container\");\n      if (chartContainer == null) {\n        return;\n      }\n\n      const slider = document.getElementById(\"slider\") as HTMLElement;\n      if (slider == null) {\n        return;\n      }\n\n      const inputRail = toolsDiv.getElementsByClassName(\"vue-slider-rail\")[0] as HTMLElement;\n      if (inputRail == null) {\n        return;\n      }\n      \n      const borderWidth = chartContainer.style.borderWidth ? parseInt(chartContainer.style.borderWidth) : 0;\n      const inputRailWidth = inputRail.clientWidth;\n      const chartContainerNewWidth = Math.round(inputRailWidth + this.chartBounds.borders.left + this.chartBounds.borders.right +  borderWidth);\n      \n      chartContainer.style.width = `${chartContainerNewWidth}px`;\n      // chartContainer.style.left = `${inputRail.offsetLeft}px`;\n      const sliderMarginRight = this.getCssVal(slider, 'margin-right');\n      const chartContainerMarginRight = sliderMarginRight - this.chartBounds.borders.right;\n      chartContainer.style.marginRight = `${chartContainerMarginRight}px`; \n\n\n\n      // fix updown position\n      const inputRailBounds = inputRail.getBoundingClientRect();\n\n\n      const chartYAxisDelta = this.chartBounds.borders.bottom;\n      const chartYAxisPosition = chartContainer.getBoundingClientRect().bottom - chartYAxisDelta;\n      const inputRailMid = (inputRailBounds.top + inputRailBounds.bottom) / 2;\n      const difference = chartYAxisPosition - inputRailMid;\n\n      const newMargin = this.getCssVal(chartContainer, 'margin-bottom') + difference;\n\n      chartContainer.style.marginBottom = `${Math.round(newMargin)}px`;\n      \n      return;\n    },\n\n    rotatePoint(point: Point, origin: Point, angleDeg: number): Point {\n      const xp = point[0] - origin[0];\n      const yp = point[1] - origin[1];\n      const angleRad = angleDeg * D2R;\n      return [\n        origin[0] + xp * Math.cos(angleRad) - yp * Math.sin(angleRad),\n        origin[1] + xp * Math.sin(angleRad) + yp * Math.cos(angleRad)\n      ];\n    },\n\n    createArrow() {\n\n      const m101XY = getScreenPosForCoordinates(this.wwtControl, this.m101RADeg * D2H, this.m101DecDeg);\n      const m101Point: Point = [m101XY.x, m101XY.y];\n    \n      // Create the outer (purple) arrow\n      this.outerArrow = new Poly();\n      const outerArrowCoordinates: Point[] = [];\n\n      const pointRA = this.m101RADeg;\n      const centerDec = this.m101DecDeg;\n      const arrowHalfHeight = 0.02;\n      const stemFraction = 0.4;\n      const headWidth = 0.05;\n      const stemWidth = 0.05;\n      const headBackRA = pointRA + headWidth;\n      const stemBackRA = headBackRA + stemWidth;\n      const topDec = centerDec + arrowHalfHeight;\n      const bottomDec = centerDec - arrowHalfHeight;\n      const stemHalfHeight = stemFraction * arrowHalfHeight;\n      const stemTopDec = centerDec + stemHalfHeight;\n      const stemBottomDec = centerDec - stemHalfHeight;\n      outerArrowCoordinates.push([pointRA, centerDec]);\n      outerArrowCoordinates.push([headBackRA, topDec]);\n      outerArrowCoordinates.push([headBackRA, stemTopDec]);\n      outerArrowCoordinates.push([stemBackRA, stemTopDec]);\n      outerArrowCoordinates.push([stemBackRA, stemBottomDec]);\n      outerArrowCoordinates.push([headBackRA, stemBottomDec]);\n      outerArrowCoordinates.push([headBackRA, bottomDec]);\n\n      for (const coords of outerArrowCoordinates) {\n        const point = getScreenPosForCoordinates(this.wwtControl, coords[0] * D2H, coords[1]);\n        const rotatedPoint = this.rotatePoint([point.x, point.y], m101Point, this.arrowAngleDeg);\n        const rotatedCoords = this.findRADecForScreenPoint({x: rotatedPoint[0], y: rotatedPoint[1]});\n        this.outerArrow.addPoint(rotatedCoords.ra, rotatedCoords.dec);\n      }\n\n\n      this.outerArrow.set_lineColor(this.accentColor);\n      this.outerArrow.set_fillColor(this.accentColor);\n      this.outerArrow.set_fill(true);\n      \n      // Create the inner (white) arrow\n      this.innerArrow = new Poly();\n      const innerArrowCoordinates: Point[] = [];\n      \n      const delta = 0.002; // The thickness of the outer \"border\"\n      const headSlope = (topDec - centerDec) / (headBackRA - pointRA);\n      const innerPointRA = pointRA + delta * Math.sqrt(1 + (headSlope ** 2) ) / headSlope;\n      const innerHeadBackRA = headBackRA - delta; \n      const innerStemBackRA = stemBackRA - delta;\n      const innerTopDec = headSlope * (innerHeadBackRA - innerPointRA) + centerDec;\n      const innerBottomDec = 2 * centerDec - innerTopDec;\n      const innerStemTopDec = stemTopDec - delta;\n      const innerStemBottomDec = stemBottomDec + delta;\n      innerArrowCoordinates.push([innerPointRA, centerDec]);\n      innerArrowCoordinates.push([innerHeadBackRA, innerTopDec]); \n      innerArrowCoordinates.push([innerHeadBackRA, innerStemTopDec]);\n      innerArrowCoordinates.push([innerStemBackRA, innerStemTopDec]); \n      innerArrowCoordinates.push([innerStemBackRA, innerStemBottomDec]);\n      innerArrowCoordinates.push([innerHeadBackRA, innerStemBottomDec]);\n      innerArrowCoordinates.push([innerHeadBackRA, innerBottomDec]);\n\n      for (const coords of innerArrowCoordinates) {\n        const point = getScreenPosForCoordinates(this.wwtControl, coords[0] * D2H, coords[1]);\n        const rotatedPoint = this.rotatePoint([point.x, point.y], m101Point, this.arrowAngleDeg);\n        const rotatedCoords = this.findRADecForScreenPoint({x: rotatedPoint[0], y: rotatedPoint[1]});\n        this.innerArrow.addPoint(rotatedCoords.ra, rotatedCoords.dec);\n      }\n\n      const innerColor = \"#ffffff\";\n      this.innerArrow.set_lineColor(innerColor);\n      this.innerArrow.set_fillColor(innerColor);\n      this.innerArrow.set_fill(true);\n\n      this.arrowCreated = true;\n    },\n\n    displayArrow() {\n      if (!this.arrowCreated) {\n        this.createArrow();\n      }\n      if (this.outerArrow) {\n        this.addAnnotation(this.outerArrow);\n      }\n      if (this.innerArrow) {\n        this.addAnnotation(this.innerArrow);\n      }\n    },\n\n    hideArrow() {\n      if (this.outerArrow) {\n        this.removeAnnotation(this.outerArrow);\n      }\n      if (this.innerArrow) {\n        this.removeAnnotation(this.innerArrow);\n      }\n    },\n\n    updateArrow(show: boolean) {\n      if (show) {\n        this.displayArrow();\n      } else {\n        this.hideArrow();\n      }\n    },\n\n    clearPlayingInterval() {\n      if (this.playingIntervalId !== null) {\n        clearInterval(this.playingIntervalId);\n        this.playingIntervalId = null;\n      }\n    },\n\n\n    getClosest(arr: number[], val: number, index = false): number {\n      if (arr.includes(val)) {\n        return arr.indexOf(val);\n      }\n\n      const closest = arr.reduce((prev, curr) => {\n        return (Math.abs(curr - val) < Math.abs(prev - val) ? curr : prev);\n      });\n\n      return index ? arr.indexOf(closest) : closest;\n    },\n\n\n    nextDate(wrap = false) {\n      const index = this.getClosest(this.dates, this.selectedTime, true);\n      if (this.dates[index] > this.selectedTime) {\n        return this.dates[index];\n      } else {\n        const next = index + 1;\n        return this.dates[(wrap || next === this.dates.length) ? 0 : next];\n\n      }\n    },\n\n    previousDate(wrap = false) {\n      const index = this.getClosest(this.dates, this.selectedTime, true);\n      if (this.dates[index] < this.selectedTime) {\n        this.selectedTime = this.dates[index];\n      } else {\n        const prev = index - 1;\n        this.selectedTime = this.dates[(wrap || prev < 0) ? this.dates.length + -1 : prev];\n\n      }\n    },\n\n    moveOneDayForward() {\n      this.selectedTime += MILLISECONDS_PER_DAY;\n    },\n\n    moveOneDayBackward() {\n      this.selectedTime -= MILLISECONDS_PER_DAY;\n    },\n\n    toDateString(date: Date) {\n      // date = new Date(date.getTime() + this.selectedTimezoneOffset) // ignore timezone\n      const dateString = `${date.getUTCMonth() + 1}/${date.getUTCDate()}/${date.getUTCFullYear()}`;\n      // const timeString = `${date.getUTCHours()}:${date.getUTCMinutes().toString().padStart(2, '0')}`;\n      return dateString;\n    },\n\n    interpolatedTable(table: Table): Table | null {\n      const index = table.findIndex(r => r.date.getTime() === this.selectedTime);\n      if (index === -1) { return null; }\n      const row = table[index];\n      const nextRow = table[index + 1] ?? row;\n      const deltaT = (nextRow.date.getTime() - row.date.getTime()) / MILLISECONDS_PER_DAY;\n      // get how far we are into the day\n      const dayFracPassed = (row.date.getTime() / MILLISECONDS_PER_DAY) % 1;\n      const f = (this.dayFrac - dayFracPassed) / deltaT;\n      const interpolatedRA = (1 - f) * row.ra + f * nextRow.ra;\n      const interpolatedDec = (1 - f) * row.dec + f * nextRow.dec;\n\n      const interpolatedRow: TableRow = { ...row };\n      interpolatedRow.ra = interpolatedRA;\n      interpolatedRow.dec = interpolatedDec;\n      return Object.assign([interpolatedRow], { columns: table.columns });\n    },\n\n    // JC: When the \"allow imagesets above spreadsheets\" functionality\n    // gets added into the engine,\n    // remember to add something like this along with it\n    setSpreadSheetLayerOrder(id: string, order: number) {\n      const layer = LayerManager.get_layerList()[id];\n      const layers = LayerManager.get_allMaps()[layer.get_referenceFrame()].layers;\n      if (order >= 0) {\n        const currentIndex = layers.indexOf(layer);\n        if (currentIndex > -1) {\n          layers.splice(currentIndex, 1);\n        }\n        LayerManager.get_allMaps()[layer.get_referenceFrame()].layers.splice(order, 0, layer);\n      }\n    },\n\n    updateLayersForDate() {\n      if (!this.showSpeadSheetLater) { return; }\n      \n      this.interpolatedDailyTable = this.interpolatedTable(fullDatesTable);\n      if (this.currentAllLayer !== null) {\n        this.deleteLayer(this.currentAllLayer.id);\n        this.currentAllLayer = null;\n      }\n    },\n\n    closeSplashScreen() {\n      this.showSplashScreen = false;\n    },\n\n    updateWWTLocation() {\n      this.wwtSettings.set_locationLat(R2D * this.location.latitudeRad);\n      this.wwtSettings.set_locationLng(R2D * this.location.longitudeRad);\n    },\n\n    logLocation() {\n      console.log(this.location.latitudeRad * R2D, this.location.longitudeRad * R2D);\n    },\n\n    logPosition() {\n      console.log(this.wwtRARad * R2D, this.wwtDecRad * R2D);\n    },\n\n    printUTCDate(date: Date) {\n      return `${date.getUTCMonth() + 1}/${date.getUTCDate()}/${date.getUTCFullYear()} ${date.getUTCHours()}:${date.getUTCMinutes()}:${date.getUTCSeconds()}`;\n    },\n\n    selectSheet(name: SheetType) {\n      if (this.sheet == name) {\n        this.sheet = null;\n        this.$nextTick(() => {\n          this.blurActiveElement();\n        });\n      } else {\n        this.sheet = name;\n      }\n    },\n\n    getImageSetLayerIndex(layer: ImageSetLayer): number {\n      // find layer in this.wwtActiveLayers\n      // this.wwtActiveLayers is a dictionary of {0:id1, 1:id2, 2:id3, ...}\n      // get the key item with the value of layer.id\n      for (const [key, value] of Object.entries(this.wwtActiveLayers)) {\n        if (value === layer.id.toString()) {\n          return Number(key);\n        }\n      }\n      return -1;\n    },\n\n    resetImagesetLayerOrder() {\n      // Reset the order of the imageset layers\n      Object.keys(this.imagesetLayers).sort((k1, k2) => {\n        return new Date(k1).getTime() - new Date(k2).getTime();\n      }).forEach((key) => {\n        const layer = this.imagesetLayers[key];\n        this.setImageSetLayerOrder({\n          id: layer.id.toString(),\n          order: this.wwtActiveLayers.length\n        });\n      });\n    },\n\n    getImageSetDate(place: Place): Date | null  {\n      const iset = place.get_studyImageset() ?? place.get_backgroundImageset();\n      if (iset == null) { return null; }\n      const names = this.imageDateRef['names'];\n      const dates = this.imageDateRef['dates'];\n      return new Date(dates[names.indexOf(iset.get_name())]);\n    },\n    \n    onItemDeselected(place: Place) {\n      \n      if (place == null) {\n        return;\n      }\n      const iset = place.get_studyImageset() ?? place.get_backgroundImageset();\n      if (iset == null) { return; }\n\n      const name = iset.get_name();\n      const layer = this.imagesetLayers[name];\n      console.log('onItemDeselected', name);\n      if (layer == null) {\n        return;\n      } else {\n        this.setLayerOpacityForImageSet(name, 0);\n      }\n      \n    },\n    \n    async onItemSelected(place: Place) {\n\n      if (place == null) {\n        console.log('place is null');\n        this.hideAllImagesets();\n        return;\n      }\n      // hide previous so it compares to background\n      this.hideAllImagesets();\n      \n      const iset = place.get_studyImageset() ?? place.get_backgroundImageset();\n      if (iset == null) { return; }\n\n      const name = iset.get_name();\n      let layer = this.imagesetLayers[name];\n      if (layer == null) {\n        layer = await this.addImageSetLayer({\n          url: iset.get_url(),\n          mode: \"autodetect\",\n          name: iset.get_name(),\n          goto: false \n        });\n        this.imagesetLayers[name] = layer;\n      }\n      this.currentLayer = layer;\n      this.setLayerOpacityForImageSet(name, 1);\n            \n      this.playing = false;\n      this.playingImagePath = false;\n      console.log('onItemSelected', name);\n      if (this.imageOutOfView(place) || this.needToZoomIn(place)) {\n        this.gotoRADecZoom({\n          raRad: D2R * iset.get_centerX(),\n          decRad: D2R * iset.get_centerY(),\n          zoomDeg: this.wwtZoomDeg,\n          instant: true\n        });\n      }\n    },\n    \n\n    wwtSmallestFov(): number {\n      // ignore the possibility of rotation\n      const w = this.wwtRenderContext.width;\n      const h = this.wwtRenderContext.height;\n      const fovH = this.wwtRenderContext.get_fovAngle() * D2R;\n      const fovW = fovH * w / h;\n      return Math.min(fovW, fovH);\n    },\n\n    radecInFOV(ra: number, dec: number, center_ra: number, center_dec: number, fov: number, fov_view: number, fraction_of_place: number): boolean {\n      let dist = distance(ra, dec, center_ra, center_dec);\n      dist += (fraction_of_place - 1/2) * fov;\n      return dist < fov_view / 2;\n    },\n\n    moveIfTableRowOfFOV(position: TableRow) {\n      // get imageset of date\n      const move = this.radecInFOV(\n        D2R * position.ra * D2R,\n        D2R * position.dec * D2R,\n        this.wwtRARad,\n        this.wwtDecRad,\n        10 * D2R,\n        this.wwtRenderContext.get_fovAngle() * D2R,\n        1/2\n      );\n\n      return move;\n      \n    },\n    \n    checkIfPlaceIsInTheCurrentFOV(place: Place, fraction_of_place = 1/2): boolean {\n      // checks if the center of place is in the current field of view\n      // Assume the Zoom level corresponds to the size of the image\n      // fraction_of_place is ~fraction of the place that must be in the current FOV\n      // by default, allow 1/3 of the place to be visible and still be considered in view\n      const iset = place.get_studyImageset() ?? place.get_backgroundImageset();\n      if (iset == null) {\n        return false;\n      }\n\n      const isetRa = iset.get_centerX() * D2R;\n      const isetDec = iset.get_centerY() * D2R;\n      const isetFov = (place.get_zoomLevel() / 6) * D2R;\n      \n      const curRa = this.wwtRARad;\n      const curDec = this.wwtDecRad;\n      const curFov = this.wwtSmallestFov();\n\n      return this.radecInFOV(isetRa, isetDec, curRa, curDec, isetFov, curFov, fraction_of_place);\n    },\n\n    // convenience wrapper for (not checkIfPlaceIsInTheCurrentFOV)\n    imageOutOfView(place: Place): boolean {\n      return !this.checkIfPlaceIsInTheCurrentFOV(place);\n    },\n\n    needToZoomIn(place = null as Place | null, factor = 5): boolean {\n      // 1) we are already zoomed all the way out (if FOV > 50)\n      if (this.wwtZoomDeg > 300) { return true; }\n\n      if (place == null) {\n        if (this.incomingItemSelect == null) { return false; }\n        place = this.incomingItemSelect as Place;\n      }\n      // 2) the image is too small (so it's fov < 1/6 of the current fov)\n      const iset = place.get_studyImageset() ?? place.get_backgroundImageset();\n      if (iset != null) {\n        if (place.get_zoomLevel() * factor < this.wwtZoomDeg) { return true; }\n      }\n      \n      return false;\n    },\n    \n    viewIsBad(place: Place, factor = 5): boolean {\n      if (place == null) {\n        place = this.incomingItemSelect as Place;\n      }\n\n      if (place == null) { return false; }\n\n      return this.imageOutOfView(place) || this.needToZoomIn(place, factor);\n    },\n    \n    onTimeSliderChange(options?: MoveOptions) {\n      this.$nextTick(() => {\n        this.showImageForDateTime(new Date(this.selectedTime), true);\n        this.updateViewForDate(options);\n      });\n    },\n\n    \n    \n    onOpacityChanged(place: Place, opacity: number, move: boolean) {\n      const iset = place.get_studyImageset() ?? place.get_backgroundImageset();\n      if (iset == null) { return; }\n      this.updateImageOpacity(place, opacity);\n\n      this.$nextTick(() => {\n        if ((this.imageOutOfView(place) && move) || (this.needToZoomIn(place, 8) && move)) {\n          this.selectedTime = this.imageSortBy[iset.get_name()];\n          // const [month, day, year] = iset.get_name().split(\"/\").map(x => parseInt(x));\n          // if (month && day && year) {\n          //   this.selectedTime = Date.UTC(year, month - 1, day); \n          // }\n          \n          \n          this.incomingItemSelect = place;\n\n          this.gotoRADecZoom({\n            raRad: D2R * iset.get_centerX(),\n            decRad: D2R * iset.get_centerY(),\n            zoomDeg: this.optionalZoom(place), // zoom if factor of 2.5x image zoomLevel\n            instant: false\n          });\n        }\n      });\n    },\n\n    updateImageOpacity(place: Place, opacity: number) {\n      const iset = place.get_studyImageset() ?? place.get_backgroundImageset();\n      if (iset == null) { return; }\n      const layer = this.imagesetLayers[iset.get_name()];\n      if (layer == null) { return; }\n      // applyImageSetLayerSetting(layer, [\"opacity\", opacity / 100]);\n      // tell setLayerOpacityForImageSet that we are updating from the ui\n      this.setLayerOpacityForImageSet(iset.get_name(), opacity / 100, true);\n    },\n    \n    onToggle(place: Place, checked: boolean) {\n      // when we toggle the image we want to set it's opacity to zero\n      const iset = place.get_studyImageset() ?? place.get_backgroundImageset();\n      if (iset == null) { return; } \n      const iname = iset.get_name();\n      this.setLayerOpacityForImageSet(iname, checked ? 1 : 0);\n    },\n    \n    setupLocationSelector() {\n      const locationDeg: [number, number] = [R2D * this.location.latitudeRad, R2D * this.location.longitudeRad];\n      const map = L.map(\"map-container\").setView(locationDeg, 4);\n      // L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {\n      //   maxZoom: 19,\n      //   attribution: '&copy; <a href=\"http://www.openstreetmap.org/copyright\" target=\"_blank\" rel=\"noopener noreferrer\">OpenStreetMap</a>',\n      //   className: 'map-tiles'\n      // }).addTo(map);\n      L.tileLayer('https://{s}.google.com/vt/lyrs=p&x={x}&y={y}&z={z}',{\n        maxZoom: 20,\n        subdomains:['mt0','mt1','mt2','mt3'],\n        attribution: `&copy <a href=\"https://www.google.com/maps\" target=\"_blank\" rel=\"noopener noreferrer\">Google Maps</a>`,\n        className: 'map-tiles'\n      }).addTo(map);\n\n      this.circle = this.circleForLocation(...locationDeg).addTo(map);\n\n      map.doubleClickZoom.disable();\n      map.on('dblclick', this.onMapSelect);\n      this.map = map;\n    },\n\n    onMapSelect(e: LeafletMouseEvent) {\n      let lngRad = e.latlng.lng * D2R + Math.PI;\n      const twoPi = 2 * Math.PI;\n      lngRad = ((lngRad % twoPi) + twoPi) % twoPi; // We want modulo, but JS % operator is remainder\n      lngRad -= Math.PI;\n      this.location = {\n        latitudeRad: e.latlng.lat * D2R,\n        longitudeRad: lngRad\n      };\n    },\n\n    circleForLocation(latDeg: number, lonDeg: number): L.Circle {\n      return L.circle([latDeg, lonDeg], {\n        color: \"#FF0000\",\n        fillColor: \"#FF0033\",\n        fillOpacity: 0.5,\n        radius: 200\n      });\n    },\n\n    getLocation(startup = false) {\n      const options = { timeout: 10000, enableHighAccuracy: true };\n\n      navigator.geolocation.getCurrentPosition(\n        (position) => {\n          this.location = {\n            longitudeRad: D2R * position.coords.longitude,\n            latitudeRad: D2R * position.coords.latitude\n          };\n\n          if (this.map) {\n            this.map.setView([position.coords.latitude, position.coords.longitude], this.map.getZoom());\n          }\n        },\n        (_error) => {\n          const msg = \"Unable to autodetect location. Location will default to Cambridge, MA, USA, or you can\\nuse the location selector to manually input a location.\";\n          if (startup) {\n            this.$notify({\n              group: \"startup-location\",\n              type: \"error\",\n              text: msg,\n              duration: 4500\n            });\n          } else {\n            this.locationErrorMessage = msg;\n          }\n          //this.updateHorizon();\n        },\n        options\n      );\n    },\n\n    // WWT does have all of this functionality built in\n    // but it doesn't seem to be exposed\n    // We should do that, but for now we just copy the web engine code\n    // https://github.com/Carifio24/wwt-webgl-engine/blob/master/engine/wwtlib/Coordinates.cs\n    altAzToHADec(altRad: number, azRad: number, latRad: number): { ra: number; dec: number; } {\n      azRad = Math.PI - azRad;\n      if (azRad < 0) {\n        azRad += 2 * Math.PI;\n      }\n      let ra = Math.atan2(Math.sin(azRad), Math.cos(azRad) * Math.sin(latRad) + Math.tan(altRad) * Math.cos(latRad));\n      if (ra < 0) {\n        ra += 2 * Math.PI;\n      }\n      const dec = Math.asin(Math.sin(latRad) * Math.sin(altRad) - Math.cos(latRad) * Math.cos(altRad) * Math.cos(azRad));\n      return { ra, dec };\n    },\n\n    getJulian(utc: Date): number {\n      let year = utc.getUTCFullYear();\n      let month = utc.getUTCMonth()+1;\n      const day = utc.getUTCDate();\n      const hour = utc.getUTCHours();\n      const minute = utc.getUTCMinutes();\n      const second = utc.getUTCSeconds() + utc.getUTCMilliseconds() / 1000.0;\n\n      if (month == 1 || month == 2)\n      {\n        year -= 1;\n        month += 12;\n      }\n\n      const a = Math.floor(year / 100);\n      const b = 2 - a + Math.floor(a / 4.0);\n      const c = Math.floor(365.25 * year);\n      const d = Math.floor(30.6001 * (month + 1));\n\n      // gives julian date: number of days since Jan 1, 4713 BC\n      const jd = b + c + d + 1720994.5 + day + (hour + minute / 60.00 + second / 3600.00) / 24.00;\n      return jd;\n\n    },\n    \n    mstFromUTC2(utc: Date, longRad: number): number {\n      const lng = longRad * R2D;\n\n      const modifiedJD = this.getJulian(utc)  - 2451545;\n\n      const julianCenturies = modifiedJD / 36525.0;\n      // this form wants julianDays - 2451545\n      let mst = 280.46061837 + 360.98564736629 * modifiedJD + 0.000387933 * julianCenturies * julianCenturies - julianCenturies * julianCenturies * julianCenturies / 38710000 + lng;\n\n      if (mst > 0.0) {\n        while (mst > 360.0) {\n          mst = mst - 360.0;\n        }\n      } else {\n        while (mst < 0.0) {\n          mst = mst + 360.0;\n        }\n      }\n\n      return mst;\n    },\n\n    horizontalToEquatorial(altRad: number, azRad: number, latRad: number, longRad: number, utc: Date): EquatorialRad {\n      const st = this.mstFromUTC2(utc, longRad); // siderial time \n  \n      const haDec = this.altAzToHADec(altRad, azRad, latRad); // get Hour Angle and Declination\n      \n      const ha = haDec.ra * R2D;\n\n      let ra = st + ha;\n      if (ra < 0) {\n        ra += 360;\n      }\n      if (ra > 360) {\n        ra -= 360;\n      }\n      // ra -= 180;\n      // console.log(`Alt: ${(altRad*R2D).toFixed(2)} Az: ${(azRad*R2D).toFixed(2)} Ra: ${ra.toFixed(2)} Dec: ${(haDec.dec*R2D).toFixed(2)}`)\n\n      return { raRad: D2R * ra, decRad: haDec.dec };\n    },\n\n    equatorialToHorizontal(raRad: number, decRad: number, latRad: number, longRad: number, utc: Date): HorizontalRad {\n      let hourAngle = this.mstFromUTC2(utc, longRad) - R2D * raRad;\n      if (hourAngle < 0) {\n        hourAngle += 360;\n      }\n\n      const ha = D2R * hourAngle;\n      const dec = decRad;\n      const lat = latRad;\n      \n      const sinAlt = Math.sin(dec) * Math.sin(lat) + Math.cos(dec) * Math.cos(lat) * Math.cos(ha);\n      const altitude = Math.asin(sinAlt);\n      const cosAz = (Math.sin(dec) - Math.sin(altitude) * Math.sin(lat)) / (Math.cos(altitude) * Math.cos(lat));\n      let azimuth = Math.acos(cosAz);\n\n      azimuth = azimuth + (Math.PI * 80) % (Math.PI * 2);\n\n      if (Math.sin(ha) > 0) {\n        azimuth = 2 * Math.PI - azimuth;\n      }\n      return { altRad: altitude, azRad: azimuth };\n\n    },\n\n    createHorizon(when: Date | null = null) {\n      this.removeHorizon();\n\n      const color = '#01362C';\n      const date = when || this.dateTime || new Date();\n\n      // The initial coordinates are given in Alt/Az, then converted to RA/Dec\n      // Use N annotations to cover below the horizon\n      const n = 6;\n      const delta = 2 * Math.PI / n;\n      for (let i = 0; i < n; i++) {\n        let points: [number, number][] = [\n          [0, i * delta],\n          [-Math.PI / 2, i * delta],\n          [0, (i + 1) * delta]\n        ];\n        points = points.map((point) => {\n          const raDec = this.horizontalToEquatorial(...point, this.location.latitudeRad, this.location.longitudeRad, date);\n          return [R2D * raDec.raRad, R2D * raDec.decRad];\n        });\n        const poly = new Poly();\n        points.forEach(point => poly.addPoint(...point));\n        poly.set_lineColor(color);\n        poly.set_fill(true);\n        poly.set_fillColor(color);\n        this.addAnnotation(poly);\n      }\n\n    },\n\n    closestPoint(\n      point: { x: number; y: number; },\n      threshold?: number\n    ): TableRow | null {\n      const raDecDeg = this.findRADecForScreenPoint(point);\n      const target = { ra: D2R * raDecDeg.ra, dec: D2R * raDecDeg.dec };\n\n      let minDist = Infinity;\n      let closestPt = null as TableRow | null;\n\n      [imageDatesTable, fullDatesTable].forEach((table) => {\n        table.forEach(row => {\n          const raRad = row.ra * D2R;\n          const decRad = row.dec * D2R;\n\n          const dist = distance(target.ra, target.dec, raRad, decRad);\n          if (dist < minDist) {\n            closestPt = row;\n            minDist = dist;\n          }\n\n        });\n      });\n\n      if (closestPt !== null) {\n        const closestScreenPoint = this.findScreenPointForRADec(closestPt);\n        const pixelDist = Math.sqrt((point.x - closestScreenPoint.x) ** 2 + (point.y - closestScreenPoint.y) ** 2);\n        if (!threshold || pixelDist < threshold) {\n          return closestPt;\n        }\n      }\n      return null;\n    },\n\n    removeHorizon() {\n      //this.clearAnnotations();\n    },\n\n    updateLastClosePoint(event: PointerEvent) {\n      const pt = { x: event.offsetX, y: event.offsetY };\n      const closestPt = this.closestPoint(pt, this.selectionProximity);\n      if (closestPt == null && this.lastClosePt == null) {\n        return;\n      }\n      const needsUpdate =\n        closestPt == null ||\n        this.lastClosePt == null ||\n        this.lastClosePt.ra != closestPt.ra ||\n        this.lastClosePt.dec != closestPt.dec;\n      if (needsUpdate) {\n        this.lastClosePt = closestPt;\n      }\n    },\n\n    onPointerMove(event: PointerEvent) {\n      if (!this.isPointerMoving && this.pointerStartPosition !== null) {\n        const dist = Math.sqrt((event.pageX - this.pointerStartPosition.x) ** 2 + (event.pageY - this.pointerStartPosition.y) ** 2);\n        if (dist > this.pointerMoveThreshold) {\n          this.isPointerMoving = true;\n        }\n      }\n\n      this.updateLastClosePoint(event);\n    },\n\n    onPointerDown(event: PointerEvent) {\n      this.isPointerMoving = false;\n      this.pointerStartPosition = { x: event.pageX, y: event.pageY };\n    },\n\n    onPointerUp(event: PointerEvent) {\n      if (!this.isPointerMoving) {\n        this.updateLastClosePoint(event);\n        if (this.lastClosePt !== null) {\n          this.selectedTime = this.lastClosePt.date.getTime();\n          this.$nextTick(() => {\n            this.onTimeSliderChange();\n          });\n        }\n      }\n      this.pointerStartPosition = null;\n      this.isPointerMoving = false;\n    },\n\n    updateViewForDate(options?: MoveOptions) {\n      let position = null as TableRow | null;\n\n      const cometImageIndex = imageDates.findIndex(d => d === this.selectedTime);\n      \n      if (cometImageIndex > -1) {\n        if (this.interpolatedDailyTable !== null) {\n          position = this.interpolatedDailyTable[0];\n        } else {\n          position = imageDatesTable[cometImageIndex];\n        }\n      } else {\n        const allIndex = allDates.findIndex(d => d === this.selectedTime);\n        if (allIndex > -1) {\n          position = fullDatesTable[allIndex];\n        }\n      }\n\n      if (position !== null) {\n        this.gotoRADecZoom({\n          raRad: D2R * position.ra,\n          decRad: D2R * position.dec,\n          zoomDeg: options?.zoomDeg ?? this.wwtZoomDeg,\n          rollRad: options?.rollRad ?? this.wwtRollRad,\n          instant: options?.instant ?? true\n        });\n      }\n\n    },\n    \n    namefromDate(date: Date): string {\n      const year = date.getUTCFullYear();\n      const month = date.getUTCMonth() + 1;\n      const day = date.getUTCDate();\n      return `${month}/${day}/${year}`;\n    },\n\n    // matchImageSetName(date: Date): string {\n    //   // imageset names are keys in this.imagesetLayers\n    //   const imagesetNames = Object.keys(this.imagesetLayers);\n    //   // loop over image set names. find the name (which is a MM/DD/YYYY date string)\n    //   // that is or comes after the date we are looking for\n\n    //   for (const name of imagesetNames) {\n    //     // convert the name to a date\n    //     // if the name is after the date we are looking for, return it\n    //     const wwtDateString = this.namefromDate(date);\n    //     if (name == wwtDateString) {\n    //       return name;\n    //     }\n    //   }\n    //   return '';\n    // },\n    \n        \n    binarySearch(arr: number[], target: number, lo = 0, hi = arr.length - 1): number {\n      if (target < arr[lo]) { return arr[0];}\n      if (target > arr[hi]) { return arr[hi]; }\n      \n      const mid = Math.floor((hi + lo) / 2);\n\n      return hi - lo < 2\n        ? (target - arr[lo]) < (arr[hi] - target) ? arr[lo] : arr[hi]\n        : target < arr[mid]\n          ? this.binarySearch(arr, target, lo, mid)\n          : target > arr[mid]\n            ? this.binarySearch(arr, target, mid, hi)\n            : arr[mid];\n    },\n\n    matchImageSetName(date: Date): string {\n      const thisDate = date.getTime();\n      if (this.imageDateSorted.includes(thisDate)) {\n        return this.imageDateRefInv[thisDate];\n      }\n      \n      const closestDate = this.binarySearch(this.imageDateSorted, thisDate);\n\n      // within 1 hour, in milliseconds\n      if (Math.abs(thisDate - closestDate) > (12 * 60 * 60 * 1000)) { return '';}\n      \n      const name = this.imageDateRefInv[closestDate];\n      \n      return name;\n    },\n\n    hideAllImagesets() {\n      console.log('hiding everything');\n      for (const name of Object.keys(this.imagesetLayers)) {\n        this.setLayerOpacityForImageSet(name, 0);\n      }\n    },\n\n    setLayerOpacityForImageSet(name: string, opacity: number, setting_opacity_from_ui=false) {\n      const layer = this.imagesetLayers[name];\n      if (layer != null) {\n        // update the image opacity in the WWT control\n        applyImageSetLayerSetting(layer, ['opacity', opacity]);\n\n        try {\n          // update the value for the slider only if we are not setting the opacity from the UI\n          if (!setting_opacity_from_ui) {\n            // check if name is a valid queryselector\n            const selector = `#items div.item[id='fv-${name}'] input.opacity-range[type='range']`;\n            const el = (document.querySelector(selector) as HTMLInputElement);\n            if (el != null) {\n              el.value = `${opacity * 100}`;\n            }\n          }\n        }\n        catch (error) {\n          //\n        }\n\n        try {\n          const toggleSelector = `#items input[type='checkbox'][title='${name}']`;\n          const el2 = (document.querySelector(toggleSelector) as HTMLInputElement);\n          // truth table: opacity == 0 and el.checked == false => do nothing\n          // truth table: opacity == 0 and el.checked == true => set el.checked = false\n          // truth table: opacity > 0 and el.checked == false => set el.checked = true\n          // truth table: opacity > 0 and el.checked == true => do nothing\n          if (el2 != null) {\n            if (opacity == 0 && el2.checked) {\n              el2.checked = false;\n            } else if (opacity > 0 && !el2.checked) {\n              el2.checked = true;\n            }\n          }\n        }\n        catch (error) {\n          //\n        }\n        \n      }\n    },\n\n    showImagesetByName(name: string, moveTo = false): boolean {\n      const imagesetNames = Object.keys(this.imagesetLayers);\n      let shown = false;\n      imagesetNames.forEach((iname: string) => {\n        if (iname != name) {\n          this.setLayerOpacityForImageSet(iname, 0);\n        } else {\n          this.setLayerOpacityForImageSet(iname, 1);\n          this.currentLayer = this.imagesetLayers[iname];\n          this.currentOpacity = 1;\n          shown = true;\n          // need to get the Place object for the image set and use it to set the view\n          if (this.imagesetFolder != null) {\n            const places = this.imagesetFolder.get_children();\n            if (places != null) {\n              const place = places.filter((place) => place.get_name() == iname);\n              this.incomingItemSelect = place[0];\n            }\n          }\n          \n          if (!moveTo) { return; }\n          \n          const iset = this.wwtControl.getImagesetByName(iname);\n          const place = this.places[iname];\n          if (iset == null) { return; }\n          if (place == null) { return; }\n          this.$nextTick(() => {\n            this.gotoRADecZoom({\n              raRad: D2R * place.get_RA() * 15,\n              decRad: D2R * place.get_dec(),\n              zoomDeg: this.optionalZoom(place),\n              instant: true\n            });\n          });\n          \n        }\n      });\n      return shown;\n    },\n    \n    showImageForDateTime(date: Date, moveTo = false): boolean {\n      const name = this.matchImageSetName(date);\n      if (name == null || name == '') {\n        // this.incomingItemSelect = null;\n        return false;\n      }\n      \n      if ((this.incomingItemSelect?.get_name() == name) && (!this.viewIsBad(this.places[name]))) {\n        // console.log('image already shown and view is good, so it has been \"shown\"');\n        return true;\n      }\n\n      return this.showImagesetByName(name, moveTo);\n\n    },\n\n    \n    centerView(_options?: MoveOptions) {\n      \n      this.gotoRADecZoom({\n        raRad: this.initialPosition.ra * D2R,\n        decRad: this.initialPosition.dec * D2R,\n        zoomDeg: this.initialPosition.zoom,\n        instant: false,\n      });\n      // show the first image\n      if (!this.playing) {\n        this.selectedTime = this.imageDates[0];\n        this.onTimeSliderChange({ zoomDeg: this.initialPosition.zoom });\n      }\n    },\n\n    updateForDateTime() {\n      if (!this.dontSetTime) { this.setTime(this.dateTime); }\n      this.updateHorizon(this.dateTime); \n      // this.showImageForDateTime(this.dateTime);\n      // this.updateViewForDate(options);\n      this.updateLayersForDate();\n    },\n\n    updateHorizon(when: Date | null = null) {\n      if (this.showHorizon) {\n        this.createHorizon(when);\n      } else {\n        this.removeHorizon();\n      }\n    },\n\n    setToFirstCometImage() {\n      this.selectedTime = Math.min(...this.imageDates);\n      const children = this.imagesetFolder?.get_children();\n      if (children == null) { return; }\n      const place = children[0] as Place;\n      this.onItemSelected(place);\n    },\n\n    showChart() {\n      this.chartVisible = true;\n    },\n\n    wwtMove(options: GotoRADecZoomParams) {\n      this.$nextTick(() => {\n        this.gotoRADecZoom(options);\n      });\n    },\n\n    moveToPlace(place: Place, fovDeg = null as number | null) {\n      let zoomDeg: number;\n\n      if (fovDeg) {\n        zoomDeg = fovDeg * 6;\n      } else {\n        zoomDeg = this.optionalZoom(place);\n      }\n\n      this.wwtMove({\n        raRad: D2R * place.get_RA() * 15,\n        decRad: D2R * place.get_dec(),\n        zoomDeg: zoomDeg,\n        instant: true\n      });\n\n    },\n\n    optionalZoom(place: Place, factor = 3): number {\n      if (this.needToZoomIn(place, factor)) {\n        console.log('optionalZoom: zoom in');\n      }\n      return this.needToZoomIn(place, factor) ? place.get_zoomLevel() : this.wwtZoomDeg;\n    }\n  },\n\n  watch: {\n    showArrow(show: boolean) {\n      this.updateArrow(show);\n    },\n    showAltAzGrid(show: boolean) {\n      this.wwtSettings.set_showAltAzGrid(show);\n      this.wwtSettings.set_showAltAzGridText(show);\n    },\n    showConstellations(show: boolean) {\n      this.wwtSettings.set_showConstellationLabels(show);\n      this.wwtSettings.set_showConstellationFigures(show);\n      if (show) {\n        this.playing = false;\n        this.$nextTick(() => {\n          this.gotoRADecZoom({\n            raRad: this.wwtRARad,\n            decRad: this.wwtDecRad,\n            zoomDeg: this.wwtZoomDeg > 300 ? this.wwtZoomDeg : 300,\n            instant: false\n          });\n        });\n      }\n    },\n    showHorizon(_show: boolean) {\n      this.updateHorizon();\n    },\n    timeOfDay(_time: { hours: number; minutes: number; seconds: number }) {\n      this.updateForDateTime();\n    },\n    location(loc: LocationRad, oldLoc: LocationRad) {\n      const locationDeg: [number, number] = [R2D * loc.latitudeRad, R2D * loc.longitudeRad];\n      if (this.map) {\n        this.circle?.remove();\n        this.circle = this.circleForLocation(...locationDeg).addTo(this.map as Map); // Not sure, why, but TS is cranky w/o casting\n      }\n\n      if (oldLoc.latitudeRad * loc.latitudeRad < 0) {\n        Grids._altAzTextBatch = null;\n      }\n\n      this.selectedTimezone = tzlookup(...locationDeg);\n      this.updateWWTLocation();\n\n      // We need to let the location update before we redraw the horizon\n      this.$nextTick(() => {\n        this.updateHorizon();\n      });\n    },\n\n    selectedDate() {\n      this.updateForDateTime();\n    },\n    \n    showLocationSelector(show: boolean) {\n      if (show) {\n        this.locationErrorMessage = \"\";\n        this.$nextTick(() => {\n          this.setupLocationSelector();\n        });\n      } else {\n        this.map?.remove();\n        this.circle = null;\n      }\n    },\n    selectedTimezone(newTz: string, oldTz: string) {\n      const newOffset = getTimezoneOffset(newTz);\n      const oldOffset = getTimezoneOffset(oldTz);\n      let newHours = this.timeOfDay.hours + ((newOffset - oldOffset) / (1000*60*60));\n      if (newHours >= 24) {\n        newHours -= 24;\n        this.moveOneDayForward();\n      } else if (newHours < 0) {\n        newHours += 24;\n        this.moveOneDayBackward();\n      }\n      this.timeOfDay.hours = newHours;\n    },\n    \n    playing(play: boolean) {\n      this.clearPlayingInterval();\n      if (play) {\n        this.playCount += 1;\n        this.showImageForDateTime(this.dateTime, true);\n        this.playingIntervalId = setInterval(() => {\n          if (this.selectedTime < Math.max(...this.dates)) {\n            this.selectedTime = this.nextDate();\n          } else {\n            this.playCount += 1;\n            // this.showChart();\n            this.selectedTime = minDate;\n          }\n          this.$nextTick(() => {\n            this.showImageForDateTime(this.dateTime);\n            // this.updateViewForDate();\n          });\n        }, 100);\n      } else if (this.playCount > 0) {\n        this.playCount += 1;\n      }\n    },\n\n    playingImagePath(play: boolean) {\n      this.clearPlayingInterval();\n      if (!play) {\n        return;\n      }\n      const minTime = Math.min(...imageDates) - MILLISECONDS_PER_DAY;\n      const maxTime = Math.max(...imageDates) + MILLISECONDS_PER_DAY;\n\n      if(this.selectedTime < minTime || this.selectedTime >= maxTime){\n        this.selectedTime = minTime;\n      }\n\n      this.updateViewForDate({ zoomDeg: this.initialPosition.zoom });\n\n      this.playingIntervalId = setInterval(() => {\n        if (this.playingWaitCount > 0) {\n          this.playingWaitCount -= 1;\n          return;\n        }\n        if (this.selectedTime < maxTime) {\n          this.selectedTime = this.nextDate();\n          this.$nextTick(() => {\n            const image = this.showImageForDateTime(this.dateTime);\n            this.updateViewForDate();\n            if (image) {\n              this.playingWaitCount = 1;\n            }\n          });\n        } else {\n          this.playingImagePath = false;\n        }\n      }, 500);\n    },\n\n    playCount(count: number) {\n      if (count % 2) {\n        // if playcount is even then we have either finished a loop or paused\n        // this.showChart();\n        return;\n      }\n    },\n  }\n\n  \n});\n\n</script>\n\n<style lang=\"less\">\n@font-face {\n  font-family: \"Highway Gothic Narrow\";\n  src: url(\"https://projects.cosmicds.cfa.harvard.edu/cds-website/fonts/HighwayGothicNarrow.ttf\");\n}\n\nhtml {\n  height: 100%;\n  margin: 0;\n  padding: 0;\n  background-color: #000;\n  overflow: hidden;\n\n  \n  -ms-overflow-style: none;\n  // scrollbar-width: none;\n}\n\nbody {\n  position: fixed;\n  width: 100%;\n  height: 100%;\n  margin: 0;\n  padding: 0;\n  overflow: hidden;\n\n  font-family: Verdana, Arial, Helvetica, sans-serif;\n}\n\n#main-content {\n  position: fixed;\n  width: 100%;\n  height: var(--app-content-height);\n  overflow: hidden;\n\n  transition: height 0.1s ease-in-out;\n}\n\n#app {\n  width: 100%;\n  height: 100%;\n  margin: 0;\n  overflow: hidden;\n  font-size: 11pt;\n\n  .wwtelescope-component {\n    position: absolute;\n    top: 0;\n    width: 100%;\n    height: 100%;\n    border-style: none;\n    border-width: 0;\n    margin: 0;\n    padding: 0;\n  }\n}\n\n\n.fade-enter-active,\n.fade-leave-active {\n  transition: opacity 0.3s;\n}\n.fade-enter,\n.fade-leave-to {\n  opacity: 0;\n}\n\n.modal {\n  position: absolute;\n  top: 0px;\n  left: 0px;\n  width: 100%;\n  height: 100%;\n  z-index: 100;\n  color: #fff;\n  background-color: rgba(0, 0, 0, 0.7);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n#modal-loading {\n  background-color: #000;\n  .container {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: center;\n    .spinner {\n      background-image: url(\"https://projects.cosmicds.cfa.harvard.edu/cds-website/misc/lunar_loader.gif\");\n      background-repeat: no-repeat;\n      background-size: contain;\n      width: 3rem;\n      height: 3rem;\n    }\n    p {\n      margin: 0 0 0 1rem;\n      padding: 0;\n      font-size: 150%;\n    }\n  }\n}\n\n.pointer {\n  cursor: pointer;\n}\n\n.control-icon {\n  pointer-events: auto;\n\n  &:hover {\n    cursor: pointer;\n  }\n\n  &:focus {\n    color: var(--accent-color-2);\n  }\n}\n\n.icon-wrapper {\n  padding:  .5em 1em;\n}\n\n.control-icon-wrapper {\n  color: var(--accent-color);\n  background: #040404;\n  padding: .5em 1em;\n  border: 1px solid var(--accent-color);\n  border-radius: 1.25em;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  pointer-events: auto;\n\n  &:hover {\n    cursor: pointer;\n  }\n\n  &:focus {\n    color: white;\n    border-color: white;\n  }\n}\n#chart-button {\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  pointer-events: auto;\n  margin-bottom: 2em;\n  span {\n    text-transform: none;\n  }\n}\n\n#chart-button.collapse-button {\n  justify-content: right;\n  margin-right: calc(30px + 1em);\n  margin-bottom: 0em;\n  background-color: transparent;\n  span#button-text {\n    display: none;\n  }\n}\n  \n#chart-container {\n  // pointer-events: auto;\n  position: relative;\n  --line-color: white;\n  margin-left: auto;\n  // margin-right: 30px;\n  // box-shadow: -4px 0 0 0 var(--line-color);\n  color: var(--line-color);\n  margin-bottom: -33px;\n  \n  // makes the y-axis border look like an arrow\n  // #plot::before {\n  //   content: \"^\";\n  //   position: absolute;\n  //   font-size: 1.5rem;\n  //   font-weight: bold;\n  //   // transform: translateX(-.51em) translateY(-.55em);\n  //   transform: translateX(-.14rem) translateY(-.52rem);\n  //   transform-origin: 0 0;\n  //   pointer-events: none;\n  // }\n  \n  #chart-title {\n    display: none;\n    text-align: center;\n    font-weight: bold;\n    color: var(--accent-color);\n    @media (max-width: 600px) {\n      font-size: 0.75em;\n    }\n  }\n  \n  #yaxis-text {\n    // outline: 1px solid gold;\n    font-size: 1.15em;\n    max-width: fit-content;\n    position: absolute;\n    top: 50%;\n    transform: translateX(calc(-100% - 0.5em)) translateY(-50%);\n    \n    @media (max-width: 600px) {\n      font-size: 0.75em;\n    }\n    \n    \n    @media (max-width: 400px) {\n      position: relative;\n      top: unset;\n      max-width: none;\n      text-align: center;\n      transform: none;\n      font-size: 1em;\n      // transform: translateX(50%)\n      br {\n        display: none;\n      }\n      \n    }\n  }\n  \n  #xaxis-text {\n    width: 30%;\n    text-align: center;\n    position: absolute;\n    left: 50%;\n    bottom: -2em;\n    // box-shadow: 0px -4px 0px 0px var(--line-color);\n    transform: translate(-50%, 0);\n    padding: 2px 5px;\n    \n    @media (max-width: 600px) {\n      font-size: 0.75em;\n    }\n  }\n  \n  \n}\n\n.icon-wrapper:has(.play-icon-text) {\n  // padding: 0.5em .75em;\n  line-height: 1.15;\n  max-height: 50px;\n}\n\n.play-icon-text {\n  font-size: 1em;\n  margin: 0.5em;\n}\n\n#play-pause-icon-wrapper {\n  color: var(--accent-color);\n  border-color: var(--accent-color);\n  margin-left: 0;\n  font-size: 0.75em;\n  max-height: 50px;\n\n  &:focus {\n    color: white;\n  }\n}\n\n// #play-pause-icon-wrapper > #play-icon-text {\n//   white-space: nowrap;\n// }\n\n// @media (max-width: 600px) {\n//   #play-pause-icon-wrapper {\n//     max-width: unset;\n//   }\n// }\n\n#video-icon-dummy {\n  pointer-events: none;\n  visibility: hidden;\n}\n\n#video-icon-wrapper {\n  display: initial;\n}\n\n#const-icon-wrapper {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  \n  svg {\n    fill: var(--accent-color);\n    stroke: white;\n  }\n}\n\n.active {\n  // background-color: var(--active-button-color);\n  box-shadow: inset 0px 0px 10px 3px var(--accent-color), 0px 0px 10px 3px var(--accent-color);\n}\n\n.top-content {\n  position: absolute;\n  top: 1rem;\n  left: 1rem;\n  width: calc(100% - 2rem);\n  pointer-events: none;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  align-items: flex-start;\n}\n\n\ndiv.opacity-slider-wrapper {\n  display:flex;\n  position:absolute;\n\n  bottom: 1rem;\n  left: 1rem;\n  width: 200px;\n  border-radius: 20px;\n  \n  .opacity-slider {\n    pointer-events: auto;\n\n  }\n  span {\n    color: white;\n    margin-top: 0.75em;\n    font-size: 0.75em;\n  }\n}\n\n\n\n.bottom-content {\n  display: flex;\n  flex-direction: column;\n  position: absolute;\n  bottom: 1rem;\n  right: 1rem;\n  width: calc(100% - 2rem);\n  pointer-events: none;\n  align-items: center;\n  gap: 5px;\n}\n\ndiv#main-content > div {\n  content: \"\";\n  // outline: 1px solid orange;\n}\n\n\n.right-content {\n  position: absolute;\n  right: 1rem;\n  top: 30px;\n}\n\n#tools {\n  z-index: 10;\n  color: #fff;\n  width: 100%;\n\n  .opacity-range {\n    width: 50vw;\n  }\n\n  .clickable {\n    cursor: pointer;\n  }\n\n  select {\n    background: white;\n    color: black;\n    border-radius: 3px;\n  }\n    \n}\n\n.tool-container {\n  display: flex;\n  width: 100%;\n  flex-direction: row;\n  align-items: center;\n  gap: 5px;\n  pointer-events: auto;\n  \n  @media (max-width: 400px) {\n    margin-top: 11px;\n    padding-left: 6px;\n    flex-direction: column-reverse;\n    align-items: center;\n    \n    #play-pause-icon-wrapper {\n      margin-top: 1em;\n    }\n  }\n}\n\n.folder-view {\n  max-height: calc(100% - 150px);\n  width: ~\"min(160px, 35vw)\";\n}\n\n.dp__select {\n  color: var(--accent-color) !important;\n}\n\n.v-selection-control--focus-visible .v-selection-control__input::before {\n  opacity: 0.25;\n}\n\n.ui-text {\n  color: var(--accent-color);\n  background: black;\n  padding: 5px 5px;\n  border: 2px solid black;\n  border-radius: 10px;\n  font-size: calc(0.8em + 0.25vw);\n\n  &:focus {\n    color: white;\n  }\n}\n\n.ui-button {\n  text-align: center;\n  color: var(--accent-color);\n  background: black;\n  padding: 5px 5px;\n  border: 2px solid var(--accent-color);\n  border-radius: 10px;\n  font-size: calc(0.7em + 0.2vw);\n  user-select: none;\n}\n\n.clickable {\n  pointer-events: auto;\n\n  &:hover {\n    cursor: pointer;\n  }\n}\n\n#buttons-container {\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-end;\n  align-self: flex-end;\n}\n\n#center-view-button {\n  margin-bottom: 25px;\n}\n\n#left-buttons {\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n}\n\n.video-wrapper {  \n  display: flex;\n  padding: 10px;\n  height: 100%;\n  max-width: 100%;\n  background: rgba(0, 0, 0, 0.5);\n  backdrop-filter: blur(2px);\n  text-align: center;\n  z-index: 1000;\n  // border: 1px solid white;\n}\n\nvideo, #info-video {\n  margin: auto;\n  height: 90%; \n  // width: fit-content;\n  max-width: 95%;\n  object-fit: contain;\n  aspect-ratio: 9/17;\n}\n\n#video-container {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  max-width: 100%;\n  overflow: hidden;\n  padding: 0px;\n  z-index: 1000;\n}\n\n.bottom-sheet {\n  .v-overlay__content {\n    align-self: flex-end;\n    padding: 0;\n    margin: 0;\n    max-width: 100%;\n    height: 34%;\n  }\n}\n\n#tabs {\n  width: calc(100% - 3em);\n  align-self: left;\n}\n\n.info-text {\n  height: 33vh;\n  padding-bottom: 25px;\n\n  & a {\n    text-decoration: none;\n  }\n  \n  & h3 {\n    margin-bottom: 1em;\n    margin-top: 1em;\n  }\n  \n  & p {\n    margin-bottom: 1em;\n  }\n  \n  & img {\n    display: block;\n    margin-inline: auto;\n    margin-block: 20px;\n    background-color: white;\n    width: 300px;\n  }\n  \n  & ul {\n    margin-left: 1em;\n    margin-block: 0.5em;\n    font-size: 0.95em;\n  }\n  \n  & strong {\n    color: var(--accent-color-2);\n  }\n\n}\n\n.close-icon {\n  position: absolute;\n  top: 10px;\n  right: 10px;\n  z-index: 15;\n\n  &:hover {\n    cursor: pointer;\n  }\n\n  &:focus {\n    color: white;\n    border: 2px solid white;\n  }\n}\n\n.scrollable {\n  overflow-y: auto;\n}\n\n#tab-items {\n  // padding-bottom: 2px !important;\n\n  .v-card-text {\n    font-size: ~\"max(14px, calc(0.7em + 0.3vw))\";\n    padding-top: ~\"max(2vw, 16px)\";\n    padding-left: ~\"max(4vw, 16px)\";\n    padding-right: ~\"max(4vw, 16px)\";\n\n    .end-spacer {\n      height: 25px;\n    }\n  }\n\n}\n\n#close-text-icon {\n  position: absolute;\n  top: 0.25em;\n  right: calc((3em - 0.6875em) / 3); // font-awesome-icons have width 0.6875em\n  color: white;\n}\n\n#location-dialog {\n  .v-overlay__content {\n    width: fit-content !important;\n  }\n}\n\n#location-selector {\n  align-items: center;\n  margin: auto;\n  width: 70vw;\n  height: fit-content;\n}\n\n#map-container {\n  width: 60vw;\n  height: 70vh;\n  margin: auto;\n  padding: 5px 0px;\n  border-radius: 5px;\n}\n\n// This prevents the tabs from having some extra space to the left when the screen is small\n// (around 400px or less)\n.v-tabs:not(.v-tabs--vertical).v-tabs--right>.v-slide-group--is-overflowing.v-tabs-bar--is-mobile:not(.v-slide-group--has-affixes) .v-slide-group__next, .v-tabs:not(.v-tabs--vertical):not(.v-tabs--right)>.v-slide-group--is-overflowing.v-tabs-bar--is-mobile:not(.v-slide-group--has-affixes) .v-slide-group__prev {\n  display: none;\n}\n\n// Styling the slider\n\n#sliderlabel {\n  padding: 5px 10px;\n  margin:0 5px;\n  color:#fff !important;\n  background-color: var(--accent-color-2);\n  overflow: visible;\n}\n\n#slider {\n  width: 100% !important;\n  margin-top: 1rem;\n  margin-bottom: 2rem;\n  margin-inline: 6rem;\n  // display: none;\n  // opacity: 0;\n\n  \n  // &:after {\n  //   content: \"^\";\n  //   position: absolute;\n  //   right: 0;\n  //   line-height: 1;\n  //   font-size: 1.5rem;\n  //   font-weight: bold;\n  //   transform: translateX(0.36rem) translateY(-0.86rem) rotate(90deg);\n  //   color: #ccc;\n  //   transform-origin: 50% 50%;\n  //   pointer-events: none;\n  // }\n}\n\n#opacity-slider {\n  width: 100% !important;\n  margin-inline: 30px;\n  margin-top: 5px;\n  margin-bottom: 10px;\n}\n\n.vue-slider-process {\n  background-color: white !important;\n}\n\n.vue-slider-dot-tooltip-inner {\n  cursor: grab;\n  padding: 4px 10px !important;\n  color: black !important;\n  background-color: var(--accent-color-2) !important;\n  border: 1px solid var(--accent-color-2) !important;\n  opacity: 1 !important;\n\n  &:active {\n    cursor: grabbing;\n  }\n}\n\n.vue-slider-dot-handle {\n  cursor: grab;\n  background-color: var(--accent-color-2) !important;\n  border: 1px solid black !important;\n\n  &:active {\n    cursor: grabbing;\n  }\n}\n\n// adds a vertical line to track it better\n// .tool-container {\n// .vue-slider-dot-handle::before {\n//   content:\"\";\n//   --length: 200px;\n//   position: absolute;\n//   border: 1px solid white;\n//   width: 100%;\n//   height: var(--length);\n//   transform: translateY(calc(-1 * var(--length)));\n// }\n// }\n\n\n.mark-line {\n  position: absolute;\n  height: 20px;\n  width: 2px;\n  margin: 0;\n  background-color: var(--accent-color-2);\n  transform: translateX(-50%) translateY(calc(-50% + 2px));\n\n}\n\n.left-content {\n  display: none !important;\n  position: absolute;\n  left: 1rem;\n  top: 1rem;\n  pointer-events: none;\n  height: calc(100% - 2rem);\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n}\n\n@media(max-width: 600px) {\n  .mark-line {\n    display: none;\n  }\n\n  #location-selector {\n    width: 80vw;\n    height: 85vh;\n  }\n\n  #video-container {\n    display: inherit;\n  }\n\n  #map-container {\n    width: 70vw;\n  }\n}\n\n\n#splash-overlay {\n  position: fixed;\n  //  vue components are flex, so we can easy center\n  align-items: center;\n  justify-content: center;\n  font-size: min(8vw,7vh);\n\n}\n\n\n#splash-screen {\n  // for some reason the view props don't work\n  // for max-width and max-height\n  // splash image size 1908  2040 px\n  display: flex;\n  flex-direction: column;\n  max-height: calc(min(90vh,2040px)); \n  max-width: 90vw;\n  aspect-ratio: 8 / 10;\n  background-color: rgba(0, 0, 0, 1);\n  backdrop-filter: blur(5px);\n  align-content: center;\n  justify-content: space-around;\n  \n  border-radius: 10%;\n  border: min(1.2vw,0.9vh) solid var(--accent-color);\n  overflow: auto;\n  font-family: 'Highway Gothic Narrow', 'Roboto', sans-serif;\n  \n  div {\n    margin-inline: auto;\n    text-align: center;\n  }\n  // make a paragraph inside the div centered horizontally and vertically\n  p {\n    font-family: 'Highway Gothic Narrow', 'Roboto', sans-serif;\n    font-weight: bold;\n    vertical-align: middle;\n  }\n\n    \n  p.highlight {\n    color: var(--accent-color-2);\n    filter: drop-shadow(0 0 .15em var(--accent-color-2));\n    // make uppercase\n    font-size: 1.15em;\n    text-transform: uppercase;\n    font-weight: bolder;\n  }\n  \n  p.small {\n    font-size: .75em;\n    font-weight: bold;\n  }\n\n  #first-splash-row {\n    width: 100%;\n  }\n\n  #close-splash-button {\n    text-align: end;\n    margin-top: 0%;\n    margin-right: 6%;\n    color: var(--accent-color-2);\n    font-size: min(8vw, 5vh);\n\n    &:hover {\n      cursor: pointer;\n    }\n  }\n\n  #splash-screen-text {\n    // in the grid, the text is in the 2nd column\n    display: flex;\n    flex-direction: column;\n    \n  }\n\n  #splash-screen-guide {\n    font-size: .6em;\n    line-height: 2em;\n    width: 75%;\n    \n    .svg-inline--fa {\n      color:var(--accent-color);\n      margin: 0 10px;\n    }\n  }\n\n  #splash-screen-acknowledgements {\n    font-size: .5em;\n    width: 70%; \n  }\n\n  #splash-screen-icons {\n    margin-top: 0.5em;\n    margin-bottom: 0.75em;\n    \n    #credits {\n      background-color: transparent;\n      border: 2px solid transparent;\n    }\n  }\n  \n  a {\n    text-decoration: none;\n    color: var(--accent-color-3);\n    white-space: nowrap;\n  }\n    \n}\n\nul.text-list {\n  margin-left:1em;\n  margin-top: 0.5em;\n}\n\ndiv.credits {\n  font-size: 0.8em;\n}\n\n// For styling the time picker\n// See more info here:\n// https://vue3datepicker.com/customization/theming/\n.dp__theme_dark {\n  --dp-background-color: black !important;\n}\n\n.dp__main {\n  width: 175px;\n}\n\n* {\n  --v-input-control-height: 40px;\n}\n\n.gallery, .default-activator, .gallery-item {\n  border: 1px solid var(--accent-color-2) !important;\n}\n\n.gallery-content img {\n  box-shadow: 0 0 1px var(--accent-color-2);\n  margin-top: 2px;\n}\n\n.dipper_svg_icon:focus {\n  color: var(--accent-color-2) !important;\n}\n\n</style>\n","// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-nocheck\n\n/* eslint-disable */\n\nimport {\n  Color, Colors, Constellations, Coordinates, Grids,\n  LayerManager, Matrix3d, PushPin, Settings, SpaceTimeController,\n  SpreadSheetLayer, Text3d, Text3dBatch, URLHelpers, Vector2d,\n  Vector3d, WWTControl\n} from \"@wwtelescope/engine\";\n\nexport function drawSkyOverlays() {\n  if (Settings.get_active().get_showConstellationLabels()) {\n    Constellations.drawConstellationNames(this.renderContext, 1, Colors.get_yellow());\n  }\n  if (Settings.get_active().get_showConstellationFigures()) {\n    if (WWTControl.constellationsFigures == null) {\n      WWTControl.constellationsFigures = Constellations.create('Constellations', URLHelpers.singleton.engineAssetUrl('figures.txt'), false, false, false);\n    }\n    WWTControl.constellationsFigures.draw(this.renderContext, false, 'UMA', false);\n  }\n  if (Settings.get_active().get_showAltAzGrid()) {\n    const altAzColor = Color.fromArgb(1, 3, 92, 134);\n    Grids.drawAltAzGrid(this.renderContext, 1, altAzColor);\n    if (Settings.get_active().get_showAltAzGridText()) {\n      Grids.drawAltAzGridText(this.renderContext, 1, altAzColor);\n    }\n  }\n}\n\nexport function initializeConstellationNames() {\n  if (Constellations.constellationCentroids == null) {\n    return;\n  }\n  const textSize = 50;\n  Constellations._namesBatch = new Text3dBatch(textSize);\n  Object.keys(Constellations.constellationCentroids).forEach(key => {\n    const centroid = Constellations.constellationCentroids[key];\n    const center = Coordinates.raDecTo3dAu(centroid.get_RA(), centroid.get_dec(), 1);\n    const up = Vector3d.create(0, 1, 0);\n    let name = centroid.get_name();\n    if (centroid.get_name() === 'Triangulum Australe') {\n      name = name.replace(\" \", \"\\n   \");\n    }\n    Constellations._namesBatch.add(new Text3d(center, up, name, textSize, 0.000125));\n  });\n};\n\nexport function makeAltAzGridText() {\n  if (Grids._altAzTextBatch == null) {\n    const glyphHeight = 70;\n    Grids._altAzTextBatch = new Text3dBatch(glyphHeight);\n    const sign = SpaceTimeController.get_location().get_lat() < 0 ? -1 : 1;\n    const alt = 0.03 * sign;\n    const up = Vector3d.create(0, sign, 0);\n    const directions = [\n      [[0, alt, -1], \"N\"],\n      [[-1, alt, 0], \"E\"],\n      [[0, alt, 1], \"S\"],\n      [[1, alt, -0.0095], \"V\"],\n      [[1, alt, 0.0095], \"V\"]\n    ]\n    directions.forEach(([v, text]) => {\n      Grids._altAzTextBatch.add(new Text3d(Vector3d.create(...v), up, text, 75, 0.00018));\n    });\n  }\n}\n\nexport function drawSpreadSheetLayer(renderContext, opacity, flat) {\n  var device = renderContext;\n  if (this.version !== this.lastVersion) {\n    this.cleanUp();\n  }\n  this.lastVersion = this.version;\n  if (this.bufferIsFlat !== flat) {\n    this.cleanUp();\n    this.bufferIsFlat = flat;\n  }\n  if (this.dirty) {\n    this.prepVertexBuffer(device, opacity);\n  }\n  var jNow = SpaceTimeController.get_jNow() - SpaceTimeController.utcToJulian(this.baseDate);\n  var adjustedScale = this.scaleFactor * 3;\n  if (flat && this.astronomical && (this._markerScale$1 === 1)) {\n    adjustedScale = (this.scaleFactor / (renderContext.viewCamera.zoom / 360));\n  }\n  if (this.triangleList2d != null) {\n    this.triangleList2d.decay = this.decay;\n    this.triangleList2d.sky = this.get_astronomical();\n    this.triangleList2d.timeSeries = this.timeSeries;\n    this.triangleList2d.jNow = jNow;\n    this.triangleList2d.draw(renderContext, opacity * this.get_opacity(), 1);\n  }\n  if (this.triangleList != null) {\n    this.triangleList.decay = this.decay;\n    this.triangleList.sky = this.get_astronomical();\n    this.triangleList.timeSeries = this.timeSeries;\n    this.triangleList.jNow = jNow;\n    this.triangleList.draw(renderContext, opacity * this.get_opacity(), 1);\n  }\n  if (this.pointList != null) {\n    this.pointList.depthBuffered = false;\n    this.pointList.showFarSide = this.get_showFarSide();\n    this.pointList.decay = (this.timeSeries) ? this.decay : 0;\n    this.pointList.sky = this.get_astronomical();\n    this.pointList.timeSeries = this.timeSeries;\n    this.pointList.jNow = jNow;\n    this.pointList.scale = (this._markerScale$1 === 1) ? adjustedScale : -adjustedScale;\n    switch (this._plotType$1) {\n      case 0:\n        this.pointList.draw(renderContext, opacity * this.get_opacity(), false);\n        break;\n      case 2:\n        this.pointList.drawTextured(renderContext, SpreadSheetLayer.get__circleTexture$1().texture2d, opacity * this.get_opacity());\n        break;\n      case 1:\n        this.pointList.drawTextured(renderContext, PushPin.getPushPinTexture(19), opacity * this.get_opacity());\n        break;\n      case 3:\n        this.pointList.drawTextured(renderContext, PushPin.getPushPinTexture(35), opacity * this.get_opacity());\n        break;\n      case 5:\n      case 4:\n        this.pointList.drawTextured(renderContext, PushPin.getPushPinTexture(this._markerIndex$1), opacity * this.get_opacity());\n        break;\n      default:\n        break;\n    }\n  }\n  if (this.lineList != null) {\n    this.lineList.sky = this.get_astronomical();\n    this.lineList.decay = this.decay;\n    this.lineList.timeSeries = this.timeSeries;\n    this.lineList.jNow = jNow;\n    this.lineList.drawLines(renderContext, opacity * this.get_opacity());\n  }\n  if (this.lineList2d != null) {\n    this.lineList2d.sky = this.get_astronomical();\n    this.lineList2d.decay = this.decay;\n    this.lineList2d.timeSeries = this.timeSeries;\n    this.lineList2d.showFarSide = this.get_showFarSide();\n    this.lineList2d.jNow = jNow;\n    this.lineList2d.drawLines(renderContext, opacity * this.get_opacity());\n  }\n  return true;\n}\n\nexport function layerManagerDraw(renderContext, opacity, astronomical, referenceFrame, nested, cosmos) {\n  if (!(referenceFrame in LayerManager.get_allMaps())) {\n    return;\n  }\n  var thisMap = LayerManager.get_allMaps()[referenceFrame];\n  if (!thisMap.enabled || (!thisMap.layers.length && !(thisMap.frame.showAsPoint || thisMap.frame.showOrbitPath))) {\n    return;\n  }\n  var matOld = renderContext.get_world();\n  var matOldNonRotating = renderContext.get_worldBaseNonRotating();\n  var oldNominalRadius = renderContext.get_nominalRadius();\n  if ((thisMap.frame.reference === 18 | thisMap.frame.reference === 18) === 1) {\n    thisMap.computeFrame(renderContext);\n    if (thisMap.frame.referenceFrameType !== 1 && thisMap.frame.referenceFrameType !== 2) {\n      renderContext.set_world(Matrix3d.multiplyMatrix(thisMap.frame.worldMatrix, renderContext.get_world()));\n    }\n    else {\n      renderContext.set_world(Matrix3d.multiplyMatrix(thisMap.frame.worldMatrix, renderContext.get_worldBaseNonRotating()));\n    }\n    renderContext.set_nominalRadius(thisMap.frame.meanRadius);\n  }\n  //console.log(\"========\");\n  for (const layer of LayerManager.get_allMaps()[referenceFrame].layers) {\n    if (layer.enabled) {\n      //console.log(layer);\n      var layerStart = SpaceTimeController.utcToJulian(layer.get_startTime());\n      var layerEnd = SpaceTimeController.utcToJulian(layer.get_endTime());\n      var fadeIn = SpaceTimeController.utcToJulian(layer.get_startTime()) - ((layer.get_fadeType() === 1 || layer.get_fadeType() === 3) ? (layer.get_fadeSpan() / 864000000) : 0);\n      var fadeOut = SpaceTimeController.utcToJulian(layer.get_endTime()) + ((layer.get_fadeType() === 2 || layer.get_fadeType() === 3) ? (layer.get_fadeSpan() / 864000000) : 0);\n      if (SpaceTimeController.get_jNow() > fadeIn && SpaceTimeController.get_jNow() < fadeOut) {\n        var fadeOpacity = 1;\n        if (SpaceTimeController.get_jNow() < layerStart) {\n          fadeOpacity = ((SpaceTimeController.get_jNow() - fadeIn) / (layer.get_fadeSpan() / 864000000));\n        }\n        if (SpaceTimeController.get_jNow() > layerEnd) {\n          fadeOpacity = ((fadeOut - SpaceTimeController.get_jNow()) / (layer.get_fadeSpan() / 864000000));\n        }\n        layer.set_astronomical(astronomical);\n        layer.draw(renderContext, opacity * fadeOpacity, cosmos);\n      }\n    }\n  }\n  renderContext.set_nominalRadius(oldNominalRadius);\n  renderContext.set_world(matOld);\n  renderContext.set_worldBaseNonRotating(matOldNonRotating);\n};\n\nfunction transformWorldPointToPickSpace(wwtControl, worldPoint, backBufferWidth, backBufferHeight) {\n  var m = Matrix3d.multiplyMatrix(wwtControl.renderContext.get_world(), wwtControl.renderContext.get_view());\n  var p = new Vector2d();\n  var vz = worldPoint.x * m.get_m13() + worldPoint.y * m.get_m23() + worldPoint.z * m.get_m33();\n  var vx = (worldPoint.x * m.get_m11() + worldPoint.y * m.get_m21() + worldPoint.z * m.get_m31()) / vz;\n  var vy = -(worldPoint.x * m.get_m12() + worldPoint.y * m.get_m22() + worldPoint.z * m.get_m32()) / vz;\n  p.x = (1 + wwtControl.renderContext.get_projection().get_m11() * vx) * (backBufferWidth / 2);\n  p.y = (1 + wwtControl.renderContext.get_projection().get_m22() * vy) * (backBufferHeight / 2);\n  return p;\n}\n\nexport function getScreenPosForCoordinates(wwtControl, ra, dec) {\n  var pt = Vector2d.create(ra, dec);\n  var cartesian = Coordinates.sphericalSkyToCartesian(pt);\n  var result = transformWorldPointToPickSpace(wwtControl, cartesian, wwtControl.renderContext.width, wwtControl.renderContext.height);\n  return result;\n}\n","export const m101DataList = `pngFilename,objectName,wtmlName,Date_Time,Date,Bandpass,Ra,Dec,magnitude\n20230515_M101_Aligned-0001.cutout.png,SN2023ixf,20230515_M101_Aligned-0001,2460079.744,2023-05-15T05:51:21.600Z,Clear_V,210.80242916666666,54.34875,15.749\n20230516_M101_Aligned-0002.cutout.png,SN2023ixf,20230516_M101_Aligned-0002,2460080.744,2023-05-16T05:51:21.600Z,Clear_V,210.80242916666666,54.34875,15.707\n20230518_M101_Aligned-0003.cutout.png,SN2023ixf,20230518_M101_Aligned-0003,2460082.744,2023-05-18T05:51:21.600Z,Clear_V,210.80242916666666,54.34875,15.313\n20230520_M101_Aligned-0004.cutout.png,SN2023ixf,20230520_M101_Aligned-0004,2460084.734,2023-05-20T05:36:57.600Z,Clear_V,210.80242916666666,54.34875,13.522\n20230521_M101_Aligned-0005.cutout.png,SN2023ixf,20230521_M101_Aligned-0005,2460085.734,2023-05-21T05:36:57.600Z,Clear_V,210.80242916666666,54.34875,11.887\n20230522_M101_Aligned-0006.cutout.png,SN2023ixf,20230522_M101_Aligned-0006,2460086.734,2023-05-22T05:36:57.600Z,Clear_V,210.80242916666666,54.34875,11.342\n20230523_M101_Aligned-0007.cutout.png,SN2023ixf,20230523_M101_Aligned-0007,2460087.725,2023-05-23T05:24:00.000Z,Clear_V,210.80242916666666,54.34875,11.143\n20230524_M101_Aligned-0008.cutout.png,SN2023ixf,20230524_M101_Aligned-0008,2460088.725,2023-05-24T05:24:00.000Z,Clear_V,210.80242916666666,54.34875,11.089\n20230525_M101_Aligned-0009.cutout.png,SN2023ixf,20230525_M101_Aligned-0009,2460089.721,2023-05-25T05:18:14.400Z,Clear_V,210.80242916666666,54.34875,11.093\n20230526_M101_Aligned-0010.cutout.png,SN2023ixf,20230526_M101_Aligned-0010,2460090.721,2023-05-26T05:18:14.400Z,Clear_V,210.80242916666666,54.34875,11.12\n20230527_M101_Aligned-0011.cutout.png,SN2023ixf,20230527_M101_Aligned-0011,2460091.721,2023-05-27T05:18:14.400Z,Clear_V,210.80242916666666,54.34875,11.129\n20230528_M101_Aligned-0012.cutout.png,SN2023ixf,20230528_M101_Aligned-0012,2460092.711,2023-05-28T05:03:50.400Z,Clear_V,210.80242916666666,54.34875,11.143\n20230529_M101_Aligned-0013.cutout.png,SN2023ixf,20230529_M101_Aligned-0013,2460093.711,2023-05-29T05:03:50.400Z,Clear_V,210.80242916666666,54.34875,11.151\n20230530_M101_Aligned-0014.cutout.png,SN2023ixf,20230530_M101_Aligned-0014,2460094.711,2023-05-30T05:03:50.400Z,Clear_V,210.80242916666666,54.34875,11.146\n20230531_M101_Aligned-0015.cutout.png,SN2023ixf,20230531_M101_Aligned-0015,2460095.711,2023-05-31T05:03:50.400Z,Clear_V,210.80242916666666,54.34875,11.149`;\n\n\nexport const m101DataCount = 15;","export const aavsoLightCurve = `timestamp,magnitude\n1684582049000,13.385333333333335\n1684625249000,11.972410256410257\n1684668449000,11.845833333333333\n1684711649000,11.330348314606741\n1684754849000,11.309210280373833\n1684798049000,11.121178125\n1684841249000,11.101986301369863\n1684884449000,11.12956610878661\n1684927649000,11.098957446808509\n1684970849000,11.043252688172043\n1685014049000,11.054695652173914\n1685057249000,11.063711814345991\n1685100449000,11.082699999999999\n1685143649000,11.082035862068965\n1685186849000,11.116285714285713\n1685230049000,11.09607655172414\n1685273249000,11.128023529411765\n1685316449000,11.09654761904762\n1685359649000,11.151816091954023\n1685402849000,11.098493506493506\n1685446049000,11.095949999999`;","import { render } from \"./M101SN.vue?vue&type=template&id=5fe6317c&ts=true\"\nimport script from \"./M101SN.vue?vue&type=script&lang=ts\"\nexport * from \"./M101SN.vue?vue&type=script&lang=ts\"\n\nimport \"./M101SN.vue?vue&type=style&index=0&id=5fe6317c&lang=less\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, renderList as _renderList, Fragment as _Fragment, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass, withKeys as _withKeys, withCtx as _withCtx, normalizeStyle as _normalizeStyle } from \"vue\"\n\nconst _hoisted_1 = { class: \"wrapper\" }\nconst _hoisted_2 = {\n  key: 0,\n  src: \"https://johnarban.github.io/wwt_interactives/images/m101/hubble_m101/thumb.jpg\"\n}\nconst _hoisted_3 = {\n  key: 1,\n  class: \"thumbnail-header\"\n}\nconst _hoisted_4 = { key: 0 }\nconst _hoisted_5 = { key: 1 }\nconst _hoisted_6 = {\n  key: 2,\n  class: \"thumbnail-header\"\n}\nconst _hoisted_7 = { id: \"items\" }\nconst _hoisted_8 = { key: 0 }\nconst _hoisted_9 = [\"id\"]\nconst _hoisted_10 = { class: \"item-thumbnails\" }\nconst _hoisted_11 = [\"src\", \"alt\", \"onClick\"]\nconst _hoisted_12 = [\"onClick\"]\nconst _hoisted_13 = { class: \"slider-container\" }\nconst _hoisted_14 = [\"onInput\", \"onKeyup\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_font_awesome_icon = _resolveComponent(\"font-awesome-icon\")!\n  const _component_transition_expand = _resolveComponent(\"transition-expand\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: \"fv-root\",\n    style: _normalizeStyle(_ctx.cssVars)\n  }, [\n    (_ctx.expandable)\n      ? (_openBlock(), _createElementBlock(\"div\", {\n          key: 0,\n          id: \"expand-row\",\n          class: \"bordered pa-1\",\n          onClick: _cache[0] || (_cache[0] = ($event: any) => (_ctx.expanded = !_ctx.expanded))\n        }, [\n          _createElementVNode(\"div\", _hoisted_1, [\n            (!_ctx.thumbnails)\n              ? (_openBlock(), _createElementBlock(\"img\", _hoisted_2))\n              : _createCommentVNode(\"\", true),\n            (_ctx.expanded)\n              ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, [\n                  _cache[2] || (_cache[2] = _createTextVNode(\" Click \")),\n                  (_ctx.thumbnails)\n                    ? (_openBlock(), _createElementBlock(\"span\", _hoisted_4, \"thumbnail\"))\n                    : (_openBlock(), _createElementBlock(\"span\", _hoisted_5, \"date\")),\n                  _cache[3] || (_cache[3] = _createTextVNode(\" to see image in sky \"))\n                ]))\n              : _createCommentVNode(\"\", true),\n            (!_ctx.expanded)\n              ? (_openBlock(), _createElementBlock(\"div\", _hoisted_6, \" Image Controls \"))\n              : _createCommentVNode(\"\", true)\n          ]),\n          _createVNode(_component_font_awesome_icon, {\n            id: \"expand-icon\",\n            icon: _ctx.expanded ? 'chevron-up' : 'chevron-down'\n          }, null, 8, [\"icon\"])\n        ]))\n      : _createCommentVNode(\"\", true),\n    _createVNode(_component_transition_expand, null, {\n      default: _withCtx(() => [\n        _createElementVNode(\"div\", _hoisted_7, [\n          (_ctx.items !== null && _ctx.expanded)\n            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_8, [\n                (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.items, (item) => {\n                  return (_openBlock(), _createElementBlock(\"div\", {\n                    class: _normalizeClass(['bordered', 'item', _ctx.lastSelectedItem === item ? 'selected' : '']),\n                    key: item.get_name(),\n                    id: `fv-${item.get_name()}`\n                  }, [\n                    _createElementVNode(\"div\", _hoisted_10, [\n                      (_ctx.thumbnails)\n                        ? (_openBlock(), _createElementBlock(\"img\", {\n                            key: 0,\n                            class: \"thumbnail-images\",\n                            src: item.get_thumbnailUrl(),\n                            alt: item.get_name(),\n                            onClick: () => _ctx.selectItem(item)\n                          }, null, 8, _hoisted_11))\n                        : _createCommentVNode(\"\", true),\n                      (_ctx.showName)\n                        ? (_openBlock(), _createElementBlock(\"div\", {\n                            key: 1,\n                            class: _normalizeClass([\"item-name\", ['thumbnail']]),\n                            onClick: () => _ctx.selectItem(item)\n                          }, _toDisplayString(_ctx.displayName(item)), 9, _hoisted_12))\n                        : _createCommentVNode(\"\", true)\n                    ]),\n                    _createElementVNode(\"div\", _hoisted_13, [\n                      (_ctx.sliders)\n                        ? (_openBlock(), _createElementBlock(\"input\", {\n                            key: 0,\n                            class: \"opacity-range\",\n                            type: \"range\",\n                            value: \"0\",\n                            onInput: (e) => _ctx.onSliderInputChanged(e , item),\n                            onKeyup: _withKeys(() => _ctx.selectItem(item), [\"enter\"]),\n                            onMouseup: _cache[1] || (_cache[1] = () => { _ctx.lastOpacityChanged = null})\n                          }, null, 40, _hoisted_14))\n                        : _createCommentVNode(\"\", true)\n                    ])\n                  ], 10, _hoisted_9))\n                }), 128))\n              ]))\n            : _createCommentVNode(\"\", true)\n        ])\n      ]),\n      _: 1\n    })\n  ], 4))\n}","<template>\n  <div\n    class=\"fv-root\"\n    :style=\"cssVars\"\n  >\n    <div\n      v-if=\"expandable\"\n      id=\"expand-row\"\n      class=\"bordered pa-1\"\n      @click=\"expanded = !expanded\"\n    >\n      <div class=\"wrapper\">\n        <img\n          src=\"https://johnarban.github.io/wwt_interactives/images/m101/hubble_m101/thumb.jpg\" v-if=\"!thumbnails\"\n        />\n        <div class=\"thumbnail-header\" v-if=\"expanded\">\n          Click <span v-if=\"thumbnails\">thumbnail</span><span v-else>date</span> to see image in sky\n        </div>\n        <div class=\"thumbnail-header\" v-if=\"!expanded\">\n          Image Controls\n        </div>\n\n      </div>\n      <font-awesome-icon\n        id=\"expand-icon\"\n        :icon=\"expanded ? 'chevron-up' : 'chevron-down'\"\n      />\n    </div>\n    <transition-expand>\n      <div id=\"items\">\n        <div\n          v-if=\"items !== null && expanded\"\n        >\n          <div\n            :class=\"['bordered', 'item', lastSelectedItem === item ? 'selected' : '']\"\n            v-for=\"item of items\"\n            :key=\"item.get_name()\"\n            :id=\"`fv-${item.get_name()}`\"\n          >\n            <div\n              class=\"item-thumbnails\"\n            >\n              <img\n                class=\"thumbnail-images\"\n                v-if=\"thumbnails\"\n                :src=\"item.get_thumbnailUrl()\"\n                :alt=\"item.get_name()\"\n                @click=\"() => selectItem(item)\"\n              />\n              <div\n                v-if = \"showName\"\n                class=\"item-name\"\n                :class=\"['thumbnail']\"\n                @click=\"() => selectItem(item)\"\n              >\n                {{ displayName(item) }}\n              </div>\n            </div>\n            <div class=\"slider-container\">\n              <input\n                v-if=\"sliders\"\n                class=\"opacity-range\"\n                type=\"range\"\n                value=\"0\"\n                @input=\"(e: Event) => onSliderInputChanged(e , item)\"\n                @keyup.enter=\"() => selectItem(item)\"\n                @mouseup=\"() => { lastOpacityChanged = null}\"\n              />\n            \n              <!--\n              <label class=\"switch\">\n                <input \n                  type=\"checkbox\"\n                  :title=\"item.get_name()\"\n                  @change=\"(e) => onToggleImage(e, item)\"\n                  >\n                <span class=\"slider\"></span>\n              </label>\n              -->\n            </div>\n\n          </div>\n        </div>\n      </div>\n    </transition-expand>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, isProxy, toRaw, PropType } from \"vue\";\nimport { Folder, FolderUp, Place, Imageset } from \"@wwtelescope/engine\";\nimport { Thumbnail } from \"@wwtelescope/engine-types\";\nimport { WWTAwareComponent } from \"@wwtelescope/engine-pinia\";\n\ntype FlexDirection = \"row\" | \"column\";\n\nexport default defineComponent({\n  extends: WWTAwareComponent,\n\n  props: {\n    rootFolder: {\n      type: Object as PropType<Folder>,\n      required: true\n    },\n    flexDirection: {\n      type: String as PropType<FlexDirection>,\n      default: \"column\"\n    },\n    expandable: {\n      type: Boolean,\n      default: false\n    },\n    sliders: {\n      type: Boolean,\n      default: false\n    },\n    scrolling: {\n      type: Boolean,\n      default: false\n    },\n    startFirstSelected: {\n      type: Boolean,\n      default: false\n    },\n    thumbnails: {\n      type: Boolean,\n      default: true\n    },\n    open: {\n      type: Boolean,\n      default: false\n    },\n    incomingItemSelect: {\n      type: Object as PropType<Thumbnail>,\n      default: null\n    },\n    showName: {\n      type: Boolean,\n      default: true\n    },\n\n    itemNames: {\n      type: Object as PropType<Record<string, string>>,\n      default: () => ({})\n    },\n\n    sortBy: {\n      type: Object as PropType<Record<string, number>>,\n      default: () => ({})\n    },\n\n    reversed: {\n      type: Boolean,\n      default: false\n    }\n    \n  },\n\n  data() {\n    return {\n      items: [] as Thumbnail[],\n      originalOrder: [] as string[],\n      lastSelectedItem: null as Thumbnail | null,\n      opacities: {} as Record<string, number>,\n      expanded: this.open,\n      lastOpacityChanged: null as Thumbnail | null,\n      sorted: false\n    };\n  },\n\n  created() {\n    this.populate();\n    this.originalOrder = this.items.map((item) => item.get_name());\n    if (this.validSortBy) { this.sortItems(); this.sorted=true; }\n  },\n\n  methods: {\n    populate(): void {\n      for (const c of this.rootFolder.get_children() ?? []) {\n        const cr = isProxy(c) ? toRaw(c) : c;\n        if (cr instanceof Place) {\n          this.items.push(cr);\n        }\n      }\n      if (this.startFirstSelected && this.items?.length > 0) {\n        this.selectItem(this.items[0]);\n      }\n    },\n    showSlider(item: Thumbnail | null): boolean {\n      return item instanceof Imageset;\n    },\n\n    sortItems(): void {\n      if (!this.validSortBy) {\n        // restore original order\n        this.items.sort((a, b) => {\n          const aIndex = this.originalOrder.indexOf(a.get_name());\n          const bIndex = this.originalOrder.indexOf(b.get_name());\n          return aIndex - bIndex;\n        });\n        return;\n      }\n      this.items.sort((a, b) => {\n        const aIndex = this.sortBy[a.get_name()] ?? this.items.length;\n        const bIndex = this.sortBy[b.get_name()] ?? this.items.length;\n        return this.reversed ? bIndex - aIndex : aIndex - bIndex;\n      });\n    },\n    \n    selectItem(item: Thumbnail): void {\n      if (!this.sliders && (item === this.lastSelectedItem)) {\n        this.lastSelectedItem = null;\n        this.$emit('select', null);\n        return;\n      }\n      this.lastSelectedItem = item;\n      if (item instanceof Folder || item instanceof FolderUp) {\n        this.items = item.get_children() ?? [];\n      } else {\n        this.$emit('select', item);\n      }\n    },\n\n    displayName(item: Thumbnail): string {\n      // check if items names is empty or a function\n      if (this.validItemNames && Object.keys(this.itemNames).includes(item.get_name())) {\n        return this.itemNames[item.get_name()];\n      }\n      console.log(\"item name\", item.get_name());\n      return item.get_name();\n    },\n    \n    onSliderInputChanged(e: Event, item: Thumbnail) {\n      let dragging = false;\n      if (this.lastOpacityChanged == item) {\n        dragging = true;\n      } else {\n        this.lastOpacityChanged = item;\n      }\n      this.$emit('opacity', item, (e.target as HTMLInputElement).value, !dragging);\n    },\n\n    onToggleImage(e: Event, item: Thumbnail) {\n      this.$emit('toggle', item, (e.target as HTMLInputElement).checked);\n    },\n\n    scrollToItem(id: string) {\n      const element = document.getElementById(id);\n      if (element !== null) {\n        const container = document.getElementById(\"items\");\n        if (container !== null) {\n          const y = Math.max(Math.min(element.offsetTop - element.clientHeight * 1.5, container.scrollHeight), 0);\n          container.scrollTo(0, y);\n        }\n      }\n    },\n  },\n\n  computed: {\n    cssVars() {\n      return {\n        \"--flex-direction\": this.flexDirection\n      };\n    },\n\n    isMobile() {\n      return (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent));\n    },\n\n    validItemNames(): boolean {\n      const length = Object.keys(this.itemNames).length;\n      \n      if (length == 0) { return false; }\n      \n      if ((length - this.items.length) != 0) {\n        console.warn(`itemNames length (${length}) does not match items length (${this.items.length})`);\n      }\n\n      // this.items.forEach((item) => {\n      //   if (!Object.keys(this.itemNames).includes(item.get_name())) {\n      //     console.warn(`itemNames does not contain ${item.get_name()}`);\n      //   }\n      // });\n      \n      return length > 0;\n    },\n\n    validSortBy(): boolean {\n      let valid = true;\n      const sortKeys = Object.keys(this.sortBy);\n      for (const item of this.items) {\n        if (!sortKeys.includes(item.get_name())) {\n          console.warn(`sortBy does not contain ${item}`);\n          valid = false;\n        }\n      }\n      return valid;\n    },\n  \n  },\n\n  watch: {\n    incomingItemSelect() {\n      if (this.incomingItemSelect != null) {\n        this.lastSelectedItem = this.incomingItemSelect;\n        if (this.scrolling) {\n          this.scrollToItem(`fv-${this.incomingItemSelect.get_name()}`);\n        }\n      } else {\n        this.lastSelectedItem = null;\n      }\n    },\n\n    sortBy() {\n      this.sortItems();\n    },\n  }\n});\n</script>\n\n<style scoped lang=\"less\">\n.fv-root {\n  display: flex;\n  flex-direction: var(--flex-direction);\n  overflow-x: auto;\n  overflow-y: auto;\n  pointer-events: auto;\n  background: rgba(0, 0, 0, 0.5);\n  // outline: 1px solid rgb(4, 214, 175);\n  padding: 3px;\n  border-radius: 2px;\n}\n\n#items {\n  height: 100%;\n  overflow-y: auto;\n  &::-webkit-scrollbar {\n    -webkit-appearance: none;\n    width: 15px;\n  }\n  &::-webkit-scrollbar-track {\n    background: rgb(0, 0, 0,0.5);\n    // border: 5px solid red;\n  }\n  &::-webkit-scrollbar-thumb {\n    background: rgba(100, 100, 100, 0.5);\n    width: 10px;\n    border: 3px solid black;\n    border-radius: 10px;\n  }\n  //width: 100%;\n  //justify-content: space-around;\n}\n\n.item {\n  display: flex;\n  flex-direction: column;\n  padding: 3px;\n  width: 100%;\n  cursor: pointer;\n  pointer-events: auto;\n  margin: .5em 0;\n  & img {\n    width: 100%;\n    height: ~\"min(45px, 7.5vh)\";\n    object-fit: cover;\n    border-radius: 2px;\n  }\n\n  & input[type=range] {\n    width: calc(min(12vh, 100px));\n  }\n  &.selected {\n    border: 1px solid #D60493;\n  }\n}\n\n\n.selected .item-name {\n  color: #fb46c2;\n}\n.item-name {\n  position: absolute;\n  top:5px;\n  right:5px;\n  margin:0px 5px;\n  text-align: right;\n  color: white;\n  font-size: 0.7em;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  white-space: nowrap;\n  text-shadow: 0px 0px 5px black;\n}\n\n.thumbnail-header {\n  color: white;\n  width: 100%;\n  font-size: 0.7rem;\n  padding: 4px 8px;\n}\n\n.item-thumbnails {\n  position: relative;\n  display: inline-block;\n  height: 45px;\n}\n\n.thumbnail-images {\n  width: 100px;\n  position: absolute;\n  height: 45px;\n}\n\n.bordered {\n  border: 1px solid rgb(68, 68, 68);\n  // background-color: rgba(68, 68, 68, 0.5);\n  border-radius: 5px;\n}\n\n#expand-row {\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n  padding: 3px;\n  pointer-events: auto;\n\n  &:hover {\n    cursor: pointer;\n  }\n}\n\n.wrapper {\n  position:relative;\n  width: 150px;\n  overflow-wrap:break-word;\n}\n\n.overlay {\n  position:absolute;\n  top:0;\n  left:75%;\n}\n\n.slider-container {\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  gap: 0.5em;\n  margin-top: 2px;\n}\n.switch {\n  // moving toggle\n  --toggle-size: 0.77em;\n  --slider-height: calc(var(--toggle-size) * 1.3);\n  --toggle-bottom-gap: calc((var(--slider-height) - var(--toggle-size))/2);\n  --toggle-left-gap: var(--toggle-bottom-gap);\n  --slider-width: calc(2*(var(--toggle-left-gap) + var(--toggle-size)));\n  --translateX: var(--toggle-size);\n\n  position: relative;\n  display: flex;\n  width: var(--slider-width);\n  height: var(--slider-height);\n}\n\n.switch input { \n  visibility: hidden;\n}\n\n.slider {\n  position: absolute;\n  cursor: pointer;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: #ccc;\n  -webkit-transition: .4s;\n  transition: .4s;\n  border-radius: var(--slider-height);\n}\n\n.slider:before {\n  position: absolute;\n  content: \"\";\n  height: var(--toggle-size);\n  width: var(--toggle-size);\n  left: var(--toggle-left-gap);\n  bottom: var(--toggle-bottom-gap);\n  background-color: white;\n  -webkit-transition: .4s;\n  transition: .4s;\n  border-radius: 50%;\n}\n\ninput:checked + .slider {\n  background-color: #2196F3;\n}\n\ninput:focus + .slider {\n  box-shadow: 0 0 1px #2196F3;\n}\n\ninput:checked + .slider:before {\n  -webkit-transform: translateX(var(--translateX));\n  -ms-transform: translateX(var(--translateX));\n  transform: translateX(var(--translateX));\n}\n\n#expand-icon {\n  color: var(--ephemeris-color);\n  margin:10px;\n}\n\n\n</style>\n","import { render } from \"./FolderView.vue?vue&type=template&id=2d1c64b8&scoped=true&ts=true\"\nimport script from \"./FolderView.vue?vue&type=script&lang=ts\"\nexport * from \"./FolderView.vue?vue&type=script&lang=ts\"\n\nimport \"./FolderView.vue?vue&type=style&index=0&id=2d1c64b8&scoped=true&lang=less\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2d1c64b8\"]])\n\nexport default __exports__","import { createElementVNode as _createElementVNode, createStaticVNode as _createStaticVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\nimport _imports_0 from '../src/assets/MicroObservatory_Logo.png'\n\n\nconst _hoisted_1 = {\n  id: \"credits\",\n  class: \"ui-text\"\n}\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, _cache[0] || (_cache[0] = [\n    _createStaticVNode(\"<div id=\\\"icons-container\\\" data-v-c88ad4da><a href=\\\"https://www.cosmicds.cfa.harvard.edu/\\\" target=\\\"_blank\\\" data-v-c88ad4da><img alt=\\\"CosmicDS Logo\\\" src=\\\"https://cosmicds.github.io/cds-website/logos/cosmicds_logo_for_dark_backgrounds.png\\\" data-v-c88ad4da></a><a href=\\\"https://worldwidetelescope.org/home/\\\" target=\\\"_blank\\\" data-v-c88ad4da><img alt=\\\"WWT Logo\\\" src=\\\"https://cosmicds.github.io/cds-website/logos/logo_wwt.png\\\" data-v-c88ad4da></a><a href=\\\"https://mo-www.cfa.harvard.edu/MicroObservatory/\\\" target=\\\"_blank\\\" class=\\\"pl-1\\\" data-v-c88ad4da><img alt=\\\"MicroObservatory at CfA\\\" src=\\\"\" + _imports_0 + \"\\\" data-v-c88ad4da></a><a href=\\\"https://science.nasa.gov/learners\\\" target=\\\"_blank\\\" class=\\\"pl-1\\\" data-v-c88ad4da><img alt=\\\"SciAct Logo\\\" src=\\\"https://cosmicds.github.io/cds-website/logos/logo_sciact.png\\\" data-v-c88ad4da></a></div>\", 1)\n  ])))\n}","<template>\n  <div id=\"credits\" class=\"ui-text\">\n    <div id=\"icons-container\">\n      <a href=\"https://www.cosmicds.cfa.harvard.edu/\" target=\"_blank\"\n        ><img alt=\"CosmicDS Logo\" src=\"https://cosmicds.github.io/cds-website/logos/cosmicds_logo_for_dark_backgrounds.png\"\n      /></a>\n      <a href=\"https://worldwidetelescope.org/home/\" target=\"_blank\"\n        ><img alt=\"WWT Logo\" src=\"https://cosmicds.github.io/cds-website/logos/logo_wwt.png\"\n      /></a>\n      <a href=\"https://mo-www.cfa.harvard.edu/MicroObservatory/\" target=\"_blank\" class=\"pl-1\"\n        ><img alt=\"MicroObservatory at CfA\" src=\"../src/assets/MicroObservatory_Logo.png\"\n      /></a>\n      <a href=\"https://science.nasa.gov/learners\" target=\"_blank\" class=\"pl-1\"\n        ><img alt=\"SciAct Logo\" src=\"https://cosmicds.github.io/cds-website/logos/logo_sciact.png\"\n      /></a>\n    </div>\n  </div>\n</template>\n\n\n<script lang=\"ts\">\nimport { defineComponent } from \"vue\";\n\nexport default defineComponent({\n\n  props: {\n    visible: {\n      type: Boolean,\n      default: true\n    },\n  },\n\n  computed: { \n\n    isMobile() {\n      return (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent));\n    },\n  }\n\n});\n</script>\n\n\n<style scoped lang=\"less\">\n\n#credits {\n  color: #ddd;\n  font-size: calc(0.7em + 0.2vw);\n  justify-self: flex-end;\n  align-self: flex-end;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  p {\n    margin: 0;\n    padding: 0;\n    line-height: 1;\n  }\n\n  a {\n    text-decoration: none;\n    color: #fff;\n    pointer-events: auto;\n\n    &:hover {\n      text-decoration: underline;\n    }\n\n    &[class^=\"share-network\"]:hover {\n      text-decoration: none;\n      filter: brightness(75%);\n    }\n  }\n\n  img {\n    height: 35px;\n    vertical-align: middle;\n    margin: 2px;\n  }\n\n  @media only screen and (max-width: 600px) {\n  img {\n    height: 24px;\n  }\n}\n\n  svg {\n    vertical-align: middle;\n    height: 24px;\n  }\n}\n</style>\n","import { render } from \"./Credits.vue?vue&type=template&id=c88ad4da&scoped=true&ts=true\"\nimport script from \"./Credits.vue?vue&type=script&lang=ts\"\nexport * from \"./Credits.vue?vue&type=script&lang=ts\"\n\nimport \"./Credits.vue?vue&type=style&index=0&id=c88ad4da&scoped=true&lang=less\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-c88ad4da\"]])\n\nexport default __exports__","import { resolveComponent as _resolveComponent, withKeys as _withKeys, createVNode as _createVNode, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode } from \"vue\"\n\nconst _hoisted_1 = {\n  key: 0,\n  class: \"toggle\"\n}\nconst _hoisted_2 = { class: \"toggle__checkboxes\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_v_checkbox = _resolveComponent(\"v-checkbox\")!\n\n  return (_ctx.show)\n    ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n        _createElementVNode(\"div\", _hoisted_2, [\n          _createVNode(_component_v_checkbox, {\n            color: _ctx.color,\n            label: _ctx.label,\n            modelValue: _ctx.selected,\n            \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((_ctx.selected) = $event)),\n            onKeyup: _cache[1] || (_cache[1] = _withKeys(() => {_ctx.selected = !_ctx.selected; _ctx.onChange();}, [\"enter\"])),\n            onChange: _ctx.onChange,\n            \"hide-details\": \"\"\n          }, null, 8, [\"color\", \"label\", \"modelValue\", \"onChange\"])\n        ])\n      ]))\n    : _createCommentVNode(\"\", true)\n}","<!-- this v-checkbox based component that toggles a boolean. -->\n<template>\n  <div \n    v-if=\"show\" \n    class=\"toggle\">\n    <div class=\"toggle__checkboxes\">\n      <v-checkbox\n        :color=\"color\"\n        :label=\"label\"\n        v-model=\"selected\"\n        @keyup.enter=\"() => {selected = !selected; onChange();}\"\n        @change=\"onChange\"\n        hide-details\n        >\n      </v-checkbox>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, } from \"vue\";\n\n\nexport default defineComponent({\n\n  name: 'Toggle',\n  props: {\n\n    show: {\n      type: Boolean,\n      default: true\n    },\n    \n    label: {\n      type: String,\n      required: true,\n    },\n    item: {\n      type: Boolean,\n      required: true,\n    },\n    color: {\n      type: String,\n      required: true,\n      default: 'white',\n    },\n  },\n  \n  data() {\n    return {\n      selected: this.item,\n    };\n  },\n  methods: {\n    onChange() {\n      this.$emit('toggle', this.selected );\n    },\n  },\n});\n</script>\n\n\n<style scoped lang=\"less\">\n\n</style>","import { render } from \"./Toggle.vue?vue&type=template&id=a0a0a9de&ts=true\"\nimport script from \"./Toggle.vue?vue&type=script&lang=ts\"\nexport * from \"./Toggle.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { renderSlot as _renderSlot, Transition as _Transition, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createBlock(_Transition, {\n    name: \"expand\",\n    onEnter: _ctx.enter,\n    onAfterEnter: _ctx.afterEnter,\n    onLeave: _ctx.leave\n  }, {\n    default: _withCtx(() => [\n      _renderSlot(_ctx.$slots, \"default\", {}, undefined, true)\n    ]),\n    _: 3\n  }, 8, [\"onEnter\", \"onAfterEnter\", \"onLeave\"]))\n}","<template>\n  <!-- This component is based on the code from https://markus.oberlehner.net/blog/transition-to-height-auto-with-vue/\n  It has been modified to use the vue-property-decorator format\n  -->\n  <transition\n    name=\"expand\"\n    @enter=\"enter\"\n    @after-enter=\"afterEnter\"\n    @leave=\"leave\"\n  >\n    <slot />\n  </transition>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from \"@vue/runtime-core\";\n\n\nexport default defineComponent({\n  name: \"TransitionExpand\",\n\n  emits: ['enter', 'after-enter', 'leave'],\n\n  methods: {\n    enter(element: HTMLElement) {\n      const width = getComputedStyle(element).width;\n\n      element.style.width = width;\n      element.style.position = \"absolute\";\n      element.style.visibility = \"hidden\";\n      element.style.height = \"auto\";\n\n      const height = getComputedStyle(element).height;\n\n      element.style.width = \"\";\n      element.style.position = \"\";\n      element.style.visibility = \"visible\";\n      element.style.height = \"0px\";\n\n      // Force repaint to make sure the\n      // animation is triggered correctly.\n      getComputedStyle(element).height;\n\n      // Trigger the animation.\n      // We use `requestAnimationFrame` because we need\n      // to make sure the browser has finished\n      // painting after setting the `height`\n      // to `0` in the line above.\n      requestAnimationFrame(() => {\n        element.style.height = height;\n      });\n\n      this.$emit('enter');\n    },\n\n    afterEnter(element: HTMLElement) {\n      element.style.height = \"auto\";\n      this.$emit('after-enter');\n    },\n\n    leave(element: HTMLElement) {\n      const height = getComputedStyle(element).height;\n\n      element.style.height = height;\n\n      // Force repaint to make sure the\n      // animation is triggered correctly.\n      getComputedStyle(element).height;\n\n      requestAnimationFrame(() => {\n        element.style.height = \"0\";\n      });\n      this.$emit('leave');\n    }\n  }\n});\n</script>\n\n<style scoped>\n* {\n  will-change: height;\n  transform: translateZ(0);\n  backface-visibility: hidden;\n  perspective: 1000px;\n}\n\n.expand-enter-active,\n.expand-leave-active {\n  transition: height 0.2s ease-in-out;\n  overflow: hidden;\n}\n\n.expand-enter,\n.expand-leave-to {\n  height: 0;\n}\n</style>\n","import { render } from \"./TransitionExpand.vue?vue&type=template&id=4fd945ad&scoped=true&ts=true\"\nimport script from \"./TransitionExpand.vue?vue&type=script&lang=ts\"\nexport * from \"./TransitionExpand.vue?vue&type=script&lang=ts\"\n\nimport \"./TransitionExpand.vue?vue&type=style&index=0&id=4fd945ad&scoped=true&lang=css\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-4fd945ad\"]])\n\nexport default __exports__","import { createElementVNode as _createElementVNode, vShow as _vShow, withDirectives as _withDirectives, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { id: \"plot\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return _withDirectives((_openBlock(), _createElementBlock(\"div\", _hoisted_1, _cache[0] || (_cache[0] = [\n    _createElementVNode(\"canvas\", {\n      id: \"chartjs\",\n      class: \"chartjs\"\n    }, null, -1)\n  ]), 512)), [\n    [_vShow, _ctx.show]\n  ])\n}","<!-- Vue component for plotting a scatter plot of x,y data in Chart.js -->\n<template>\n    <div v-show=\"show\" id=\"plot\">\n      <canvas id=\"chartjs\" class=\"chartjs\"></canvas>\n    </div>\n    \n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, PropType } from \"vue\";\nimport Chart from \"chart.js/auto\"; \nimport { ChartItem } from \"chart.js\";\n\nexport default defineComponent({\n  name: \"chartjsScatter\",\n\n  data() {\n    return {\n      chart: null as unknown as ChartItem,\n      canvasel: null as HTMLCanvasElement | null,\n    };\n  },\n  \n  props: {\n    data: {\n      type: Array as PropType<{ x: Date | number; y: number }[]>,\n      required: true,\n      // fill in some default data\n      default: () =>\n        [\n          { x: (new Date(\"2020-01-01\")).getTime(), y: 1 },\n          { x: (new Date(\"2020-01-02\")).getTime(), y: 2 },\n          { x: (new Date(\"2020-01-03\")).getTime(), y: 3 },\n          { x: (new Date(\"2020-01-04\")).getTime(), y: 4 },\n          { x: (new Date(\"2020-01-05\")).getTime(), y: 5 },\n          { x: (new Date(\"2020-01-06\")).getTime(), y: 6 },\n          { x: (new Date(\"2020-01-07\")).getTime(), y: 7 },\n          { x: (new Date(\"2020-01-08\")).getTime(), y: 8 },\n          { x: (new Date(\"2020-01-09\")).getTime(), y: 9 },\n          { x: (new Date(\"2020-01-10\")).getTime(), y: 10 }\n        ]\n\n    },\n\n    lineData: {\n      type: Array as PropType<{ x: Date | number; y: number }[]>,\n      required: false,\n      default: () => [],\n    },\n\n    keys: {\n      type: Object as PropType<{ x: string; y: string }>,\n      required: false,\n      default: () => ({ x: \"x\", y: \"y\" }),\n    },\n\n    width: {\n      type: Number,\n      required: false,\n    },\n    height: {\n      type: Number,\n      required: false,\n    },\n\n    xrange: {\n      type: Array<number>,\n      required: true,\n    },\n\n    yrange: {\n      type: Array<number>,\n      required: false,\n      default: () => null as unknown as Array<number>,\n    },\n\n    line: {\n      type: Boolean,\n      required: false,\n      default: false,\n    },\n\n    scatter: {\n      type: Boolean,\n      required: false,\n      default: false,\n    },\n\n    animation: {\n      type: Boolean,\n      required: false,\n      default: true,\n    },\n\n    maintainAspectRatio: {\n      type: Boolean,\n      required: false,\n      default: false,\n    },\n\n    reversedY: {\n      type: Boolean,\n      required: false,\n      default: false,\n    },\n\n    reversedX: {\n      type: Boolean,\n      required: false,\n      default: false,\n    },\n\n    hideXAxis: {\n      type: Boolean,\n      required: false,\n      default: false,\n    },\n\n    hideYAxis: {\n      type: Boolean,\n      required: false,\n      default: false,\n    },\n\n    scatterOptions: {\n      type: Object,\n      required: false,\n      default: () => ({}),\n    },\n\n    color: {\n      type: String,\n      required: false,\n      default: null,\n    },\n\n    borderColor: {\n      type: String,\n      required: false,\n      default: null,\n    },\n    \n    lineOptions: {\n      type: Object,\n      required: false,\n      default: null,\n    },\n\n    axisOptions: {\n      type: Object,\n      required: false,\n      default: () => ({}),\n    },\n\n    xAxisOptions: {\n      type: Object,\n      required: false,\n      default: () => ({}),\n    },\n\n    yAxisOptions: {\n      type: Object,\n      required: false,\n      default: () => ({}),\n    },\n\n    show: {\n      type: Boolean,\n      required: false,\n      default: true,\n    },\n    \n  },\n  mounted() {\n    this.draw();\n\n    new ResizeObserver(() => {\n      this.draw();\n    }).observe(this.$el);\n\n  },\n  methods: {\n\n    getKey(obj: { [key: string]: unknown}  , key: string, defaultKey: string | null = null) {\n      // check if obj has key\n      if (key in obj) {\n        return obj[key as keyof typeof obj];\n      } else if (defaultKey != null && defaultKey in obj) {\n        return obj[defaultKey as keyof typeof obj];\n      }\n    },\n    \n    draw() {\n      // arrow adapted from \n      // https://stackoverflow.com/questions/72214227/chart-js-add-direction-arrows-to-the-x-and-y-axes\n      const arrowBorder = {\n        id: 'arrowBorder',\n        // JC: I don't know whether or not these unused fields are actually needed,\n        // so I just decided to leave them\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        afterDatasetsDraw(chart: Chart, args: any, pluginOptions: any) {\n          const {\n            ctx,\n            chartArea: {\n              top,\n              bottom,\n              left,\n              right,\n              // eslint-disable-next-line @typescript-eslint/no-unused-vars\n              width,\n              // eslint-disable-next-line @typescript-eslint/no-unused-vars\n              height\n            }\n          } = chart;\n\n\n          \n          ctx.save();\n          ctx.beginPath();\n          ctx.lineWidth = pluginOptions.yWidth;\n          ctx.strokeStyle = \"white\";\n\n          const headLength = 6;\n          const headWidth = 5;\n\n          const arrowUpTip = -4;\n          // stem\n          ctx.moveTo(left, bottom + 1);\n          ctx.lineTo(left, top + arrowUpTip);\n          // arrowhead\n          ctx.moveTo(left - headWidth, top + arrowUpTip + headLength);\n          ctx.lineTo(left, top + arrowUpTip);\n          ctx.lineTo(left + headWidth, top + arrowUpTip + headLength);\n          ctx.stroke();\n          ctx.closePath();\n          // \n\n          ctx.beginPath();\n          ctx.lineWidth = pluginOptions.xWidth;\n          ctx.strokeStyle = \"#ccc\";\n          const arrowRightTip = 4;\n          // stem\n          ctx.moveTo(left-1, bottom);\n          ctx.lineTo(right + arrowRightTip, bottom);\n          // arrowhead\n          ctx.moveTo(right + arrowRightTip - headLength, bottom - headWidth);\n          ctx.lineTo(right + arrowRightTip, bottom);\n          ctx.lineTo(right + arrowRightTip - headLength, bottom + headWidth);\n          ctx.stroke();\n          ctx.closePath();\n        },\n        defaults: {\n          yWidth: this.chartOptions.scales.y.border.width - 1,\n          xWidth: this.chartOptions.scales.x.border.width - 1,\n        }\n      };\n      \n      const ctx = this.$el.querySelector(\"#chartjs\");\n      \n      if (this.chart) {\n        const oldChart = Chart.getChart(ctx as HTMLCanvasElement);\n        if (oldChart) {\n          oldChart.destroy();\n        }\n      }\n\n      this.chart = new Chart(ctx, {\n  \n        data: this.chartData,\n        options: this.chartOptions,\n        plugins: [arrowBorder],\n        \n      });\n\n      this.getBounds;\n\n      return ;\n    },\n    \n  },\n\n  computed: {\n\n    // check if data.x is a timeseries\n    isDate() {\n      return this.data[0].x instanceof Date;\n    },\n\n    \n    computedData() {\n\n      if (this.data.length == 0) {\n        return [{ x: null, y: null }];\n      }\n      \n      const data = this.data.map(d => (\n        {\n          x: d[this.keys['x'] as keyof typeof d],\n          y: d[this.keys['y'] as keyof typeof d]\n        }));\n        \n      if (this.data[0].x instanceof Date) {\n        console.log(\"is a date\");\n        return data.map(d => ({ x: (d.x as Date).getTime(), y: d.y }));\n      } \n\n      return data;\n    },\n\n    computedLineData() {\n      if (this.line) {\n        if (this.lineData == null) {\n          return this.computedData;\n        }\n        \n        if (this.lineData.length > 0) {\n          return this.lineData.map(d => (\n            {\n              x: this.getKey(d, this.keys['x'], 'x'),\n              y: this.getKey(d, this.keys['y'], 'y'),\n            }));\n        } \n      }\n      return [{ x: null, y: null}];\n    },\n\n    computedYRange() {\n      if (this.yrange == null) {\n        const y = this.computedData.map(d => d.y as number);\n        return [Math.min(...y), Math.max(...y)];\n      } else {\n        return this.yrange;\n      }\n    },\n    \n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    chartData(): any {\n      // https://www.chartjs.org/docs/latest/configuration/elements.html#point-configuration\n      const scatterData = {\n        type: 'scatter',\n        label: 'Supernove Lightcurve',\n        data: this.computedData,\n        radius: 3, // Chart.js default\n        pointStyle: 'circle', // Chart.js default\n        backgroundColor: this.color,\n        borderColor: this.borderColor,\n        ...this.scatterOptions\n      };\n      const lineData = {\n        type: 'line',\n        label: 'Supernove Lightcurve',\n        data: this.computedLineData,\n        backgroundColor: 'transparent',\n        radius: 0,\n        borderColor: this.color,\n        ...this.lineOptions\n      };\n\n      let outData = [];\n\n\n      if (this.scatter) {\n        outData.push(scatterData);\n      }\n      \n      if (this.line) {\n        outData.push(lineData);\n      }\n      \n      if (outData.length == 0) {\n        outData = [scatterData, lineData];\n      }\n      \n      return { datasets: outData };\n\n    },\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    chartOptions(): any {\n      const options =  {\n        animation: this.animation,\n        responsive: true,\n        maintainAspectRatio: this.maintainAspectRatio,\n        scales: {\n          x: {\n            display: !this.hideXAxis,\n            type: 'linear' ,\n            min: this.xrange[0],\n            max: this.xrange[1],\n            reverse: this.reversedX,\n            width: 3,\n            ...this.axisOptions,\n            ...this.xAxisOptions,\n          },\n          // https://www.chartjs.org/docs/latest/axes/styling.html#tick-configuration\n          y: {\n            display: !this.hideYAxis,\n            type: 'linear',\n            reverse: this.reversedY,\n            min: this.computedYRange[0],\n            max: this.computedYRange[1],\n            width: 3,\n            ...this.axisOptions,\n            ...this.yAxisOptions,\n            \n          }\n        },\n\n        plugins: {\n          legend: {\n            display: false\n          }\n        }\n      };\n\n      \n      return options;\n    },\n\n    // get the x-pixel postion of the first data point\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    getBounds(): any {\n      if (this.chart == null) {\n        console.log('chart is null');\n        return;\n      }\n      const chart = this.chart as Chart;\n      if (this.computedData[0].x == null) {\n        console.log('data is null');\n      }\n      \n      const xmin = chart.scales.x.getPixelForValue(this.chartOptions.scales.x.min as number);\n      const xmax = chart.scales.x.getPixelForValue(this.chartOptions.scales.x.max as number);\n      const ymin = chart.scales.y.getPixelForValue(this.chartOptions.scales.y.min as number);\n      const ymax = chart.scales.y.getPixelForValue(this.chartOptions.scales.y.max as number);\n\n      \n      const bounds = {\n        xmin: xmin,\n        xmax: xmax,\n        ymin: ymin,\n        ymax: ymax,\n      };\n\n\n      // check for nan values\n      if (Object.values(bounds).some(v => isNaN(v))) {\n        console.log('bounds has nan values');\n        return;\n      }\n\n      const emitThis = {\n        'bounds': bounds,\n        'borders': this.getBorders,\n      };\n      this.$emit(\"bounds\", emitThis);\n      \n      return bounds;\n\n    },\n\n    getBorders() {\n\n      const chart = this.chart as Chart;\n      if (chart == null) { return; }\n\n      const boundary = chart.canvas.getBoundingClientRect();\n\n\n      const borders = {\n        left: Math.round(chart.chartArea.left),\n        right: Math.round(boundary.width - chart.chartArea.right),\n        top: Math.round(chart.chartArea.top),\n        bottom: Math.round(boundary.height - chart.chartArea.bottom),\n      };\n\n      return borders;\n    }\n    \n  },\n\n  // what data and update the chart as it changes\n  watch: {\n    data() {\n      this.draw();\n    },\n      \n  },\n  \n});\n\n</script>\n\n<style scoped lang=\"less\">\n\n.chartjs {\n  // pointer-events: auto;\n  width: 100%;\n}\n\n\n#plot {\n  position: relative;\n  width: 100%;\n  max-height: 20dvh;\n  height: 100%;\n}\n\n\n</style>\n","import { render } from \"./chartjs-scatter.vue?vue&type=template&id=786197ea&scoped=true&ts=true\"\nimport script from \"./chartjs-scatter.vue?vue&type=script&lang=ts\"\nexport * from \"./chartjs-scatter.vue?vue&type=script&lang=ts\"\n\nimport \"./chartjs-scatter.vue?vue&type=style&index=0&id=786197ea&scoped=true&lang=less\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-786197ea\"]])\n\nexport default __exports__","import { openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { id: \"plot\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1))\n}","<!-- Vue component for plotting a scatter plot of x,y data in d3 -->\n<template>\n  <div id=\"plot\">\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, PropType } from \"vue\";\nimport * as d3 from \"d3\";\n\nexport default defineComponent({\n  name: \"PlotDataD3\",\n\n  data() {\n    return {\n      margins: {top: 0, right: 0, bottom: 0, left: 0},\n    };\n  },  \n  \n  props: {\n    data: {\n      type: Array as PropType<{ x: Date | number; y: number }[]>,\n      required: false,\n      // fill in some default data\n      default: () => \n        [\n          { x: new Date(\"2020-01-01\"), y: 1 },\n          { x: new Date(\"2020-01-02\"), y: 2 },\n          { x: new Date(\"2020-01-03\"), y: 3 },\n          { x: new Date(\"2020-01-04\"), y: 4 },\n          { x: new Date(\"2020-01-05\"), y: 5 },\n          { x: new Date(\"2020-01-06\"), y: 6 },\n          { x: new Date(\"2020-01-07\"), y: 7 },\n          { x: new Date(\"2020-01-08\"), y: 8 },\n          { x: new Date(\"2020-01-09\"), y: 9 },\n          { x: new Date(\"2020-01-10\"), y: 10 }\n        ]\n      \n    },\n\n\n    lineData: {\n      type: Array as PropType<{ x: Date | number; y: number }[]>,\n      required: false,\n      default: () => [],\n    },\n\n    keys: {\n      type: Object as PropType<{ x: string; y: string }>,\n      required: false,\n      default: () => ({ x: \"x\", y: \"y\" }),\n    },\n\n    hideXAxis: {\n      type: Boolean,\n      required: false,\n      default: false,\n    },\n\n    hideYAxis: {\n      type: Boolean,\n      required: false,\n      default: false,\n    },\n\n    scatter: {\n      type: Boolean,\n      required: false,\n      default: false,\n    },\n\n    line: {\n      type: Boolean,\n      required: false,\n      default: false,\n    },\n\n    xrange: {\n      type: Array<number>,\n      required: false,\n      default: () => [],\n    },\n\n    yrange: {\n      // type is a tuple of length 2\n      type: Array<number>,\n      required: false,\n      default: () => [],\n    },\n\n    reversedX: {\n      type: Boolean,\n      required: false,\n      default: false,\n    },\n\n    reversedY: {\n      type: Boolean,\n      required: false,\n      default: false,\n    },\n\n    cssVars: {\n      type: Object,\n      required: false,\n      default: () => ({}),\n    },\n    \n    width: {\n      type: Number,\n      required: false,\n      default: 500,\n    },\n\n    height: {\n      type: Number,\n      required: false,\n      default: 500,\n    },\n\n    margin: {\n      type: Object as PropType<{ top: number; right: number; bottom: number; left: number }>,\n      required: false,\n      default: null,\n    }\n\n    \n    \n  },\n\n\n  \n  mounted() {\n\n    this.draw();\n    this.$emit(\"offset\", this.x0Pixel());\n    // create resize watcher\n    new ResizeObserver(() => {\n\n      if (this.$el.querySelector(\"svg\") != null) {\n        d3.select(\"#plot\").selectAll(\"svg\").remove();\n        this.draw();\n        this.$emit(\"offset\", this.x0Pixel());\n      }\n      \n    });\n\n    // add cssVars to #plot style\n    const plot = this.$el.querySelector(\"#plot\");\n    for (const [key, value] of Object.entries(this.cssVars)) {\n      plot.style.setProperty(key, value);\n    }\n    \n  },\n  \n  methods: {\n\n    xScale(range: Array<number | Date>, width: number): d3.ScaleTime<number, number> | d3.ScaleLinear<number, number> {\n      if (this.computedData[0].x instanceof Date || range[0] instanceof Date) {\n        return d3\n          .scaleTime()\n          .domain(range)\n          .range(this.reversedX ? [width, 0] : [0, width]);\n      } else {\n        return d3\n          .scaleLinear()\n          .domain(range)\n          .range(this.reversedX ? [width, 0] : [0, width]);\n      }\n    },\n\n    yScale(range: Array<number>, height: number): d3.ScaleLinear<number, number> {\n      return d3\n        .scaleLinear()\n        .domain(range) \n        .range(this.reversedY ? [0, height] : [height, 0]);\n    },\n\n    x0Pixel(): number {\n      // get the x pixel value of the origin\n      const width = this.width - this.margins.left - this.margins.right;\n      const x = this.xScale(this.computedXrange, width);\n      const zero = this.computedXrange[0];\n      return x(zero);\n\n\n      \n    },\n    \n    draw() {\n\n      if (this.margin == null) {\n        this.margins = { top: 20, right: 20, bottom: 30, left: 40 };\n      } else {\n        this.margins = this.margin;\n      }\n      \n      const width = this.width - this.margins.left - this.margins.right;\n      const height = this.height - this.margins.top - this.margins.bottom;\n\n      \n      const data = this.computedData;\n      const x = this.xScale(this.computedXrange, width);\n      const y = this.yScale(this.computedYrange, height);\n\n      const xAxis = d3.axisBottom(x);\n      const yAxis = d3.axisLeft(y);\n\n      const svg = d3\n        .select(\"#plot\")\n        .append(\"svg\")\n        .attr(\"viewBox\", `0 0 ${this.width} ${this.height}`)\n        .append(\"g\")\n        .attr(\"transform\", `translate(${this.margins.left}, ${this.margins.top})`);\n\n      if (!this.hideXAxis) {\n        svg\n          .append(\"g\")\n          .attr(\"class\", \"x-axis\")\n          .attr(\"transform\", `translate(0,${height})`)\n          .call(xAxis);\n      }\n\n      if (!this.hideYAxis) {\n        svg\n          .append(\"g\")\n          .attr(\"class\", \"y-axis\")\n          .call(yAxis);\n      }\n\n      // if (this.data.length == 0) {\n      //   return;\n      // }\n      \n      if (this.scatter && this.data.length > 0) {\n        svg.append(\"g\")\n          .selectAll(\".dot\")\n          .data(data.map(d => [d.x, d.y]))\n          .enter()\n          .append(\"circle\")\n          .attr(\"class\", \"dot\")\n          .attr(\"r\", 3.5)\n          .attr(\"cx\", (d) => x(d[0]))\n          .attr(\"cy\", (d) => y(d[1]))\n          .style(\"fill\", \"steelblue\");\n      }\n\n      if (this.line && this.lineData.length > 0) {\n        const line = d3.line()\n          .x((d) => x(d[0]))\n          .y((d) => y(d[1]));\n\n        svg.append(\"path\")\n          .datum(this.computedLineData.map(d => [d.x, d.y]))\n          .attr(\"class\", \"line\")\n          //eslint-disable-next-line @typescript-eslint/no-explicit-any\n          .attr(\"d\", line as any)\n          .style(\"stroke\", \"steelblue\")\n          .style(\"fill\", \"none\");\n      }\n      \n    },\n\n    getKey(obj: { [key: string]: unknown}  , key: string, defaultKey: string | null = null): unknown {\n      // check if obj has key\n      if (key in obj) {\n        return obj[key as keyof typeof obj];\n      } else if (defaultKey != null && defaultKey in obj) {\n        return obj[defaultKey as keyof typeof obj];\n      }\n    },\n    \n  },\n\n  computed: {\n    \n\n\n    computedData(): Array<{ x: Date | number; y: number }> {\n\n      if (this.data.length == 0) {\n        return [{x: null as unknown as number, y: null as unknown as number}];\n      }\n      \n      const data = this.data.map(d => (\n        {\n          x: this.getKey(d, this.keys['x'], 'x') as Date | number,\n          y: this.getKey(d, this.keys['y'], 'y') as number,\n        }));\n\n      return data;\n    },\n\n    computedLineData(): Array<{ x: Date | number; y: number }>  {\n      if (this.line) {\n        if (this.lineData.length == 0) {\n          return this.computedData;\n        } else {\n          return this.lineData.map(d => (\n            {\n              x: this.getKey(d, this.keys['x'], 'x') as Date | number,\n              y: this.getKey(d, this.keys['y'], 'y') as number,\n            }));\n        }\n      }\n      return [{ x: 0, y: 0 }];\n    },\n\n    // should output an array of length 2 with generic type\n    computedXrange(): Array<number | Date> {\n      if (this.xrange.length > 0) {\n        return this.xrange as Array<number | Date>;\n      } else {\n        return d3.extent(this.computedData.map(d => d.x)) as Array<number | Date>;\n      }\n    },\n\n    computedYrange(): [number, number] {\n      if (this.yrange.length > 0) {\n        return this.yrange as [number, number];\n      } else {\n        return d3.extent(this.computedData.map(d => d.y as number)) as [number, number];\n      }\n    },\n\n    \n  },\n\n  watch: {\n    data() {\n\n      if (this.$el.querySelector(\"svg\") != null) {\n        d3.select(\"#plot\").selectAll(\"svg\").remove();\n      }\n      this.draw();\n    },\n  },\n  \n});\n</script>\n\n\n<style lang=\"less\">\ncircle.dot {\n  fill: steelblue;\n  stroke: white;\n  stroke-width: 2px;\n}\n\ncircle.dot:hover {\n  fill: red;\n}\n\n</style>\n\n<style scoped lang=\"less\">\n\n#plot {\n  width: 100%;\n  height: 100%;\n  justify-content: center;\n  align-items: center;\n  border: 1px solid blue;\n  pointer-events: auto;\n  \n}\n\n\n\n\n\n\n</style>\n","import { render } from \"./d3-scatter.vue?vue&type=template&id=62f7348f&scoped=true&ts=true\"\nimport script from \"./d3-scatter.vue?vue&type=script&lang=ts\"\nexport * from \"./d3-scatter.vue?vue&type=script&lang=ts\"\n\nimport \"./d3-scatter.vue?vue&type=style&index=0&id=62f7348f&lang=less\"\nimport \"./d3-scatter.vue?vue&type=style&index=1&id=62f7348f&scoped=true&lang=less\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-62f7348f\"]])\n\nexport default __exports__","import { normalizeClass as _normalizeClass, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = {\n  version: \"1.1\",\n  baseProfile: \"tiny\",\n  class: \"dipper_svg_icon\",\n  xmlns: \"http://www.w3.org/2000/svg\",\n  \"xmlns:xlink\": \"http://www.w3.org/1999/xlink\",\n  x: \"0px\",\n  y: \"0px\",\n  viewBox: \"0 0 189 189\",\n  overflow: \"visible\",\n  \"xml:space\": \"preserve\"\n}\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"svg\", _hoisted_1, [\n    _createElementVNode(\"path\", {\n      class: _normalizeClass([\"circle\", _ctx.fill ? \"filled\" : \"\", _ctx.selected ? \"selected\" : \"\"]),\n      d: \"M17.9,35.9L17.9,35.9\\n\\tC9.3,35.2,3.1,27.4,4.1,18.7l0,0c0.5-4.2,2.6-8.1,5.8-10.9s7.4-4.1,11.6-3.7l0,0c8.6,0.7,14.8,8.5,13.8,17.2l0,0\\n\\tC34.3,30.1,26.5,36.6,17.9,35.9z\"\n    }, null, 2),\n    _createElementVNode(\"path\", {\n      class: _normalizeClass([\"circle\", _ctx.fill ? \"filled\" : \"\", _ctx.selected ? \"selected\" : \"\"]),\n      d: \"M154.3,132.7L154.3,132.7\\n\\tc-1.5-8.8,4.1-17.1,12.6-18.7l0,0c4.1-0.7,8.2,0.2,11.6,2.7c3.4,2.4,5.7,6.2,6.4,10.4l0,0c1.5,8.8-4.1,17.1-12.6,18.7l0,0\\n\\tC163.8,147.3,155.8,141.4,154.3,132.7z\"\n    }, null, 2),\n    _createElementVNode(\"path\", {\n      class: _normalizeClass([\"circle\", _ctx.fill ? \"filled\" : \"\", _ctx.selected ? \"selected\" : \"\"]),\n      d: \"M58.1,128.9L58.1,128.9\\n\\tc2-8.7,10.4-14,18.8-11.9l0,0c4,1,7.5,3.6,9.6,7.3c2.1,3.7,2.8,8,1.8,12.2l0,0c-2,8.7-10.4,14-18.8,11.9l0,0\\n\\tC61.2,146.3,56.1,137.6,58.1,128.9z\"\n    }, null, 2),\n    _createElementVNode(\"path\", {\n      class: _normalizeClass([\"circle\", _ctx.fill ? \"filled\" : \"\", _ctx.selected ? \"selected\" : \"\"]),\n      d: \"M114.1,169.3L114.1,169.3\\n\\tc0-8.9,7-16.1,15.5-16.1l0,0c4.1,0,8.1,1.7,11,4.7s4.5,7.1,4.5,11.4l0,0c0,8.9-7,16.1-15.5,16.1l0,0\\n\\tC121.1,185.5,114.1,178.2,114.1,169.3z\"\n    }, null, 2),\n    _createElementVNode(\"path\", {\n      class: _normalizeClass([\"circle\", _ctx.fill ? \"filled\" : \"\", _ctx.selected ? \"selected\" : \"\"]),\n      d: \"M78.2,75L78.2,75\\n\\tc3-8.3,12-12.5,20-9.3l0,0c3.8,1.5,7,4.6,8.6,8.5c1.7,3.9,1.8,8.3,0.4,12.3l0,0c-3,8.3-12,12.5-20,9.3l0,0\\n\\tC79.1,92.7,75.1,83.3,78.2,75z\"\n    }, null, 2),\n    _createElementVNode(\"path\", {\n      class: _normalizeClass([\"circle\", _ctx.fill ? \"filled\" : \"\", _ctx.selected ? \"selected\" : \"\"]),\n      d: \"M54.4,39.1L54.4,39.1\\n\\tc0-8.9,7-16.1,15.5-16.1l0,0c4.1,0,8.1,1.7,11,4.7s4.5,7.1,4.5,11.4l0,0c0,8.9-7,16.1-15.5,16.1l0,0C61.4,55.2,54.4,48,54.4,39.1z\"\n    }, null, 2),\n    _createElementVNode(\"path\", {\n      class: _normalizeClass([\"line\", _ctx.selected ? \"selected\" : \"\"]),\n      d: \"M35.3,21.3L59,27.7\"\n    }, null, 2),\n    _createElementVNode(\"path\", {\n      class: _normalizeClass([\"line\", _ctx.selected ? \"selected\" : \"\"]),\n      d: \"M81,50.5L86.3,66\"\n    }, null, 2),\n    _createElementVNode(\"path\", {\n      class: _normalizeClass([\"line\", _ctx.selected ? \"selected\" : \"\"]),\n      d: \"M87.2,95.8l-10.3,21.2\"\n    }, null, 2),\n    _createElementVNode(\"path\", {\n      class: _normalizeClass([\"line\", _ctx.selected ? \"selected\" : \"\"]),\n      d: \"M88.3,136.5l30.4,21.4\"\n    }, null, 2),\n    _createElementVNode(\"path\", {\n      class: _normalizeClass([\"line\", _ctx.selected ? \"selected\" : \"\"]),\n      d: \"M140.7,157.9l20-14.9\"\n    }, null, 2),\n    _createElementVNode(\"path\", {\n      class: _normalizeClass([\"line\", _ctx.selected ? \"selected\" : \"\"]),\n      d: \"M156.8,120.7l-49.6-34.2\"\n    }, null, 2)\n  ]))\n}","<!-- create a template for an SVG ICON -->\n<template>\n<!-- Generator: Adobe Illustrator 27.5.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->\n<svg version=\"1.1\" baseProfile=\"tiny\" class=\"dipper_svg_icon\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n  x=\"0px\" y=\"0px\" viewBox=\"0 0 189 189\" overflow=\"visible\" xml:space=\"preserve\" >\n<path\n  :class='[\"circle\", fill ? \"filled\" : \"\", selected ? \"selected\" : \"\"]'\n  d=\"M17.9,35.9L17.9,35.9\n\tC9.3,35.2,3.1,27.4,4.1,18.7l0,0c0.5-4.2,2.6-8.1,5.8-10.9s7.4-4.1,11.6-3.7l0,0c8.6,0.7,14.8,8.5,13.8,17.2l0,0\n\tC34.3,30.1,26.5,36.6,17.9,35.9z\"/>\n<path\n  :class='[\"circle\", fill ? \"filled\" : \"\", selected ? \"selected\" : \"\"]'\n  d=\"M154.3,132.7L154.3,132.7\n\tc-1.5-8.8,4.1-17.1,12.6-18.7l0,0c4.1-0.7,8.2,0.2,11.6,2.7c3.4,2.4,5.7,6.2,6.4,10.4l0,0c1.5,8.8-4.1,17.1-12.6,18.7l0,0\n\tC163.8,147.3,155.8,141.4,154.3,132.7z\"/>\n<path \n  :class='[\"circle\", fill ? \"filled\" : \"\", selected ? \"selected\" : \"\"]'\n  d=\"M58.1,128.9L58.1,128.9\n\tc2-8.7,10.4-14,18.8-11.9l0,0c4,1,7.5,3.6,9.6,7.3c2.1,3.7,2.8,8,1.8,12.2l0,0c-2,8.7-10.4,14-18.8,11.9l0,0\n\tC61.2,146.3,56.1,137.6,58.1,128.9z\"/>\n<path \n  :class='[\"circle\", fill ? \"filled\" : \"\", selected ? \"selected\" : \"\"]'\n  d=\"M114.1,169.3L114.1,169.3\n\tc0-8.9,7-16.1,15.5-16.1l0,0c4.1,0,8.1,1.7,11,4.7s4.5,7.1,4.5,11.4l0,0c0,8.9-7,16.1-15.5,16.1l0,0\n\tC121.1,185.5,114.1,178.2,114.1,169.3z\"/>\n<path \n  :class='[\"circle\", fill ? \"filled\" : \"\", selected ? \"selected\" : \"\"]'\n  d=\"M78.2,75L78.2,75\n\tc3-8.3,12-12.5,20-9.3l0,0c3.8,1.5,7,4.6,8.6,8.5c1.7,3.9,1.8,8.3,0.4,12.3l0,0c-3,8.3-12,12.5-20,9.3l0,0\n\tC79.1,92.7,75.1,83.3,78.2,75z\"/>\n<path \n  :class='[\"circle\", fill ? \"filled\" : \"\", selected ? \"selected\" : \"\"]'\n  d=\"M54.4,39.1L54.4,39.1\n\tc0-8.9,7-16.1,15.5-16.1l0,0c4.1,0,8.1,1.7,11,4.7s4.5,7.1,4.5,11.4l0,0c0,8.9-7,16.1-15.5,16.1l0,0C61.4,55.2,54.4,48,54.4,39.1z\"\n\t/>\n<path :class='[\"line\", selected ? \"selected\" : \"\"]' d=\"M35.3,21.3L59,27.7\"/>\n<path :class='[\"line\", selected ? \"selected\" : \"\"]' d=\"M81,50.5L86.3,66\"/>\n<path :class='[\"line\", selected ? \"selected\" : \"\"]' d=\"M87.2,95.8l-10.3,21.2\"/>\n<path :class='[\"line\", selected ? \"selected\" : \"\"]' d=\"M88.3,136.5l30.4,21.4\"/>\n<path :class='[\"line\", selected ? \"selected\" : \"\"]' d=\"M140.7,157.9l20-14.9\"/>\n<path :class='[\"line\", selected ? \"selected\" : \"\"]' d=\"M156.8,120.7l-49.6-34.2\"/>\n\n</svg>\n\n  \n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from \"vue\";\n\nexport default defineComponent({\n  name: \"ConstellationIcon\",\n\n  data() {\n    return {\n    };\n  },\n\n  props: {\n    width: {\n      type: String,\n      required: false,\n      default: \"100%\",\n    },\n    height: {\n      type: String,\n      required: false,\n      default: \"100%\",\n    },\n\n    color: {\n      type: String,\n      required: false,\n      default: \"white\",\n    },\n\n    fill: {\n      type: Boolean,\n      required: false,\n      default: false,\n    },\n    \n    fillColor: {\n      type: String,\n      required: false,\n      default: null,\n    },\n\n    selected: {\n      type: Boolean,\n      required: false,\n      default: false,\n    },\n\n    selectedStyle: {\n      type: String,\n      required: false,\n      default: \"\",\n    }\n  },\n\n\n  watch: {\n    active: function (val) {\n      console.log(\"active changed to: \" + val);\n    },\n  },\n\n  computed: {\n    computedFillColor() {\n      return this.fillColor ? this.fillColor : this.color;\n    }\n  }\n  \n});\n\n</script>\n\n<style style lang=\"less\">\n.dipper_svg_icon {\n  width: v-bind(width);\n  \n  \n.circle {\n  fill-rule:\"evenodd\";\n  stroke-width: 7px ;\n  stroke-miterlimit:10;\n  stroke: v-bind(color);\n  fill: none;\n}\n\n.line {\n  stroke: v-bind(color);\n  stroke-width: 7;\n  stroke-miterlimit: 10;\n}\n\n.filled {\n  fill: v-bind(computedFillColor);\n}\n}\n\n\n</style>","\nimport { defineComponent } from \"vue\";\n\nconst __default__ = defineComponent({\n  name: \"ConstellationIcon\",\n\n  data() {\n    return {\n    };\n  },\n\n  props: {\n    width: {\n      type: String,\n      required: false,\n      default: \"100%\",\n    },\n    height: {\n      type: String,\n      required: false,\n      default: \"100%\",\n    },\n\n    color: {\n      type: String,\n      required: false,\n      default: \"white\",\n    },\n\n    fill: {\n      type: Boolean,\n      required: false,\n      default: false,\n    },\n    \n    fillColor: {\n      type: String,\n      required: false,\n      default: null,\n    },\n\n    selected: {\n      type: Boolean,\n      required: false,\n      default: false,\n    },\n\n    selectedStyle: {\n      type: String,\n      required: false,\n      default: \"\",\n    }\n  },\n\n\n  watch: {\n    active: function (val) {\n      console.log(\"active changed to: \" + val);\n    },\n  },\n\n  computed: {\n    computedFillColor() {\n      return this.fillColor ? this.fillColor : this.color;\n    }\n  }\n  \n});\n\n\nimport { useCssVars as _useCssVars } from 'vue'\nconst __injectCSSVars__ = () => {\n_useCssVars(_ctx => ({\n  \"611f22ea\": (_ctx.width),\n  \"634d1fb0\": (_ctx.color),\n  \"eb8e7750\": (_ctx.computedFillColor)\n}))}\nconst __setup__ = __default__.setup\n__default__.setup = __setup__\n  ? (props, ctx) => { __injectCSSVars__();return __setup__(props, ctx) }\n  : __injectCSSVars__\n\nexport default __default__","import { render } from \"./ConstellationIcon.vue?vue&type=template&id=45958a32&ts=true\"\nimport script from \"./ConstellationIcon.vue?vue&type=script&lang=ts\"\nexport * from \"./ConstellationIcon.vue?vue&type=script&lang=ts\"\n\nimport \"./ConstellationIcon.vue?vue&type=style&index=0&id=45958a32&style=true&lang=less\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { aliases, mdi } from 'vuetify/iconsets/mdi';\nimport { createVuetify } from 'vuetify';\n\n// For test use. Do not include createVuetify()\n// see https://next.vuetifyjs.com/en/features/treeshaking/\n//import * as components from 'vuetify/components';\n//import * as directives from 'vuetify/directives';\n\n// Translations provided by Vuetify\nimport { en } from 'vuetify/locale';\n\n// Styles\nimport 'vuetify/styles';\nimport '@mdi/font/css/materialdesignicons.css';\n\nexport default createVuetify({\n  // Icon Fonts\n  icons: {\n    defaultSet: 'mdi',\n    aliases,\n    sets: {\n      mdi,\n    },\n  },\n  locale: {\n    locale: 'en',\n    fallback: 'en',\n    messages: { en },\n  },\n  theme: {\n    defaultTheme: 'dark',\n  },\n});\n\n// Export for test.\n//export { components, directives };\n","export const faConstellation = {\n  prefix: 'fas',\n  iconName: 'constellation',\n  icon: [\n    190,\n    190,\n    [],\n    null,\n    `M188.4,126.5c-0.9-5.2-3.7-9.8-7.8-12.6c-4.1-3-9.2-4.2-14.3-3.3c-4,0.7-7.4,2.7-10.1,5.5l-44.9-31\n\t\tc0.9-4.1,0.5-8.4-1.2-12.2c-1.9-4.7-5.8-8.5-10.5-10.4c-3.6-1.4-7.4-1.7-11-0.8l-3.6-10.5c2.5-3.3,4-7.5,4-12\n\t\tc0-5.3-1.9-10.2-5.5-13.8c-3.5-3.7-8.5-5.8-13.5-5.8c-4.5,0-8.6,1.6-11.9,4.3l-19.1-5.2c-0.2-4.1-1.7-8.1-4.3-11.3\n\t\tC31.4,3.4,26.8,1,21.8,0.6C16.7,0.1,11.5,1.8,7.6,5.2c-3.9,3.4-6.4,8.1-7,13.1C0,23.5,1.5,28.6,4.8,32.7c3.2,3.9,7.8,6.3,12.8,6.7\n\t\tc9.1,0.7,17.5-5.2,20.3-13.8l15.3,4.1c-1.5,2.8-2.3,6-2.3,9.3c0,10.8,8.5,19.6,19,19.6c3.4,0,6.6-0.9,9.3-2.5l2.8,8.3\n\t\tc-3.3,2.2-5.8,5.5-7.2,9.3c-3.3,8.9,0.1,18.8,7.6,23.6l-7.7,15.8c-4-0.4-8,0.6-11.4,2.7c-4.5,2.7-7.6,7.1-8.8,12.3\n\t\tc-2.4,10.5,3.8,21.1,14,23.7c4.9,1.2,10,0.4,14.3-2.2c3-1.9,5.5-4.5,7.1-7.6l23.7,16.7c-1.9,3.1-3.1,6.7-3.1,10.7\n\t\tc0,5.3,2.1,10.5,5.9,14.2c3.5,3.5,8.1,5.4,12.9,5.4c0.1,0,0.1,0,0.2,0c10.5,0,19-8.8,19-19.6c0-3.9-1.1-7.5-3-10.7l15.2-11.3\n\t\tc3.7,2,7.9,2.7,12.1,2C183.2,147.3,190.2,137.1,188.4,126.5z M140.8,153.4c-3.2-2.4-7.2-3.7-11.2-3.7c-4.2,0-8,1.4-11.2,3.7\n\t\tl-26.3-18.5c0.5-4.2-0.4-8.5-2.6-12.3c-1.8-3.2-4.6-5.8-7.8-7.5l7.3-15.1c3.8,0.8,7.7,0.4,11.3-1.3c3.4-1.5,6.2-4,8.2-7.1\n\t\tl43.7,30.2c-1.5,3.5-2.1,7.4-1.4,11.5l0,0c0.6,3.6,2.1,6.8,4.4,9.4L140.8,153.4z`\n  ]\n};","import Vue, { createApp } from \"vue\";\n\nimport M101SN from \"./M101SN.vue\";\nimport FolderView from \"./FolderView.vue\";\nimport Credits from \"./Credits.vue\";\nimport Toggle from \"./Toggle.vue\";\nimport TransitionExpand from \"./TransitionExpand.vue\";\nimport chartjsScatter from \"./chartjs-scatter.vue\";\nimport d3Scatter from \"./d3-scatter.vue\";\n// import PlotDataPlotly from \"./PlotDataPlotly.vue\";\nimport ConstellationIcon from \"./ConstellationIcon.vue\";\nimport { FundingAcknowledgment, Gallery, IconButton } from \"@cosmicds/vue-toolkit\";\n\nimport \"./polyfills\";\n\nimport VueSlider from \"vue-slider-component\";\nimport 'vue-slider-component/theme/default.css';\n\nimport Datepicker from '@vuepic/vue-datepicker';\nimport '@vuepic/vue-datepicker/dist/main.css';\n\nimport vuetify from \"../plugins/vuetify\";\n\nimport { library } from '@fortawesome/fontawesome-svg-core';\nimport {\n  faCircle,\n  faSquare,\n  faBookOpen,\n  faChevronDown,\n  faChevronUp,\n  faGear,\n  faLocationPin,\n  faClock,\n  faPause,\n  faPlay,\n  faTimes,\n  faVideo,\n  faCameraRetro,\n  faImages,\n  faRefresh,\n  faStar,\n  faChartLine,\n  faCircleXmark,\n  faArrowRight\n} from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon, FontAwesomeLayers } from '@fortawesome/vue-fontawesome';\n\nlibrary.add(faCircle);\nlibrary.add(faSquare);\nlibrary.add(faBookOpen);\nlibrary.add(faLocationPin);\nlibrary.add(faClock);\nlibrary.add(faTimes);\nlibrary.add(faVideo);\nlibrary.add(faChevronDown);\nlibrary.add(faChevronUp);\nlibrary.add(faCameraRetro);\nlibrary.add(faImages);\nlibrary.add(faGear);\nlibrary.add(faPause);\nlibrary.add(faPlay);\nlibrary.add(faRefresh);\nlibrary.add(faStar);\nlibrary.add(faChartLine);\nlibrary.add(faCircleXmark);\nlibrary.add(faArrowRight);\n\n\nimport { IconDefinition } from \"@fortawesome/fontawesome-common-types\";\nimport { faConstellation } from \"./assets/constellation_icon\";\nlibrary.add(faConstellation as IconDefinition);\n\nimport { WWTComponent, wwtPinia } from \"@wwtelescope/engine-pinia\";\n\nimport Notifications from '@kyvg/vue3-notification';\n\nimport \"leaflet/dist/leaflet.css\";\n\n/** v-hide directive taken from https://www.ryansouthgate.com/2020/01/30/vue-js-v-hide-element-whilst-keeping-occupied-space/ */\n// Extract the function out, up here, so I'm not writing it twice\nconst update = (el: HTMLElement, binding: Vue.DirectiveBinding) => el.style.visibility = (binding.value) ? \"hidden\" : \"\";\n\ncreateApp(M101SN, {\n  wwtNamespace: \"pinwheel-supernova\",\n  wtml: { // images are listed in chronological order earliest to latest\n    imageCollection: \"https://raw.githubusercontent.com/johnarban/wwt_interactives/main/images/m101/m101_all.wtml\",\n  },\n  url: \"https://projects.cosmicds.cfa.harvard.edu/pinwheel-supernova/\",\n  thumbnailUrl: \"https://upload.wikimedia.org/wikipedia/commons/thumb/c/c5/M101_hires_STScI-PRC2006-10a.jpg/307px-M101_hires_STScI-PRC2006-10a.jpg\",\n  bgWtml: \"\",\n  bgName: \"\"\n})\n\n  // Plugins\n  .use(wwtPinia)\n  .use(vuetify)\n  .use(Notifications)\n\n  // Directives\n  .directive(\n    /**\n    * Hides an HTML element, keeping the space it would have used if it were visible (css: Visibility)\n    */\n    \"hide\", {\n      // Run on initialisation (first render) of the directive on the element\n      beforeMount(el, binding, _vnode, _prevVnode) {\n        update(el, binding);\n      },\n      // Run on subsequent updates to the value supplied to the directive\n      updated(el, binding, _vnode, _prevVnode) {\n        update(el, binding);\n      }\n    })\n\n  // Components\n  .component(\"WorldWideTelescope\", WWTComponent)\n  .component('font-awesome-icon', FontAwesomeIcon)\n  .component('font-awesome-layers', FontAwesomeLayers)\n  .component('folder-view', FolderView)\n  .component('story-credits', Credits)\n  .component('vue-slider', VueSlider)\n  .component('transition-expand', TransitionExpand)\n  .component('date-picker', Datepicker)\n  .component('toggle', Toggle)\n  .component('chartjs-scatter', chartjsScatter)\n  .component('d3-scatter', d3Scatter)\n  // .component('plot-plotly', PlotDataPlotly)\n  .component('constellation-icon', ConstellationIcon)\n  .component('gallery', Gallery)\n  .component('icon-button', IconButton)\n  .component('funding-acknowledgment', FundingAcknowledgment)\n\n  // Mount\n  .mount(\"#app\");\n","// Polyfill for Array.at\nconst typedArray = Reflect.getPrototypeOf(Int8Array);\nfor (const c of [Array, String, typedArray]) {\n  // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n  // @ts-ignore\n  Object.defineProperty(c.prototype, \"at\",\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    { value: function at(n: any) {\n      // ToInteger() abstract op\n      n = Math.trunc(n) || 0;\n      // Allow negative indexing from the end\n      if (n < 0) n += this.length;\n      // OOB access is guaranteed to return undefined\n      if (n < 0 || n >= this.length) return undefined;\n      // Otherwise, this is just normal property access\n      return this[n];\n    },\n    writable: true,\n    enumerable: false,\n    configurable: true });\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunk_cosmicds_pinwheel_supernova\"] = self[\"webpackChunk_cosmicds_pinwheel_supernova\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], () => (__webpack_require__(3122)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["_hoisted_1","id","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","class","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","key","_hoisted_20","_hoisted_21","style","_hoisted_22","render","_ctx","_cache","$props","$setup","$data","$options","_component_WorldWideTelescope","_component_font_awesome_icon","_component_story_credits","_component_icon_button","_component_gallery","_component_chartjs_scatter","_component_vue_slider","_component_funding_acknowledgment","_component_notifications","cssVars","default","wwtNamespace","lastClosePt","onPointerMove","onPointerUp","onPointerDown","showSplashScreen","absolute","opacity","closeSplashScreen","icon","href","target","rel","_","name","isLoading","modelValue","showTextSheet","$event","color","accentColor","showVideoSheet","centerView","showConstellations","showArrow","width","title","onItemSelected","onItemDeselected","chartVisible","flat","size","reversedY","scatter","line","animation","data","lightCurveData","filter","d","time","getTime","selectedTime","lineData","keys","x","y","xrange","Math","min","dates","map","max","yrange","accentColor2","borderColor","scatterOptions","lineOptions","yAxisOptions","display","text","border","ticks","xAxisOptions","val","chartBounds","onResize","playing","playingImagePath","button","adsorb","included","duration","marks","allDates","imageDates","order","onTimeSliderChange","tooltip","v","toDateString","mark","pos","value","includes","smallSize","interval","tooltipPlacement","currentOpacity","currentLayer","set_opacity","__","transition","fullscreen","tabindex","height","src","frameborder","allow","allowfullscreen","showLocationSelector","getLocation","locationErrorMessage","persistent","scrim","location","tab","dense","grow","revealAnswer","align","cols","label","outlined","touchscreen","group","position","drawSkyOverlays","Settings","get_active","get_showConstellationLabels","Constellations","drawConstellationNames","this","renderContext","Colors","get_yellow","get_showConstellationFigures","WWTControl","constellationsFigures","create","URLHelpers","singleton","engineAssetUrl","draw","get_showAltAzGrid","altAzColor","Color","fromArgb","Grids","drawAltAzGrid","get_showAltAzGridText","drawAltAzGridText","initializeConstellationNames","constellationCentroids","textSize","_namesBatch","Text3dBatch","Object","forEach","centroid","center","Coordinates","raDecTo3dAu","get_RA","get_dec","up","Vector3d","get_name","replace","add","Text3d","makeAltAzGridText","_altAzTextBatch","glyphHeight","sign","SpaceTimeController","get_location","get_lat","alt","directions","drawSpreadSheetLayer","device","version","lastVersion","cleanUp","bufferIsFlat","dirty","prepVertexBuffer","jNow","get_jNow","utcToJulian","baseDate","adjustedScale","scaleFactor","astronomical","_markerScale$1","viewCamera","zoom","triangleList2d","decay","sky","get_astronomical","timeSeries","get_opacity","triangleList","pointList","depthBuffered","showFarSide","get_showFarSide","scale","_plotType$1","drawTextured","SpreadSheetLayer","get__circleTexture$1","texture2d","PushPin","getPushPinTexture","_markerIndex$1","lineList","drawLines","lineList2d","layerManagerDraw","referenceFrame","nested","cosmos","LayerManager","get_allMaps","thisMap","enabled","layers","length","frame","showAsPoint","showOrbitPath","matOld","get_world","matOldNonRotating","get_worldBaseNonRotating","oldNominalRadius","get_nominalRadius","reference","computeFrame","referenceFrameType","set_world","Matrix3d","multiplyMatrix","worldMatrix","set_nominalRadius","meanRadius","layer","layerStart","get_startTime","layerEnd","get_endTime","fadeIn","get_fadeType","get_fadeSpan","fadeOut","fadeOpacity","set_astronomical","set_worldBaseNonRotating","transformWorldPointToPickSpace","wwtControl","worldPoint","backBufferWidth","backBufferHeight","m","get_view","p","Vector2d","vz","get_m13","get_m23","z","get_m33","vx","get_m11","get_m21","get_m31","vy","get_m12","get_m22","get_m32","get_projection","getScreenPosForCoordinates","ra","dec","pt","cartesian","sphericalSkyToCartesian","result","m101DataList","aavsoLightCurve","D2R","PI","R2D","D2H","SECONDS_PER_DAY","MILLISECONDS_PER_DAY","parseCsvTable","csv","index","thisDate","Date","date","Ra","Dec","objectName","bandpass","Bandpass","wtmlName","magnitude","dateString","toUTCString","slice","getUTCHours","getUTCMinutes","toString","padStart","_filename","pngFilename","_index","fullDatesTable","imageDatesTable","aavsoLightCurveTable","timestamp","r","Set","minDate","maxDate","t","push","closest","reduce","a","b","abs","splice","indexOf","sort","extends","MiniDSBase","props","wtml","type","required","String","url","thumbnailUrl","bgWtml","bgName","now","imagesetLayers","layersLoaded","positionSet","imagesetFolder","backgroundImagesets","places","playingIntervalId","playingWaitCount","playCount","showAltAzGrid","showHorizon","outerArrow","innerArrow","m101RADeg","m101DecDeg","arrowAngleDeg","arrowCreated","showSpeadSheetLater","currentCometImageLayer","currentAllLayer","interpolatedDailyTable","imageNames","fromEntries","imageSortBy","imageDateRef","imageDateRefInv","imageDateSorted","accentColor3","aavsoLightCurveData","incomingItemSelect","initialPosition","sheet","showMapTooltip","showTextTooltip","showVideoTooltip","showPlayPauseTooltip","showResetTooltip","showConstellationTooltip","circle","selectionProximity","pointerMoveThreshold","isPointerMoving","pointerStartPosition","timeOfDay","hours","getHours","minutes","getMinutes","seconds","getSeconds","setUTCHours","selectedTimezone","latitudeRad","longitudeRad","mounted","$nextTick","window","addEventListener","waitForReady","then","prototype","loadImageCollection","imageCollection","loadChildFolders","children","get_children","layerPromises","item","Place","imageset","get_backgroundImageset","get_studyImageset","addImageSetLayer","get_url","mode","goto","skyBackgroundImagesets","setClockSync","setTime","dateTime","Promise","all","resetImagesetLayerOrder","splashScreenListener","_event","removeEventListener","event","setBackgroundImageByName","wwtSettings","set_localHorizonMode","set_showAltAzGrid","set_showAltAzGridText","set_showConstellationLabels","set_showConstellationFigures","_drawSkyOverlays","_makeAltAzGridText","_draw","updateWWTLocation","setTimeout","createArrowFunction","createArrow","displayArrow","err","computed","selectedDate","todMs","dayFrac","selectedTimezoneOffset","getTimezoneOffset","ready","$vuetify","smAndDown","mobile","wwtRenderContext","dateForTOD","timezoneOffsetHours","getUTCSeconds","dontSetTime","get","set","_value","selectSheet","video","document","querySelector","pause","methods","getCssVal","element","property","getComputedStyle","getPropertyValue","parseFloat","toolsDiv","getElementById","chartContainer","slider","inputRail","getElementsByClassName","borderWidth","parseInt","inputRailWidth","clientWidth","chartContainerNewWidth","round","borders","left","right","sliderMarginRight","chartContainerMarginRight","marginRight","inputRailBounds","getBoundingClientRect","chartYAxisDelta","bottom","chartYAxisPosition","inputRailMid","top","difference","newMargin","marginBottom","rotatePoint","point","origin","angleDeg","xp","yp","angleRad","cos","sin","m101XY","m101Point","Poly","outerArrowCoordinates","pointRA","centerDec","arrowHalfHeight","stemFraction","headWidth","stemWidth","headBackRA","stemBackRA","topDec","bottomDec","stemHalfHeight","stemTopDec","stemBottomDec","coords","rotatedPoint","rotatedCoords","findRADecForScreenPoint","addPoint","set_lineColor","set_fillColor","set_fill","innerArrowCoordinates","delta","headSlope","innerPointRA","sqrt","innerHeadBackRA","innerStemBackRA","innerTopDec","innerBottomDec","innerStemTopDec","innerStemBottomDec","innerColor","addAnnotation","hideArrow","removeAnnotation","updateArrow","show","clearPlayingInterval","clearInterval","getClosest","arr","prev","curr","nextDate","wrap","next","previousDate","moveOneDayForward","moveOneDayBackward","getUTCMonth","getUTCDate","getUTCFullYear","interpolatedTable","table","findIndex","row","nextRow","deltaT","dayFracPassed","f","interpolatedRA","interpolatedDec","interpolatedRow","assign","columns","setSpreadSheetLayerOrder","get_layerList","get_referenceFrame","currentIndex","updateLayersForDate","deleteLayer","set_locationLat","set_locationLng","logLocation","console","log","logPosition","wwtRARad","wwtDecRad","printUTCDate","blurActiveElement","getImageSetLayerIndex","entries","wwtActiveLayers","Number","k1","k2","setImageSetLayerOrder","getImageSetDate","place","iset","names","setLayerOpacityForImageSet","hideAllImagesets","imageOutOfView","needToZoomIn","gotoRADecZoom","raRad","get_centerX","decRad","get_centerY","zoomDeg","wwtZoomDeg","instant","wwtSmallestFov","w","h","fovH","get_fovAngle","fovW","radecInFOV","center_ra","center_dec","fov","fov_view","fraction_of_place","dist","moveIfTableRowOfFOV","move","checkIfPlaceIsInTheCurrentFOV","isetRa","isetDec","isetFov","get_zoomLevel","curRa","curDec","curFov","factor","viewIsBad","options","showImageForDateTime","updateViewForDate","onOpacityChanged","updateImageOpacity","optionalZoom","onToggle","checked","iname","setupLocationSelector","locationDeg","setView","maxZoom","subdomains","attribution","className","addTo","circleForLocation","doubleClickZoom","disable","on","onMapSelect","e","lngRad","latlng","lng","twoPi","lat","latDeg","lonDeg","fillColor","fillOpacity","radius","startup","timeout","enableHighAccuracy","navigator","geolocation","getCurrentPosition","longitude","latitude","getZoom","_error","msg","$notify","altAzToHADec","altRad","azRad","latRad","atan2","tan","asin","getJulian","utc","year","month","day","hour","minute","second","getUTCMilliseconds","floor","c","jd","mstFromUTC2","longRad","modifiedJD","julianCenturies","mst","horizontalToEquatorial","st","haDec","ha","equatorialToHorizontal","hourAngle","sinAlt","altitude","cosAz","azimuth","acos","createHorizon","when","removeHorizon","n","i","points","raDec","poly","closestPoint","threshold","raDecDeg","minDist","Infinity","closestPt","closestScreenPoint","findScreenPointForRADec","pixelDist","updateLastClosePoint","offsetX","offsetY","needsUpdate","pageX","pageY","cometImageIndex","allIndex","rollRad","wwtRollRad","namefromDate","binarySearch","lo","hi","mid","matchImageSetName","closestDate","setting_opacity_from_ui","selector","el","error","toggleSelector","el2","showImagesetByName","moveTo","imagesetNames","shown","getImagesetByName","_options","updateForDateTime","updateHorizon","setToFirstCometImage","showChart","wwtMove","moveToPlace","fovDeg","watch","_show","_time","loc","oldLoc","remove","newTz","oldTz","newOffset","oldOffset","newHours","play","setInterval","minTime","maxTime","image","count","__exports__","_component_transition_expand","expandable","expanded","thumbnails","items","lastSelectedItem","get_thumbnailUrl","selectItem","showName","displayName","sliders","onSliderInputChanged","lastOpacityChanged","WWTAwareComponent","rootFolder","flexDirection","Boolean","scrolling","startFirstSelected","open","itemNames","sortBy","reversed","originalOrder","opacities","sorted","created","populate","validSortBy","sortItems","cr","showSlider","Imageset","aIndex","bIndex","$emit","Folder","FolderUp","validItemNames","dragging","onToggleImage","scrollToItem","container","offsetTop","clientHeight","scrollHeight","scrollTo","isMobile","test","userAgent","warn","valid","sortKeys","visible","selected","onChange","enter","afterEnter","leave","emits","visibility","requestAnimationFrame","chart","canvasel","Array","maintainAspectRatio","reversedX","hideXAxis","hideYAxis","axisOptions","ResizeObserver","observe","$el","getKey","obj","defaultKey","arrowBorder","afterDatasetsDraw","args","pluginOptions","ctx","save","beginPath","lineWidth","yWidth","strokeStyle","headLength","arrowUpTip","lineTo","stroke","closePath","xWidth","arrowRightTip","defaults","chartOptions","scales","oldChart","getChart","destroy","chartData","plugins","getBounds","isDate","computedData","computedLineData","computedYRange","scatterData","pointStyle","backgroundColor","outData","datasets","responsive","reverse","legend","xmin","getPixelForValue","xmax","ymin","ymax","bounds","values","some","isNaN","emitThis","getBorders","boundary","canvas","chartArea","margins","margin","x0Pixel","selectAll","plot","setProperty","xScale","range","domain","yScale","computedXrange","zero","computedYrange","xAxis","yAxis","svg","append","attr","call","datum","baseProfile","xmlns","viewBox","overflow","fill","selectedStyle","active","computedFillColor","__injectCSSVars__","__setup__","__default__","setup","icons","defaultSet","aliases","sets","mdi","locale","fallback","messages","en","theme","defaultTheme","faConstellation","prefix","iconName","update","binding","M101SN","use","wwtPinia","vuetify","directive","beforeMount","_vnode","_prevVnode","updated","component","WWTComponent","FolderView","Credits","TransitionExpand","Toggle","ConstellationIcon","Gallery","IconButton","FundingAcknowledgment","mount","typedArray","Reflect","getPrototypeOf","Int8Array","defineProperty","trunc","writable","enumerable","configurable","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","deferred","O","chunkIds","fn","priority","notFulfilled","fulfilled","j","every","getter","__esModule","definition","o","g","globalThis","Function","prop","hasOwnProperty","Symbol","toStringTag","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}